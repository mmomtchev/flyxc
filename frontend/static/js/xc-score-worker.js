var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

function unwrapExports (x) {
	return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
}

function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

var index_es = createCommonjsModule(function (module, exports) {

Object.defineProperty(exports, '__esModule', { value: true });

var commonjsGlobal$1 = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : typeof self !== 'undefined' ? self : {};

function createCommonjsModule(fn, module) {
	return module = { exports: {} }, fn(module, module.exports), module.exports;
}

function getCjsExportFromNamespace (n) {
	return n && n['default'] || n;
}

/**
    A utility to reduce unnecessary allocations of <code>function () {}</code>
    in its many colorful variations.  It does nothing and returns
    <code>undefined</code> thus makes a suitable default in some circumstances.

    @function external:Function.noop
*/
Function.noop = function () {
};

/**
    A utility to reduce unnecessary allocations of <code>function (x) {return
    x}</code> in its many colorful but ultimately wasteful parameter name
    variations.

    @function external:Function.identity
    @param {Any} any value
    @returns {Any} that value
*/
Function.identity = function (value) {
    return value;
};

/**
    A utility for creating a comparator function for a particular aspect of a
    figurative class of objects.

    @function external:Function.by
    @param {Function} relation A function that accepts a value and returns a
    corresponding value to use as a representative when sorting that object.
    @param {Function} compare an alternate comparator for comparing the
    represented values.  The default is <code>Object.compare</code>, which
    does a deep, type-sensitive, polymorphic comparison.
    @returns {Function} a comparator that has been annotated with
    <code>by</code> and <code>compare</code> properties so
    <code>sorted</code> can perform a transform that reduces the need to call
    <code>by</code> on each sorted object to just once.
 */
Function.by = function (by , compare) {
    compare = compare || Object.compare;
    by = by || Function.identity;
    var compareBy = function (a, b) {
        return compare(by(a), by(b));
    };
    compareBy.compare = compare;
    compareBy.by = by;
    return compareBy;
};

// TODO document
Function.get = function (key) {
    return function (object) {
        return Object.get(object, key);
    };
};

var genericCollection = GenericCollection;
function GenericCollection() {
    throw new Error("Can't construct. GenericCollection is a mixin.");
}

var DOMTokenList = commonjsGlobal$1.DOMTokenList || function(){};

GenericCollection.EmptyArray = Object.freeze([]);

GenericCollection.prototype.addEach = function (values, mapFn, thisp) {
    //We want to eliminate everything but array like: Strings, Arrays, DOMTokenList
    if(values && (values instanceof Array || (values instanceof DOMTokenList) || values instanceof String)) {
        if(mapFn) {
            for (var i = 0; i < values.length; i++) {
                this.add(mapFn.call(thisp,values[i]), i);
            }
        } else {
            for (var i = 0; i < values.length; i++) {
                this.add(values[i], i);
            }
        }
    }
    else if (values && Object(values) === values) {
        if (typeof values.forEach === "function") {
            if(mapFn) {
                values.map(mapFn, thisp).forEach(this.add, this);
            } else {
                values.forEach(this.add, this);
            }
        } else if(typeof values.next === "function") {
            var value, i=0;
            if(mapFn) {
                while ((value = values.next().value)) {
                    this.add(mapFn.call(thisp,value), i++);
                }
            }
            else {
                while ((value = values.next().value)) {
                    this.add(value, i++);
                }
            }
        } else if (typeof values.length === "number") {
            // Array-like objects that do not implement forEach, ergo,
            // Arguments
            if(mapFn) {
                for (var i = 0; i < values.length; i++) {
                    this.add(mapFn.call(thisp,values[i]), i);
                }
            }
            else {
                for (var i = 0; i < values.length; i++) {
                    this.add(values[i], i);
                }
            }
        } else {
            if(mapFn) {
                Object.keys(values).forEach(function (key) {
                    this.add(mapFn.call(thisp,values[key]), key);
                }, this);
            } else {
                Object.keys(values).forEach(function (key) {
                    this.add(values[key], key);
                }, this);
            }
        }
    }
    return this;
};

// This is sufficiently generic for Map (since the value may be a key)
// and ordered collections (since it forwards the equals argument)
GenericCollection.prototype.deleteEach = function (values, equals) {
    values.forEach(function (value) {
        this["delete"](value, equals);
    }, this);
    return this;
};

// all of the following functions are implemented in terms of "reduce".
// some need "constructClone".

GenericCollection.prototype.forEach = function (callback /*, thisp*/) {
    var thisp = arguments[1];
    return this.reduce(function (undefined$1, value, key, object, depth) {
        callback.call(thisp, value, key, object, depth);
    }, undefined);
};

GenericCollection.prototype.map = function (callback /*, thisp*/) {
    var thisp = arguments[1];
    var result = [];
    this.reduce(function (undefined$1, value, key, object, depth) {
        result.push(callback.call(thisp, value, key, object, depth));
    }, undefined);
    return result;
};

GenericCollection.prototype.enumerate = function (start) {
    if (start == null) {
        start = 0;
    }
    var result = [];
    this.reduce(function (undefined$1, value) {
        result.push([start++, value]);
    }, undefined);
    return result;
};

GenericCollection.prototype.group = function (callback, thisp, equals) {
    equals = equals || Object.equals;
    var groups = [];
    var keys = [];
    this.forEach(function (value, key, object) {
        var key = callback.call(thisp, value, key, object);
        var index = keys.indexOf(key, equals);
        var group;
        if (index === -1) {
            group = [];
            groups.push([key, group]);
            keys.push(key);
        } else {
            group = groups[index][1];
        }
        group.push(value);
    });
    return groups;
};

GenericCollection.prototype.toArray = function () {
    return this.map(Function.identity);
};

// this depends on stringable keys, which apply to Array and Iterator
// because they have numeric keys and all Maps since they may use
// strings as keys.  List, Set, and SortedSet have nodes for keys, so
// toObject would not be meaningful.
GenericCollection.prototype.toObject = function () {
    var object = {};
    this.reduce(function (undefined$1, value, key) {
        object[key] = value;
    }, undefined);
    return object;
};

GenericCollection.from = function () {
    return this.apply(this,arguments);
};

GenericCollection.prototype.filter = function (callback /*, thisp*/) {
    var thisp = arguments[1];
    var result = this.constructClone();
    this.reduce(function (undefined$1, value, key, object, depth) {
        if (callback.call(thisp, value, key, object, depth)) {
            result.add(value, key);
        }
    }, undefined);
    return result;
};

GenericCollection.prototype.every = function (callback /*, thisp*/) {
    var thisp = arguments[1];
    return this.reduce(function (result, value, key, object, depth) {
        return result && callback.call(thisp, value, key, object, depth);
    }, true);
};

GenericCollection.prototype.some = function (callback /*, thisp*/) {
    var thisp = arguments[1];
    return this.reduce(function (result, value, key, object, depth) {
        return result || callback.call(thisp, value, key, object, depth);
    }, false);
};

GenericCollection.prototype.all = function () {
    return this.every(Boolean);
};

GenericCollection.prototype.any = function () {
    return this.some(Boolean);
};

GenericCollection.prototype.min = function (compare) {
    compare = compare || this.contentCompare || Object.compare;
    var first = true;
    return this.reduce(function (result, value) {
        if (first) {
            first = false;
            return value;
        } else {
            return compare(value, result) < 0 ? value : result;
        }
    }, undefined);
};

GenericCollection.prototype.max = function (compare) {
    compare = compare || this.contentCompare || Object.compare;
    var first = true;
    return this.reduce(function (result, value) {
        if (first) {
            first = false;
            return value;
        } else {
            return compare(value, result) > 0 ? value : result;
        }
    }, undefined);
};

GenericCollection.prototype.sum = function (zero) {
    zero = zero === undefined ? 0 : zero;
    return this.reduce(function (a, b) {
        return a + b;
    }, zero);
};

GenericCollection.prototype.average = function (zero) {
    var sum = zero === undefined ? 0 : zero;
    var count = zero === undefined ? 0 : zero;
    this.reduce(function (undefined$1, value) {
        sum += value;
        count += 1;
    }, undefined);
    return sum / count;
};

GenericCollection.prototype.concat = function () {
    var result = this.constructClone(this);
    for (var i = 0; i < arguments.length; i++) {
        result.addEach(arguments[i]);
    }
    return result;
};

GenericCollection.prototype.flatten = function () {
    var self = this;
    return this.reduce(function (result, array) {
        array.forEach(function (value) {
            this.push(value);
        }, result, self);
        return result;
    }, []);
};

GenericCollection.prototype.zip = function () {
    var table = Array.prototype.slice.call(arguments);
    table.unshift(this);
    return Array.unzip(table);
};

GenericCollection.prototype.join = function (delimiter) {
    return this.reduce(function (result, string) {
        // work-around for reduce that does not support no-basis form
        if (result === void 0) {
            return string;
        } else {
            return result + delimiter + string;
        }
    }, void 0);
};

GenericCollection.prototype.sorted = function (compare, by, order) {
    compare = compare || this.contentCompare || Object.compare;
    // account for comparators generated by Function.by
    if (compare.by) {
        by = compare.by;
        compare = compare.compare || this.contentCompare || Object.compare;
    } else {
        by = by || Function.identity;
    }
    if (order === undefined)
        order = 1;
    return this.map(function (item) {
        return {
            by: by(item),
            value: item
        };
    })
    .sort(function (a, b) {
        return compare(a.by, b.by) * order;
    })
    .map(function (pair) {
        return pair.value;
    });
};

GenericCollection.prototype.reversed = function () {
    return this.constructClone(this).reverse();
};

GenericCollection.prototype.clone = function (depth, memo) {
    if (depth === undefined) {
        depth = Infinity;
    } else if (depth === 0) {
        return this;
    }
    var clone = this.constructClone();
    this.forEach(function (value, key) {
        clone.add(Object.clone(value, depth - 1, memo), key);
    }, this);
    return clone;
};

GenericCollection.prototype.only = function () {
    if (this.length === 1) {
        return this.one();
    }
};

GenericCollection.prototype.iterator = function () {
    return this.iterate.apply(this, arguments);
};

GenericCollection._sizePropertyDescriptor = {
    get: function() {
        return this.length;
    },
    enumerable: false,
    configurable: true
};

Object.defineProperty(GenericCollection.prototype,"size",GenericCollection._sizePropertyDescriptor);

var weakMap = createCommonjsModule(function (module) {
// Copyright (C) 2011 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

/**
 * @fileoverview Install a leaky WeakMap emulation on platforms that
 * don't provide a built-in one.
 *
 * <p>Assumes that an ES5 platform where, if {@code WeakMap} is
 * already present, then it conforms to the anticipated ES6
 * specification. To run this file on an ES5 or almost ES5
 * implementation where the {@code WeakMap} specification does not
 * quite conform, run <code>repairES5.js</code> first.
 *
 * <p>Even though WeakMapModule is not global, the linter thinks it
 * is, which is why it is in the overrides list below.
 *
 * <p>NOTE: Before using this WeakMap emulation in a non-SES
 * environment, see the note below about hiddenRecord.
 *
 * @author Mark S. Miller
 * @requires crypto, ArrayBuffer, Uint8Array, navigator, console
 * @overrides WeakMap, ses, Proxy
 * @overrides WeakMapModule
 */

/**
 * This {@code WeakMap} emulation is observably equivalent to the
 * ES-Harmony WeakMap, but with leakier garbage collection properties.
 *
 * <p>As with true WeakMaps, in this emulation, a key does not
 * retain maps indexed by that key and (crucially) a map does not
 * retain the keys it indexes. A map by itself also does not retain
 * the values associated with that map.
 *
 * <p>However, the values associated with a key in some map are
 * retained so long as that key is retained and those associations are
 * not overridden. For example, when used to support membranes, all
 * values exported from a given membrane will live for the lifetime
 * they would have had in the absence of an interposed membrane. Even
 * when the membrane is revoked, all objects that would have been
 * reachable in the absence of revocation will still be reachable, as
 * far as the GC can tell, even though they will no longer be relevant
 * to ongoing computation.
 *
 * <p>The API implemented here is approximately the API as implemented
 * in FF6.0a1 and agreed to by MarkM, Andreas Gal, and Dave Herman,
 * rather than the offially approved proposal page. TODO(erights):
 * upgrade the ecmascript WeakMap proposal page to explain this API
 * change and present to EcmaScript committee for their approval.
 *
 * <p>The first difference between the emulation here and that in
 * FF6.0a1 is the presence of non enumerable {@code get___, has___,
 * set___, and delete___} methods on WeakMap instances to represent
 * what would be the hidden internal properties of a primitive
 * implementation. Whereas the FF6.0a1 WeakMap.prototype methods
 * require their {@code this} to be a genuine WeakMap instance (i.e.,
 * an object of {@code [[Class]]} "WeakMap}), since there is nothing
 * unforgeable about the pseudo-internal method names used here,
 * nothing prevents these emulated prototype methods from being
 * applied to non-WeakMaps with pseudo-internal methods of the same
 * names.
 *
 * <p>Another difference is that our emulated {@code
 * WeakMap.prototype} is not itself a WeakMap. A problem with the
 * current FF6.0a1 API is that WeakMap.prototype is itself a WeakMap
 * providing ambient mutability and an ambient communications
 * channel. Thus, if a WeakMap is already present and has this
 * problem, repairES5.js wraps it in a safe wrappper in order to
 * prevent access to this channel. (See
 * PATCH_MUTABLE_FROZEN_WEAKMAP_PROTO in repairES5.js).
 */

/**
 * If this is a full <a href=
 * "http://code.google.com/p/es-lab/wiki/SecureableES5"
 * >secureable ES5</a> platform and the ES-Harmony {@code WeakMap} is
 * absent, install an approximate emulation.
 *
 * <p>If WeakMap is present but cannot store some objects, use our approximate
 * emulation as a wrapper.
 *
 * <p>If this is almost a secureable ES5 platform, then WeakMap.js
 * should be run after repairES5.js.
 *
 * <p>See {@code WeakMap} for documentation of the garbage collection
 * properties of this WeakMap emulation.
 */
(function WeakMapModule() {

  if (typeof ses !== 'undefined' && ses.ok && !ses.ok()) {
    // already too broken, so give up
    return;
  }

  /**
   * In some cases (current Firefox), we must make a choice betweeen a
   * WeakMap which is capable of using all varieties of host objects as
   * keys and one which is capable of safely using proxies as keys. See
   * comments below about HostWeakMap and DoubleWeakMap for details.
   *
   * This function (which is a global, not exposed to guests) marks a
   * WeakMap as permitted to do what is necessary to index all host
   * objects, at the cost of making it unsafe for proxies.
   *
   * Do not apply this function to anything which is not a genuine
   * fresh WeakMap.
   */
  function weakMapPermitHostObjects(map) {
    // identity of function used as a secret -- good enough and cheap
    if (map.permitHostObjects___) {
      map.permitHostObjects___(weakMapPermitHostObjects);
    }
  }
  if (typeof ses !== 'undefined') {
    ses.weakMapPermitHostObjects = weakMapPermitHostObjects;
  }

  // IE 11 has no Proxy but has a broken WeakMap such that we need to patch
  // it using DoubleWeakMap; this flag tells DoubleWeakMap so.
  var doubleWeakMapCheckSilentFailure = false;

  // Check if there is already a good-enough WeakMap implementation, and if so
  // exit without replacing it.
  if (typeof WeakMap === 'function') {
    var HostWeakMap = WeakMap;
    // There is a WeakMap -- is it good enough?
    if (typeof navigator !== 'undefined' &&
        /Firefox/.test(navigator.userAgent)) ; else {
      // IE 11 bug: WeakMaps silently fail to store frozen objects.
      var testMap = new HostWeakMap();
      var testObject = Object.freeze({});
      testMap.set(testObject, 1);
      if (testMap.get(testObject) !== 1) {
        doubleWeakMapCheckSilentFailure = true;
        // Fall through to installing our WeakMap.
      } else {
        module.exports = WeakMap;
        return;
      }
    }
  }
  var gopn = Object.getOwnPropertyNames;
  var defProp = Object.defineProperty;
  var isExtensible = Object.isExtensible;

  /**
   * Security depends on HIDDEN_NAME being both <i>unguessable</i> and
   * <i>undiscoverable</i> by untrusted code.
   *
   * <p>Given the known weaknesses of Math.random() on existing
   * browsers, it does not generate unguessability we can be confident
   * of.
   *
   * <p>It is the monkey patching logic in this file that is intended
   * to ensure undiscoverability. The basic idea is that there are
   * three fundamental means of discovering properties of an object:
   * The for/in loop, Object.keys(), and Object.getOwnPropertyNames(),
   * as well as some proposed ES6 extensions that appear on our
   * whitelist. The first two only discover enumerable properties, and
   * we only use HIDDEN_NAME to name a non-enumerable property, so the
   * only remaining threat should be getOwnPropertyNames and some
   * proposed ES6 extensions that appear on our whitelist. We monkey
   * patch them to remove HIDDEN_NAME from the list of properties they
   * returns.
   *
   * <p>TODO(erights): On a platform with built-in Proxies, proxies
   * could be used to trap and thereby discover the HIDDEN_NAME, so we
   * need to monkey patch Proxy.create, Proxy.createFunction, etc, in
   * order to wrap the provided handler with the real handler which
   * filters out all traps using HIDDEN_NAME.
   *
   * <p>TODO(erights): Revisit Mike Stay's suggestion that we use an
   * encapsulated function at a not-necessarily-secret name, which
   * uses the Stiegler shared-state rights amplification pattern to
   * reveal the associated value only to the WeakMap in which this key
   * is associated with that value. Since only the key retains the
   * function, the function can also remember the key without causing
   * leakage of the key, so this doesn't violate our general gc
   * goals. In addition, because the name need not be a guarded
   * secret, we could efficiently handle cross-frame frozen keys.
   */
  var HIDDEN_NAME_PREFIX = 'weakmap:';
  var HIDDEN_NAME = HIDDEN_NAME_PREFIX + 'ident:' + Math.random() + '___';

  if (typeof crypto !== 'undefined' &&
      typeof crypto.getRandomValues === 'function' &&
      typeof ArrayBuffer === 'function' &&
      typeof Uint8Array === 'function') {
    var ab = new ArrayBuffer(25);
    var u8s = new Uint8Array(ab);
    crypto.getRandomValues(u8s);
    HIDDEN_NAME = HIDDEN_NAME_PREFIX + 'rand:' +
      Array.prototype.map.call(u8s, function(u8) {
        return (u8 % 36).toString(36);
      }).join('') + '___';
  }

  function isNotHiddenName(name) {
    return !(
        name.substr(0, HIDDEN_NAME_PREFIX.length) == HIDDEN_NAME_PREFIX &&
        name.substr(name.length - 3) === '___');
  }

  /**
   * Monkey patch getOwnPropertyNames to avoid revealing the
   * HIDDEN_NAME.
   *
   * <p>The ES5.1 spec requires each name to appear only once, but as
   * of this writing, this requirement is controversial for ES6, so we
   * made this code robust against this case. If the resulting extra
   * search turns out to be expensive, we can probably relax this once
   * ES6 is adequately supported on all major browsers, iff no browser
   * versions we support at that time have relaxed this constraint
   * without providing built-in ES6 WeakMaps.
   */
  defProp(Object, 'getOwnPropertyNames', {
    value: function fakeGetOwnPropertyNames(obj) {
      return gopn(obj).filter(isNotHiddenName);
    }
  });

  /**
   * getPropertyNames is not in ES5 but it is proposed for ES6 and
   * does appear in our whitelist, so we need to clean it too.
   */
  if ('getPropertyNames' in Object) {
    var originalGetPropertyNames = Object.getPropertyNames;
    defProp(Object, 'getPropertyNames', {
      value: function fakeGetPropertyNames(obj) {
        return originalGetPropertyNames(obj).filter(isNotHiddenName);
      }
    });
  }

  /**
   * <p>To treat objects as identity-keys with reasonable efficiency
   * on ES5 by itself (i.e., without any object-keyed collections), we
   * need to add a hidden property to such key objects when we
   * can. This raises several issues:
   * <ul>
   * <li>Arranging to add this property to objects before we lose the
   *     chance, and
   * <li>Hiding the existence of this new property from most
   *     JavaScript code.
   * <li>Preventing <i>certification theft</i>, where one object is
   *     created falsely claiming to be the key of an association
   *     actually keyed by another object.
   * <li>Preventing <i>value theft</i>, where untrusted code with
   *     access to a key object but not a weak map nevertheless
   *     obtains access to the value associated with that key in that
   *     weak map.
   * </ul>
   * We do so by
   * <ul>
   * <li>Making the name of the hidden property unguessable, so "[]"
   *     indexing, which we cannot intercept, cannot be used to access
   *     a property without knowing the name.
   * <li>Making the hidden property non-enumerable, so we need not
   *     worry about for-in loops or {@code Object.keys},
   * <li>monkey patching those reflective methods that would
   *     prevent extensions, to add this hidden property first,
   * <li>monkey patching those methods that would reveal this
   *     hidden property.
   * </ul>
   * Unfortunately, because of same-origin iframes, we cannot reliably
   * add this hidden property before an object becomes
   * non-extensible. Instead, if we encounter a non-extensible object
   * without a hidden record that we can detect (whether or not it has
   * a hidden record stored under a name secret to us), then we just
   * use the key object itself to represent its identity in a brute
   * force leaky map stored in the weak map, losing all the advantages
   * of weakness for these.
   */
  function getHiddenRecord(key) {
    if (key !== Object(key)) {
      throw new TypeError('Not an object: ' + key);
    }
    var hiddenRecord = key[HIDDEN_NAME];
    if (hiddenRecord && hiddenRecord.key === key) { return hiddenRecord; }
    if (!isExtensible(key)) {
      // Weak map must brute force, as explained in doc-comment above.
      return void 0;
    }

    // The hiddenRecord and the key point directly at each other, via
    // the "key" and HIDDEN_NAME properties respectively. The key
    // field is for quickly verifying that this hidden record is an
    // own property, not a hidden record from up the prototype chain.
    //
    // NOTE: Because this WeakMap emulation is meant only for systems like
    // SES where Object.prototype is frozen without any numeric
    // properties, it is ok to use an object literal for the hiddenRecord.
    // This has two advantages:
    // * It is much faster in a performance critical place
    // * It avoids relying on Object.create(null), which had been
    //   problematic on Chrome 28.0.1480.0. See
    //   https://code.google.com/p/google-caja/issues/detail?id=1687
    hiddenRecord = { key: key };

    // When using this WeakMap emulation on platforms where
    // Object.prototype might not be frozen and Object.create(null) is
    // reliable, use the following two commented out lines instead.
    // hiddenRecord = Object.create(null);
    // hiddenRecord.key = key;

    // Please contact us if you need this to work on platforms where
    // Object.prototype might not be frozen and
    // Object.create(null) might not be reliable.

    try {
      defProp(key, HIDDEN_NAME, {
        value: hiddenRecord,
        writable: false,
        enumerable: false,
        configurable: false
      });
      return hiddenRecord;
    } catch (error) {
      // Under some circumstances, isExtensible seems to misreport whether
      // the HIDDEN_NAME can be defined.
      // The circumstances have not been isolated, but at least affect
      // Node.js v0.10.26 on TravisCI / Linux, but not the same version of
      // Node.js on OS X.
      return void 0;
    }
  }

  /**
   * Monkey patch operations that would make their argument
   * non-extensible.
   *
   * <p>The monkey patched versions throw a TypeError if their
   * argument is not an object, so it should only be done to functions
   * that should throw a TypeError anyway if their argument is not an
   * object.
   */
  (function(){
    var oldFreeze = Object.freeze;
    defProp(Object, 'freeze', {
      value: function identifyingFreeze(obj) {
        getHiddenRecord(obj);
        return oldFreeze(obj);
      }
    });
    var oldSeal = Object.seal;
    defProp(Object, 'seal', {
      value: function identifyingSeal(obj) {
        getHiddenRecord(obj);
        return oldSeal(obj);
      }
    });
    var oldPreventExtensions = Object.preventExtensions;
    defProp(Object, 'preventExtensions', {
      value: function identifyingPreventExtensions(obj) {
        getHiddenRecord(obj);
        return oldPreventExtensions(obj);
      }
    });
  })();

  function constFunc(func) {
    func.prototype = null;
    return Object.freeze(func);
  }

  var calledAsFunctionWarningDone = false;
  function calledAsFunctionWarning() {
    // Future ES6 WeakMap is currently (2013-09-10) expected to reject WeakMap()
    // but we used to permit it and do it ourselves, so warn only.
    if (!calledAsFunctionWarningDone && typeof console !== 'undefined') {
      calledAsFunctionWarningDone = true;
      console.warn('WeakMap should be invoked as new WeakMap(), not ' +
          'WeakMap(). This will be an error in the future.');
    }
  }

  var nextId = 0;

  var OurWeakMap = function() {
    if (!(this instanceof OurWeakMap)) {  // approximate test for new ...()
      calledAsFunctionWarning();
    }

    // We are currently (12/25/2012) never encountering any prematurely
    // non-extensible keys.
    var keys = []; // brute force for prematurely non-extensible keys.
    var values = []; // brute force for corresponding values.
    var id = nextId++;

    function get___(key, opt_default) {
      var index;
      var hiddenRecord = getHiddenRecord(key);
      if (hiddenRecord) {
        return id in hiddenRecord ? hiddenRecord[id] : opt_default;
      } else {
        index = keys.indexOf(key);
        return index >= 0 ? values[index] : opt_default;
      }
    }

    function has___(key) {
      var hiddenRecord = getHiddenRecord(key);
      if (hiddenRecord) {
        return id in hiddenRecord;
      } else {
        return keys.indexOf(key) >= 0;
      }
    }

    function set___(key, value) {
      var index;
      var hiddenRecord = getHiddenRecord(key);
      if (hiddenRecord) {
        hiddenRecord[id] = value;
      } else {
        index = keys.indexOf(key);
        if (index >= 0) {
          values[index] = value;
        } else {
          // Since some browsers preemptively terminate slow turns but
          // then continue computing with presumably corrupted heap
          // state, we here defensively get keys.length first and then
          // use it to update both the values and keys arrays, keeping
          // them in sync.
          index = keys.length;
          values[index] = value;
          // If we crash here, values will be one longer than keys.
          keys[index] = key;
        }
      }
      return this;
    }

    function delete___(key) {
      var hiddenRecord = getHiddenRecord(key);
      var index, lastIndex;
      if (hiddenRecord) {
        return id in hiddenRecord && delete hiddenRecord[id];
      } else {
        index = keys.indexOf(key);
        if (index < 0) {
          return false;
        }
        // Since some browsers preemptively terminate slow turns but
        // then continue computing with potentially corrupted heap
        // state, we here defensively get keys.length first and then use
        // it to update both the keys and the values array, keeping
        // them in sync. We update the two with an order of assignments,
        // such that any prefix of these assignments will preserve the
        // key/value correspondence, either before or after the delete.
        // Note that this needs to work correctly when index === lastIndex.
        lastIndex = keys.length - 1;
        keys[index] = void 0;
        // If we crash here, there's a void 0 in the keys array, but
        // no operation will cause a "keys.indexOf(void 0)", since
        // getHiddenRecord(void 0) will always throw an error first.
        values[index] = values[lastIndex];
        // If we crash here, values[index] cannot be found here,
        // because keys[index] is void 0.
        keys[index] = keys[lastIndex];
        // If index === lastIndex and we crash here, then keys[index]
        // is still void 0, since the aliasing killed the previous key.
        keys.length = lastIndex;
        // If we crash here, keys will be one shorter than values.
        values.length = lastIndex;
        return true;
      }
    }

    return Object.create(OurWeakMap.prototype, {
      get___:    { value: constFunc(get___) },
      has___:    { value: constFunc(has___) },
      set___:    { value: constFunc(set___) },
      delete___: { value: constFunc(delete___) }
    });
  };

  OurWeakMap.prototype = Object.create(Object.prototype, {
    get: {
      /**
       * Return the value most recently associated with key, or
       * opt_default if none.
       */
      value: function get(key, opt_default) {
        return this.get___(key, opt_default);
      },
      writable: true,
      configurable: true
    },

    has: {
      /**
       * Is there a value associated with key in this WeakMap?
       */
      value: function has(key) {
        return this.has___(key);
      },
      writable: true,
      configurable: true
    },

    set: {
      /**
       * Associate value with key in this WeakMap, overwriting any
       * previous association if present.
       */
      value: function set(key, value) {
        return this.set___(key, value);
      },
      writable: true,
      configurable: true
    },

    'delete': {
      /**
       * Remove any association for key in this WeakMap, returning
       * whether there was one.
       *
       * <p>Note that the boolean return here does not work like the
       * {@code delete} operator. The {@code delete} operator returns
       * whether the deletion succeeds at bringing about a state in
       * which the deleted property is absent. The {@code delete}
       * operator therefore returns true if the property was already
       * absent, whereas this {@code delete} method returns false if
       * the association was already absent.
       */
      value: function remove(key) {
        return this.delete___(key);
      },
      writable: true,
      configurable: true
    }
  });

  if (typeof HostWeakMap === 'function') {
    (function() {
      // If we got here, then the platform has a WeakMap but we are concerned
      // that it may refuse to store some key types. Therefore, make a map
      // implementation which makes use of both as possible.

      // In this mode we are always using double maps, so we are not proxy-safe.
      // This combination does not occur in any known browser, but we had best
      // be safe.
      if (doubleWeakMapCheckSilentFailure && typeof Proxy !== 'undefined') {
        Proxy = undefined;
      }

      function DoubleWeakMap() {
        if (!(this instanceof OurWeakMap)) {  // approximate test for new ...()
          calledAsFunctionWarning();
        }

        // Preferable, truly weak map.
        var hmap = new HostWeakMap();

        // Our hidden-property-based pseudo-weak-map. Lazily initialized in the
        // 'set' implementation; thus we can avoid performing extra lookups if
        // we know all entries actually stored are entered in 'hmap'.
        var omap = undefined;

        // Hidden-property maps are not compatible with proxies because proxies
        // can observe the hidden name and either accidentally expose it or fail
        // to allow the hidden property to be set. Therefore, we do not allow
        // arbitrary WeakMaps to switch to using hidden properties, but only
        // those which need the ability, and unprivileged code is not allowed
        // to set the flag.
        //
        // (Except in doubleWeakMapCheckSilentFailure mode in which case we
        // disable proxies.)
        var enableSwitching = false;

        function dget(key, opt_default) {
          if (omap) {
            return hmap.has(key) ? hmap.get(key)
                : omap.get___(key, opt_default);
          } else {
            return hmap.get(key, opt_default);
          }
        }

        function dhas(key) {
          return hmap.has(key) || (omap ? omap.has___(key) : false);
        }

        var dset;
        if (doubleWeakMapCheckSilentFailure) {
          dset = function(key, value) {
            hmap.set(key, value);
            if (!hmap.has(key)) {
              if (!omap) { omap = new OurWeakMap(); }
              omap.set(key, value);
            }
            return this;
          };
        } else {
          dset = function(key, value) {
            if (enableSwitching) {
              try {
                hmap.set(key, value);
              } catch (e) {
                if (!omap) { omap = new OurWeakMap(); }
                omap.set___(key, value);
              }
            } else {
              hmap.set(key, value);
            }
            return this;
          };
        }

        function ddelete(key) {
          var result = !!hmap['delete'](key);
          if (omap) { return omap.delete___(key) || result; }
          return result;
        }

        return Object.create(OurWeakMap.prototype, {
          get___:    { value: constFunc(dget) },
          has___:    { value: constFunc(dhas) },
          set___:    { value: constFunc(dset) },
          delete___: { value: constFunc(ddelete) },
          permitHostObjects___: { value: constFunc(function(token) {
            if (token === weakMapPermitHostObjects) {
              enableSwitching = true;
            } else {
              throw new Error('bogus call to permitHostObjects___');
            }
          })}
        });
      }
      DoubleWeakMap.prototype = OurWeakMap.prototype;
      module.exports = DoubleWeakMap;

      // define .constructor to hide OurWeakMap ctor
      Object.defineProperty(WeakMap.prototype, 'constructor', {
        value: WeakMap,
        enumerable: false,  // as default .constructor is
        configurable: true,
        writable: true
      });
    })();
  } else {
    // There is no host WeakMap, so we must use the emulation.

    // Emulated WeakMaps are incompatible with native proxies (because proxies
    // can observe the hidden name), so we must disable Proxy usage (in
    // ArrayLike and Domado, currently).
    if (typeof Proxy !== 'undefined') {
      Proxy = undefined;
    }

    module.exports = OurWeakMap;
  }
})();
});

var weakMap$1 = (typeof WeakMap !== 'undefined') ? WeakMap : weakMap;

var shimObject = Object;

/*
    Based in part on extras from Motorola Mobility’s Montage
    Copyright (c) 2012, Motorola Mobility LLC. All Rights Reserved.
    3-Clause BSD License
    https://github.com/motorola-mobility/montage/blob/master/LICENSE.md
*/

/**
    Defines extensions to intrinsic <code>Object</code>.
    @see [Object class]{@link external:Object}
*/

/**
    A utility object to avoid unnecessary allocations of an empty object
    <code>{}</code>.  This object is frozen so it is safe to share.

    @object external:Object.empty
*/
Object.empty = Object.freeze(Object.create(null));

/**
    Returns whether the given value is an object, as opposed to a value.
    Unboxed numbers, strings, true, false, undefined, and null are not
    objects.  Arrays are objects.

    @function external:Object.isObject
    @param {Any} value
    @returns {Boolean} whether the given value is an object
*/
Object.isObject = function (object) {
    return Object(object) === object;
};

/**
    Returns the value of an any value, particularly objects that
    implement <code>valueOf</code>.

    <p>Note that, unlike the precedent of methods like
    <code>Object.equals</code> and <code>Object.compare</code> would suggest,
    this method is named <code>Object.getValueOf</code> instead of
    <code>valueOf</code>.  This is a delicate issue, but the basis of this
    decision is that the JavaScript runtime would be far more likely to
    accidentally call this method with no arguments, assuming that it would
    return the value of <code>Object</code> itself in various situations,
    whereas <code>Object.equals(Object, null)</code> protects against this case
    by noting that <code>Object</code> owns the <code>equals</code> property
    and therefore does not delegate to it.

    @function external:Object.getValueOf
    @param {Any} value a value or object wrapping a value
    @returns {Any} the primitive value of that object, if one exists, or passes
    the value through
*/
Object.getValueOf = function (value) {
    if (value && typeof value.valueOf === "function") {
        value = value.valueOf();
    }
    return value;
};

var hashMap = new weakMap$1();
Object.hash = function (object) {
    if (object && typeof object.hash === "function") {
        return "" + object.hash();
    } else if (Object(object) === object) {
        if (!hashMap.has(object)) {
            hashMap.set(object, Math.random().toString(36).slice(2));
        }
        return hashMap.get(object);
    } else {
        return "" + object;
    }
};

/**
    A shorthand for <code>Object.prototype.hasOwnProperty.call(object,
    key)</code>.  Returns whether the object owns a property for the given key.
    It does not consult the prototype chain and works for any string (including
    "hasOwnProperty") except "__proto__".

    @function external:Object.owns
    @param {Object} object
    @param {String} key
    @returns {Boolean} whether the object owns a property wfor the given key.
*/
var owns = Object.prototype.hasOwnProperty;
Object.owns = function (object, key) {
    return owns.call(object, key);
};

/**
    A utility that is like Object.owns but is also useful for finding
    properties on the prototype chain, provided that they do not refer to
    methods on the Object prototype.  Works for all strings except "__proto__".

    <p>Alternately, you could use the "in" operator as long as the object
    descends from "null" instead of the Object.prototype, as with
    <code>Object.create(null)</code>.  However,
    <code>Object.create(null)</code> only works in fully compliant EcmaScript 5
    JavaScript engines and cannot be faithfully shimmed.

    <p>If the given object is an instance of a type that implements a method
    named "has", this function defers to the collection, so this method can be
    used to generically handle objects, arrays, or other collections.  In that
    case, the domain of the key depends on the instance.

    @param {Object} object
    @param {String} key
    @returns {Boolean} whether the object, or any of its prototypes except
    <code>Object.prototype</code>
    @function external:Object.has
*/
Object.has = function (object, key) {
    if (typeof object !== "object") {
        throw new Error("Object.has can't accept non-object: " + typeof object);
    }
    // forward to mapped collections that implement "has"
    if (object && typeof object.has === "function") {
        return object.has(key);
    // otherwise report whether the key is on the prototype chain,
    // as long as it is not one of the methods on object.prototype
    } else if (typeof key === "string") {
        return key in object && object[key] !== Object.prototype[key];
    } else {
        throw new Error("Key must be a string for Object.has on plain objects");
    }
};

/**
    Gets the value for a corresponding key from an object.

    <p>Uses Object.has to determine whether there is a corresponding value for
    the given key.  As such, <code>Object.get</code> is capable of retriving
    values from the prototype chain as long as they are not from the
    <code>Object.prototype</code>.

    <p>If there is no corresponding value, returns the given default, which may
    be <code>undefined</code>.

    <p>If the given object is an instance of a type that implements a method
    named "get", this function defers to the collection, so this method can be
    used to generically handle objects, arrays, or other collections.  In that
    case, the domain of the key depends on the implementation.  For a `Map`,
    for example, the key might be any object.

    @param {Object} object
    @param {String} key
    @param {Any} value a default to return, <code>undefined</code> if omitted
    @returns {Any} value for key, or default value
    @function external:Object.get
*/
Object.get = function (object, key, value) {
    if (typeof object !== "object") {
        throw new Error("Object.get can't accept non-object: " + typeof object);
    }
    // forward to mapped collections that implement "get"
    if (object && typeof object.get === "function") {
        return object.get(key, value);
    } else if (Object.has(object, key)) {
        return object[key];
    } else {
        return value;
    }
};

/**
    Sets the value for a given key on an object.

    <p>If the given object is an instance of a type that implements a method
    named "set", this function defers to the collection, so this method can be
    used to generically handle objects, arrays, or other collections.  As such,
    the key domain varies by the object type.

    @param {Object} object
    @param {String} key
    @param {Any} value
    @returns <code>undefined</code>
    @function external:Object.set
*/
Object.set = function (object, key, value) {
    if (object && typeof object.set === "function") {
        object.set(key, value);
    } else {
        object[key] = value;
    }
};

Object.addEach = function (target, source, overrides) {
    var overridesExistingProperty = arguments.length === 3 ? overrides : true;
    if (!source) ; else if (typeof source.forEach === "function" && !source.hasOwnProperty("forEach")) {
        // copy map-alikes
        if (source.isMap === true) {
            source.forEach(function (value, key) {
                target[key] = value;
            });
        // iterate key value pairs of other iterables
        } else {
            source.forEach(function (pair) {
                target[pair[0]] = pair[1];
            });
        }
    } else if (typeof source.length === "number") {
        // arguments, strings
        for (var index = 0; index < source.length; index++) {
            target[index] = source[index];
        }
    } else {
        // copy other objects as map-alikes
        for(var keys = Object.keys(source), i = 0, key;(key = keys[i]); i++) {
            if(overridesExistingProperty || !Object.owns(target,key)) {
                target[key] = source[key];
            }
        }
    }
    return target;
};


/*
var defineEach = function defineEach(target, prototype) {
    // console.log("Map defineEach: ",Object.keys(prototype));
    var proto = Map.prototype;
    for (var name in prototype) {
        if(!proto.hasOwnProperty(name)) {
            Object.defineProperty(proto, name, {
                value: prototype[name],
                writable: writable,
                configurable: configurable,
                enumerable: enumerable
            });
        }
    }
}
*/
Object.defineEach = function (target, source, overrides, configurable, enumerable, writable) {
    var overridesExistingProperty = arguments.length === 3 ? overrides : true;
    if (!source) ; else if (typeof source.forEach === "function" && !source.hasOwnProperty("forEach")) {
        // copy map-alikes
        if (source.isMap === true) {
            source.forEach(function (value, key) {
                Object.defineProperty(target, key, {
                    value: value,
                    writable: writable,
                    configurable: configurable,
                    enumerable: enumerable
                });
            });
        // iterate key value pairs of other iterables
        } else {
            source.forEach(function (pair) {
                Object.defineProperty(target, pair[0], {
                    value: pair[1],
                    writable: writable,
                    configurable: configurable,
                    enumerable: enumerable
                });

            });
        }
    } else if (typeof source.length === "number") {
        // arguments, strings
        for (var index = 0; index < source.length; index++) {
            Object.defineProperty(target, index, {
                value: source[index],
                writable: writable,
                configurable: configurable,
                enumerable: enumerable
            });

        }
    } else {
        // copy other objects as map-alikes
        for(var keys = Object.keys(source), i = 0, key;(key = keys[i]); i++) {
            if(overridesExistingProperty || !Object.owns(target,key)) {
                Object.defineProperty(target, key, {
                    value: source[key],
                    writable: writable,
                    configurable: configurable,
                    enumerable: enumerable
                });

            }
        }
    }
    return target;
};

/**
    Iterates over the owned properties of an object.

    @function external:Object.forEach
    @param {Object} object an object to iterate.
    @param {Function} callback a function to call for every key and value
    pair in the object.  Receives <code>value</code>, <code>key</code>,
    and <code>object</code> as arguments.
    @param {Object} thisp the <code>this</code> to pass through to the
    callback
*/
Object.forEach = function (object, callback, thisp) {

    var keys = Object.keys(object), i = 0, iKey;
    for(;(iKey = keys[i]);i++) {
        callback.call(thisp, object[iKey], iKey, object);
    }

};

/**
    Iterates over the owned properties of a map, constructing a new array of
    mapped values.

    @function external:Object.map
    @param {Object} object an object to iterate.
    @param {Function} callback a function to call for every key and value
    pair in the object.  Receives <code>value</code>, <code>key</code>,
    and <code>object</code> as arguments.
    @param {Object} thisp the <code>this</code> to pass through to the
    callback
    @returns {Array} the respective values returned by the callback for each
    item in the object.
*/
Object.map = function (object, callback, thisp) {
    var keys = Object.keys(object), i = 0, result = [], iKey;
    for(;(iKey = keys[i]);i++) {
        result.push(callback.call(thisp, object[iKey], iKey, object));
    }
    return result;
};

/**
    Returns the values for owned properties of an object.

    @function external:Object.map
    @param {Object} object
    @returns {Array} the respective value for each owned property of the
    object.
*/
Object.values = function (object) {
    return Object.map(object, Function.identity);
};

// TODO inline document concat
Object.concat = function () {
    var object = {};
    for (var i = 0; i < arguments.length; i++) {
        Object.addEach(object, arguments[i]);
    }
    return object;
};

Object.from = Object.concat;

/**
    Returns whether two values are identical.  Any value is identical to itself
    and only itself.  This is much more restictive than equivalence and subtly
    different than strict equality, <code>===</code> because of edge cases
    including negative zero and <code>NaN</code>.  Identity is useful for
    resolving collisions among keys in a mapping where the domain is any value.
    This method does not delgate to any method on an object and cannot be
    overridden.
    @see http://wiki.ecmascript.org/doku.php?id=harmony:egal
    @param {Any} this
    @param {Any} that
    @returns {Boolean} whether this and that are identical
    @function external:Object.is
*/
Object.is = function (x, y) {
    if (x === y) {
        // 0 === -0, but they are not identical
        return x !== 0 || 1 / x === 1 / y;
    }
    // NaN !== NaN, but they are identical.
    // NaNs are the only non-reflexive value, i.e., if x !== x,
    // then x is a NaN.
    // isNaN is broken: it converts its argument to number, so
    // isNaN("foo") => true
    return x !== x && y !== y;
};

/**
    Performs a polymorphic, type-sensitive deep equivalence comparison of any
    two values.

    <p>As a basic principle, any value is equivalent to itself (as in
    identity), any boxed version of itself (as a <code>new Number(10)</code> is
    to 10), and any deep clone of itself.

    <p>Equivalence has the following properties:

    <ul>
        <li><strong>polymorphic:</strong>
            If the given object is an instance of a type that implements a
            methods named "equals", this function defers to the method.  So,
            this function can safely compare any values regardless of type,
            including undefined, null, numbers, strings, any pair of objects
            where either implements "equals", or object literals that may even
            contain an "equals" key.
        <li><strong>type-sensitive:</strong>
            Incomparable types are not equal.  No object is equivalent to any
            array.  No string is equal to any other number.
        <li><strong>deep:</strong>
            Collections with equivalent content are equivalent, recursively.
        <li><strong>equivalence:</strong>
            Identical values and objects are equivalent, but so are collections
            that contain equivalent content.  Whether order is important varies
            by type.  For Arrays and lists, order is important.  For Objects,
            maps, and sets, order is not important.  Boxed objects are mutally
            equivalent with their unboxed values, by virtue of the standard
            <code>valueOf</code> method.
    </ul>
    @param this
    @param that
    @returns {Boolean} whether the values are deeply equivalent
    @function external:Object.equals
*/
Object.equals = function (a, b, equals, memo) {
    equals = equals || Object.equals;
    //console.log("Object.equals: a:",a, "b:",b, "equals:",equals);
    // unbox objects, but do not confuse object literals
    a = Object.getValueOf(a);
    b = Object.getValueOf(b);
    if (a === b)
        return true;
    if (Object.isObject(a)) {
        memo = memo || new weakMap$1();
        if (memo.has(a)) {
            return true;
        }
        memo.set(a, true);
    }
    if (Object.isObject(a) && typeof a.equals === "function") {
        return a.equals(b, equals, memo);
    }
    // commutative
    if (Object.isObject(b) && typeof b.equals === "function") {
        return b.equals(a, equals, memo);
    }
    if (Object.isObject(a) && Object.isObject(b)) {
        if (Object.getPrototypeOf(a) === Object.prototype && Object.getPrototypeOf(b) === Object.prototype) {
            for (var name in a) {
                if (!equals(a[name], b[name], equals, memo)) {
                    return false;
                }
            }
            for (var name in b) {
                if (!(name in a) || !equals(b[name], a[name], equals, memo)) {
                    return false;
                }
            }
            return true;
        }
    }
    // NaN !== NaN, but they are equal.
    // NaNs are the only non-reflexive value, i.e., if x !== x,
    // then x is a NaN.
    // isNaN is broken: it converts its argument to number, so
    // isNaN("foo") => true
    // We have established that a !== b, but if a !== a && b !== b, they are
    // both NaN.
    if (a !== a && b !== b)
        return true;
    if (!a || !b)
        return a === b;
    return false;
};

// Because a return value of 0 from a `compare` function  may mean either
// "equals" or "is incomparable", `equals` cannot be defined in terms of
// `compare`.  However, `compare` *can* be defined in terms of `equals` and
// `lessThan`.  Again however, more often it would be desirable to implement
// all of the comparison functions in terms of compare rather than the other
// way around.

/**
    Determines the order in which any two objects should be sorted by returning
    a number that has an analogous relationship to zero as the left value to
    the right.  That is, if the left is "less than" the right, the returned
    value will be "less than" zero, where "less than" may be any other
    transitive relationship.

    <p>Arrays are compared by the first diverging values, or by length.

    <p>Any two values that are incomparable return zero.  As such,
    <code>equals</code> should not be implemented with <code>compare</code>
    since incomparability is indistinguishable from equality.

    <p>Sorts strings lexicographically.  This is not suitable for any
    particular international setting.  Different locales sort their phone books
    in very different ways, particularly regarding diacritics and ligatures.

    <p>If the given object is an instance of a type that implements a method
    named "compare", this function defers to the instance.  The method does not
    need to be an owned property to distinguish it from an object literal since
    object literals are incomparable.  Unlike <code>Object</code> however,
    <code>Array</code> implements <code>compare</code>.

    @param {Any} left
    @param {Any} right
    @returns {Number} a value having the same transitive relationship to zero
    as the left and right values.
    @function external:Object.compare
*/
Object.compare = function (a, b) {
    // unbox objects, but do not confuse object literals
    // mercifully handles the Date case
    a = Object.getValueOf(a);
    b = Object.getValueOf(b);
    if (a === b)
        return 0;
    var aType = typeof a;
    var bType = typeof b;
    if (aType === "number" && bType === "number")
        return a - b;
    if (aType === "string" && bType === "string")
        return a < b ? -Infinity : Infinity;
        // the possibility of equality elimiated above
    if (a && typeof a.compare === "function")
        return a.compare(b);
    // not commutative, the relationship is reversed
    if (b && typeof b.compare === "function")
        return -b.compare(a);
    return 0;
};

/**
    Creates a deep copy of any value.  Values, being immutable, are
    returned without alternation.  Forwards to <code>clone</code> on
    objects and arrays.

    @function external:Object.clone
    @param {Any} value a value to clone
    @param {Number} depth an optional traversal depth, defaults to infinity.
    A value of <code>0</code> means to make no clone and return the value
    directly.
    @param {Map} memo an optional memo of already visited objects to preserve
    reference cycles.  The cloned object will have the exact same shape as the
    original, but no identical objects.  Te map may be later used to associate
    all objects in the original object graph with their corresponding member of
    the cloned graph.
    @returns a copy of the value
*/
Object.clone = function (value, depth, memo) {
    value = Object.getValueOf(value);
    memo = memo || new weakMap$1();
    if (depth === undefined) {
        depth = Infinity;
    } else if (depth === 0) {
        return value;
    }
    if (Object.isObject(value)) {
        if (!memo.has(value)) {
            if (value && typeof value.clone === "function") {
                memo.set(value, value.clone(depth, memo));
            } else {
                var prototype = Object.getPrototypeOf(value);
                if (prototype === null || prototype === Object.prototype) {
                    var clone = Object.create(prototype);
                    memo.set(value, clone);
                    for (var key in value) {
                        clone[key] = Object.clone(value[key], depth - 1, memo);
                    }
                } else {
                    throw new Error("Can't clone " + value);
                }
            }
        }
        return memo.get(value);
    }
    return value;
};

/**
    Removes all properties owned by this object making the object suitable for
    reuse.

    @function external:Object.clear
    @returns this
*/
Object.clear = function (object) {
    if (object && typeof object.clear === "function") {
        object.clear();
    } else {
        var keys = Object.keys(object),
            i = keys.length;
        while (i) {
            i--;
            delete object[keys[i]];
        }
    }
    return object;
};

var genericOrder = GenericOrder;
function GenericOrder() {
    throw new Error("Can't construct. GenericOrder is a mixin.");
}

GenericOrder.prototype.equals = function (that, equals) {
    equals = equals || this.contentEquals || shimObject.equals;

    if (this === that) {
        return true;
    }
    if (!that) {
        return false;
    }
    return (
        this.length === that.length &&
        this.zip(that).every(function (pair) {
            return equals(pair[0], pair[1]);
        })
    );
};

GenericOrder.prototype.compare = function (that, compare) {
    compare = compare || this.contentCompare || shimObject.compare;

    if (this === that) {
        return 0;
    }
    if (!that) {
        return 1;
    }

    var length = Math.min(this.length, that.length);
    var comparison = this.zip(that).reduce(function (comparison, pair, index) {
        if (comparison === 0) {
            if (index >= length) {
                return comparison;
            } else {
                return compare(pair[0], pair[1]);
            }
        } else {
            return comparison;
        }
    }, 0);
    if (comparison === 0) {
        return this.length - that.length;
    }
    return comparison;
};

GenericOrder.prototype.toJSON = function () {
    return this.toArray();
};

var array_splice = Array.prototype.splice;
var array_slice = Array.prototype.slice;

Array.empty = [];

if (Object.freeze) {
    Object.freeze(Array.empty);
}

Array.nativeFrom = Array.from;

Array.from = function (values, mapFn, thisArg) {
    if(Symbol && values && typeof values[Symbol.iterator] === "function") {
        return Array.nativeFrom(values, mapFn, thisArg);
    }
    //Now we add support for values that implement forEach:
    var array = [];
    array.addEach(values);
    return array;
};

Array.unzip = function (table) {
    var transpose = [];
    var length = Infinity;
    // compute shortest row
    for (var i = 0; i < table.length; i++) {
        var row = table[i];
        table[i] = row.toArray();
        if (row.length < length) {
            length = row.length;
        }
    }
    for (var i = 0; i < table.length; i++) {
        var row = table[i];
        for (var j = 0; j < row.length; j++) {
            if (j < length && j in row) {
                transpose[j] = transpose[j] || [];
                transpose[j][i] = row[j];
            }
        }
    }
    return transpose;
};

function define(key, value) {
    Object.defineProperty(Array.prototype, key, {
        value: value,
        writable: true,
        configurable: true,
        enumerable: false
    });
}

define("addEach", genericCollection.prototype.addEach);
define("deleteEach", genericCollection.prototype.deleteEach);
define("toArray", genericCollection.prototype.toArray);
define("toObject", genericCollection.prototype.toObject);
define("all", genericCollection.prototype.all);
define("any", genericCollection.prototype.any);
define("min", genericCollection.prototype.min);
define("max", genericCollection.prototype.max);
define("sum", genericCollection.prototype.sum);
define("average", genericCollection.prototype.average);
define("only", genericCollection.prototype.only);
define("flatten", genericCollection.prototype.flatten);
define("zip", genericCollection.prototype.zip);
define("enumerate", genericCollection.prototype.enumerate);
define("group", genericCollection.prototype.group);
define("sorted", genericCollection.prototype.sorted);
define("reversed", genericCollection.prototype.reversed);

define("constructClone", function (values) {
    var clone = new this.constructor();
    clone.addEach(values);
    return clone;
});

define("has", function (value, equals) {
    return this.findValue(value, equals) !== -1;
});

define("get", function (index, defaultValue) {
    if (+index !== index) {
        throw new Error("Indicies must be numbers");
    } else if (!index in this) {
        return defaultValue;
    } else {
        return this[index];
    }
});

define("set", function (index, value) {
    this[index] = value;
    return true;
});

define("add", function (value) {
    this.push(value);
    return true;
});

define("delete", function (value, equals) {
    var index = this.findValue(value, equals);
    if (index !== -1) {
        this.spliceOne(index);
        return true;
    }
    return false;
});

define("deleteAll", function (value, equals) {
    equals = equals || this.contentEquals || Object.equals;
    var count = 0;
    for (var index = 0; index < this.length;) {
        if (equals(value, this[index])) {
            this.swap(index, 1);
            count++;
        } else {
            index++;
        }
    }
    return count;
});

// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find
// https://tc39.github.io/ecma262/#sec-array.prototype.find
if (!Array.prototype.find) {
    define("find", function(predicate) {
        // 1. Let O be ? ToObject(this value).
        if (this == null) {
            throw new TypeError('"this" is null or not defined');
        }

        var o = Object(this);

        // 2. Let len be ? ToLength(? Get(O, "length")).
        var len = o.length >>> 0;

        // 3. If IsCallable(predicate) is false, throw a TypeError exception.
        if (typeof predicate !== 'function') {
            throw new TypeError('predicate must be a function');
        }

        // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.
        var thisArg = arguments[1];

        // 5. Let k be 0.
        var k = 0;

        // 6. Repeat, while k < len
        while (k < len) {
            // a. Let Pk be ! ToString(k).
            // b. Let kValue be ? Get(O, Pk).
            // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).
            // d. If testResult is true, return kValue.
            var kValue = o[k];
            if (predicate.call(thisArg, kValue, k, o)) {
                return kValue;
            }
            // e. Increase k by 1.
            k++;
        }
    });
}

// TODO remove in v6 (not present in v2)
var deprecatedWarnNonce = {};
function deprecatedWarn(msg, notOnce) {
    if (
        typeof console !== 'undefined' &&
            typeof console.warn === 'function' &&
                (notOnce !== true && deprecatedWarnNonce.hasOwnProperty(msg) === false)
    ) {
        console.warn(msg);
        deprecatedWarnNonce[msg]++;
    }
}

// Save Array.prototype.find in order to support legacy and display warning.
// TODO remove in v6 (not present in v2)
var ArrayFindPrototype = Object.getOwnPropertyDescriptor(Array.prototype, 'find').value;
define("find", function (value, equals, index) {
    if (
        typeof arguments[0] === 'function' &&
            this instanceof Array
    ) {
        return ArrayFindPrototype.apply(this, arguments);
    } else {
        deprecatedWarn('Array#find usage is deprecated please use Array#findValue');
        return this.findValue.apply(this, arguments);
    }
});

define("findValue", function (value, equals, index) {
    if (index) {
        throw new Error("Array#findValue does not support third argument: index");
    }
    equals = equals || this.contentEquals || Object.equals;
    for (var index = 0; index < this.length; index++) {
        if (index in this && equals(value, this[index])) {
            return index;
        }
    }
    return -1;
});

// TODO remove in v6 (not present in v2)
define("findLast", function (value, equals) {
    deprecatedWarn('Array#findLast function is deprecated please use Array#findLastValue instead.');
    return this.findLastValue.apply(this, arguments);
});

define("findLastValue", function (value, equals) {
    equals = equals || this.contentEquals || Object.equals;
    var index = this.length;
    do {
        index--;
        if (index in this && equals(this[index], value)) {
            return index;
        }
    } while (index > 0);
    return -1;
});

define("swap", function (start, length, plus) {
    var args, plusLength, i, j, returnValue;
    if (start > this.length) {
        this.length = start;
    }
    if (typeof plus !== "undefined") {
        args = [start, length];
        if (!Array.isArray(plus)) {
            plus = array_slice.call(plus);
        }
        i = 0;
        plusLength = plus.length;
        // 1000 is a magic number, presumed to be smaller than the remaining
        // stack length. For swaps this small, we take the fast path and just
        // use the underlying Array splice. We could measure the exact size of
        // the remaining stack using a try/catch around an unbounded recursive
        // function, but this would defeat the purpose of short-circuiting in
        // the common case.
        if (plusLength < 1000) {
            for (i; i < plusLength; i++) {
                args[i+2] = plus[i];
            }
            return array_splice.apply(this, args);
        } else {
            // Avoid maximum call stack error.
            // First delete the desired entries.
            returnValue = array_splice.apply(this, args);
            // Second batch in 1000s.
            for (i; i < plusLength;) {
                args = [start+i, 0];
                for (j = 2; j < 1002 && i < plusLength; j++, i++) {
                    args[j] = plus[i];
                }
                array_splice.apply(this, args);
            }
            return returnValue;
        }
    // using call rather than apply to cut down on transient objects
    } else if (typeof length !== "undefined") {
        return array_splice.call(this, start, length);
    }  else if (typeof start !== "undefined") {
        return array_splice.call(this, start);
    } else {
        return [];
    }
});

define("peek", function () {
    return this[0];
});

define("poke", function (value) {
    if (this.length > 0) {
        this[0] = value;
    }
});

define("peekBack", function () {
    if (this.length > 0) {
        return this[this.length - 1];
    }
});

define("pokeBack", function (value) {
    if (this.length > 0) {
        this[this.length - 1] = value;
    }
});

define("one", function () {
    for (var i in this) {
        if (Object.owns(this, i)) {
            return this[i];
        }
    }
});

if (!Array.prototype.clear) {
    define("clear", function () {
        this.length = 0;
        return this;
    });
}

define("compare", function (that, compare) {
    compare = compare || Object.compare;
    var i;
    var length;
    var lhs;
    var rhs;
    var relative;

    if (this === that) {
        return 0;
    }

    if (!that || !Array.isArray(that)) {
        return genericOrder.prototype.compare.call(this, that, compare);
    }

    length = (this.length < that.length) ? this.length : that.length;

    for (i = 0; i < length; i++) {
        if (i in this) {
            if (!(i in that)) {
                return -1;
            } else {
                lhs = this[i];
                rhs = that[i];
                relative = compare(lhs, rhs);
                if (relative) {
                    return relative;
                }
            }
        } else if (i in that) {
            return 1;
        }
    }

    return this.length - that.length;
});

define("equals", function (that, equals) {
    equals = equals || Object.equals;
    var i = 0;
    var length = this.length;
    var left;
    var right;

    if (this === that) {
        return true;
    }
    if (!that || !Array.isArray(that)) {
        return genericOrder.prototype.equals.call(this, that);
    }

    if (length !== that.length) {
        return false;
    } else {
        for (; i < length; ++i) {
            if (i in this) {
                if (!(i in that)) {
                    return false;
                }
                left = this[i];
                right = that[i];
                if (!equals(left, right)) {
                    return false;
                }
            } else {
                if (i in that) {
                    return false;
                }
            }
        }
    }
    return true;
});

define("clone", function (depth, memo) {
    if (depth == null) {
        depth = Infinity;
    } else if (depth === 0) {
        return this;
    }
    memo = memo || new weakMap$1();
    if (memo.has(this)) {
        return memo.get(this);
    }
    var clone = new Array(this.length);
    memo.set(this, clone);
    for (var i in this) {
        clone[i] = Object.clone(this[i], depth - 1, memo);
    }    return clone;
});

define("iterate", function (start, end) {
    return new ArrayIterator(this, start, end);
});

if(Array.prototype.spliceOne === void 0) {
    define("spliceOne", function (index,itemToAdd) {
        var len=this.length;
        if (!len) { return }
        if(arguments.length === 1) {
            while (index<len) {
                this[index] = this[index+1];
                index++;
            }
            this.length--;
        }
        else {
            this[index] = itemToAdd;
        }
    });
}

define("Iterator", ArrayIterator);

function ArrayIterator(array, start, end) {
    this.array = array;
    this.start = start == null ? 0 : start;
    this.end = end;
}

ArrayIterator.prototype.__iterationObject = null;
Object.defineProperty(ArrayIterator.prototype,"_iterationObject", {
    get: function() {
        return this.__iterationObject || (this.__iterationObject = { done: false, value:null});
    }
});

ArrayIterator.prototype.next = function () {
    if (this.start === (this.end == null ? this.array.length : this.end)) {
        this._iterationObject.done = true;
        this._iterationObject.value = void 0;
    } else {
        this._iterationObject.value = this.array[this.start++];
    }
    return this._iterationObject;
};

/**
    accepts a string; returns the string with regex metacharacters escaped.
    the returned string can safely be used within a regex to match a literal
    string. escaped characters are [, ], {, }, (, ), -, *, +, ?, ., \, ^, $,
    |, #, [comma], and whitespace.
*/
if (!RegExp.escape) {
    var special = /[-[\]{}()*+?.\\^$|,#\s]/g;
    RegExp.escape = function (string) {
        return string.replace(special, "\\$&");
    };
}

var shimRegexp = /*#__PURE__*/Object.freeze({
	__proto__: null
});

getCjsExportFromNamespace(shimRegexp);

var genericSet = GenericSet;
function GenericSet() {
    throw new Error("Can't construct. GenericSet is a mixin.");
}

GenericSet.prototype.isSet = true;

GenericSet.prototype.union = function (that) {
    var union =  this.constructClone(this);
    union.addEach(that);
    return union;
};

GenericSet.prototype.intersection = function (that) {
    return this.constructClone(this.filter(function (value) {
        return that.has(value);
    }));
};

GenericSet.prototype.difference = function (that) {
    var union =  this.constructClone(this);
    union.deleteEach(that);
    return union;
};

GenericSet.prototype.symmetricDifference = function (that) {
    var union = this.union(that);
    var intersection = this.intersection(that);
    return union.difference(intersection);
};

GenericSet.prototype.deleteAll = function (value) {
    // deleteAll is equivalent to delete for sets since they guarantee that
    // only one value exists for an equivalence class, but deleteAll returns
    // the count of deleted values instead of whether a value was deleted.
    return +this["delete"](value);
};

GenericSet.prototype.equals = function (that, equals) {
    var self = this;
    return (
        that && typeof that.reduce === "function" &&
        this.length === that.length &&
        that.reduce(function (equal, value) {
            return equal && self.has(value, equals);
        }, true)
    );
};

GenericSet.prototype.forEach = function (callback /*, thisp*/) {
    var thisp = arguments[1];
    return this.reduce(function (undefined$1, value, key, object, depth) {
        //ECMASCRIPT Sets send value twice in callback to forEach
        callback.call(thisp, value, value, object, depth);
    }, undefined);
};


GenericSet.prototype.toJSON = function () {
    return this.toArray();
};

// W3C DOMTokenList API overlap (does not handle variadic arguments)

GenericSet.prototype.contains = function (value) {
    return this.has(value);
};

GenericSet.prototype.remove = function (value) {
    return this["delete"](value);
};

GenericSet.prototype.toggle = function (value) {
    if (this.has(value)) {
        this["delete"](value);
    } else {
        this.add(value);
    }
};

var _valuesArrayFunction = function(value,key) {return value;};
GenericSet.prototype.valuesArray = function() {
    return this.map(_valuesArrayFunction);
};
var _entriesArrayFunction = function(value,key) {return [key,value];};
GenericSet.prototype.entriesArray = function() {
    return this.map(_entriesArrayFunction);
};

var _list = List;





function List(values, equals, getDefault) {
    return List._init(List, this, values, equals, getDefault);
}

List._init = function (constructor, object, values, equals, getDefault) {
    if (!(object instanceof constructor)) {
        return new constructor(values, equals, getDefault);
    }
    var head = object.head = new object.Node();
    head.next = head;
    head.prev = head;
    object.contentEquals = equals || Object.equals;
    object.getDefault = getDefault || Function.noop;
    object.length = 0;
    object.addEach(values);
};

List.List = List; // hack so require("list").List will work in MontageJS

Object.addEach(List.prototype, genericCollection.prototype);
Object.addEach(List.prototype, genericOrder.prototype);

List.from = genericCollection.from;

List.prototype.constructClone = function (values) {
    return new this.constructor(values, this.contentEquals, this.getDefault);
};

List.prototype.find = function (value, equals, index) {
    equals = equals || this.contentEquals;
    var head = this.head;
    var at = this.scan(index, head.next);
    while (at !== head) {
        if (equals(at.value, value)) {
            return at;
        }
        at = at.next;
    }
};

List.prototype.findLast = function (value, equals, index) {
    equals = equals || this.contentEquals;
    var head = this.head;
    var at = this.scan(index, head.prev);
    while (at !== head) {
        if (equals(at.value, value)) {
            return at;
        }
        at = at.prev;
    }
};

List.prototype.has = function (value, equals) {
    return !!this.find(value, equals);
};

List.prototype.get = function (value, equals) {
    var found = this.find(value, equals);
    if (found) {
        return found.value;
    }
    return this.getDefault(value);
};

// LIFO (delete removes the most recently added equivalent value)
List.prototype["delete"] = function (value, equals) {
    var found = this.findLast(value, equals);
    if (found) {
        found["delete"]();
        this.length--;
        return true;
    }
    return false;
};

List.prototype.deleteAll = function (value, equals) {
    equals = equals || this.contentEquals;
    var head = this.head;
    var at = head.next;
    var count = 0;
    while (at !== head) {
        if (equals(value, at.value)) {
            at["delete"]();
            count++;
        }
        at = at.next;
    }
    this.length -= count;
    return count;
};

List.prototype.clear = function () {
    this.head.next = this.head.prev = this.head;
    this.length = 0;
};

List.prototype.add = function (value) {
    var node = new this.Node(value);
    return this._addNode(node);
};

List.prototype._addNode = function (node) {
    this.head.addBefore(node);
    this.length++;
    return true;
};

List.prototype.push = function () {
    var head = this.head;
    for (var i = 0; i < arguments.length; i++) {
        var value = arguments[i];
        var node = new this.Node(value);
        head.addBefore(node);
    }
    this.length += arguments.length;
};

List.prototype.unshift = function () {
    var at = this.head;
    for (var i = 0; i < arguments.length; i++) {
        var value = arguments[i];
        var node = new this.Node(value);
        at.addAfter(node);
        at = node;
    }
    this.length += arguments.length;
};

List.prototype._shouldPop = function () {
    var value;
    var head = this.head;
    if (head.prev !== head) {
        value = head.prev.value;
    }
    return value;
};

List.prototype.pop = function (_before, _after) {
    var value;
    var head = this.head;
    if (head.prev !== head) {
        value = head.prev.value;
        var index = this.length - 1;
        var popDispatchValueArray = _before ? _before.call(this,value,index) : void 0;
        head.prev['delete']();
        this.length--;
        _after ? _after.call(this,value,index, popDispatchValueArray) : void 0;
    }
    return value;
};

List.prototype.shift = function (_before, _after) {
    var value;
    var head = this.head;
    if (head.prev !== head) {
        value = head.next.value;
        var dispatchValueArray = _before ? _before.call(this,value,0) : void 0;
        head.next['delete']();
        this.length--;
        _after ? _after.call(this,value,0,dispatchValueArray) : void 0;
    }
    return value;
};

List.prototype.peek = function () {
    if (this.head !== this.head.next) {
        return this.head.next.value;
    }
};

List.prototype.poke = function (value) {
    if (this.head !== this.head.next) {
        this.head.next.value = value;
    } else {
        this.push(value);
    }
};

List.prototype.one = function () {
    return this.peek();
};

// TODO
// List.prototype.indexOf = function (value) {
// };

// TODO
// List.prototype.lastIndexOf = function (value) {
// };

// an internal utility for coercing index offsets to nodes
List.prototype.scan = function (at, fallback) {
    var head = this.head;
    if (typeof at === "number") {
        var count = at;
        if (count >= 0) {
            at = head.next;
            while (count) {
                count--;
                at = at.next;
                if (at == head) {
                    break;
                }
            }
        } else {
            at = head;
            while (count < 0) {
                count++;
                at = at.prev;
                if (at == head) {
                    break;
                }
            }
        }
        return at;
    } else {
        return at || fallback;
    }
};

// at and end may both be positive or negative numbers (in which cases they
// correspond to numeric indicies, or nodes)
List.prototype.slice = function (at, end) {
    var sliced = [];
    var head = this.head;
    at = this.scan(at, head.next);
    end = this.scan(end, head);

    while (at !== end && at !== head) {
        sliced.push(at.value);
        at = at.next;
    }

    return sliced;
};

List.prototype.splice = function (at, length /*...plus*/) {
    return this.swap(at, length, Array.prototype.slice.call(arguments, 2));
};

List.prototype.swap = function (start, length, plus, _before, _after) {
    var initial = start;
    // start will be head if start is null or -1 (meaning from the end), but
    // will be head.next if start is 0 (meaning from the beginning)
    start = this.scan(start, this.head);
    if (length == null) {
        length = Infinity;
    }
    plus = Array.from(plus);

    // collect the minus array
    var minus = [];
    var at = start;
    while (length-- && length >= 0 && at !== this.head) {
        minus.push(at.value);
        at = at.next;
    }

    // before range change
    var index;
    index = _before ? _before.call(this, start, plus, minus) : void 0;

    // delete minus
    var at = start;
    for (var i = 0, at = start; i < minus.length; i++, at = at.next) {
        at["delete"]();
    }
    // add plus
    if (initial == null && at === this.head) {
        at = this.head.next;
    }
    for (var i = 0; i < plus.length; i++) {
        var node = new this.Node(plus[i]);
        at.addBefore(node);
    }
    // adjust length
    this.length += plus.length - minus.length;

    _after ? _after.call(this, start, plus, minus) : void 0;

    return minus;
};

List.prototype.reverse = function () {
    var at = this.head;
    do {
        var temp = at.next;
        at.next = at.prev;
        at.prev = temp;
        at = at.next;
    } while (at !== this.head);
    return this;
};

List.prototype.sort = function () {
    this.swap(0, this.length, this.sorted.apply(this, arguments));
};

// TODO account for missing basis argument
List.prototype.reduce = function (callback, basis /*, thisp*/) {
    var thisp = arguments[2];
    var head = this.head;
    var at = head.next;
    while (at !== head) {
        basis = callback.call(thisp, basis, at.value, at, this);
        at = at.next;
    }
    return basis;
};

List.prototype.reduceRight = function (callback, basis /*, thisp*/) {
    var thisp = arguments[2];
    var head = this.head;
    var at = head.prev;
    while (at !== head) {
        basis = callback.call(thisp, basis, at.value, at, this);
        at = at.prev;
    }
    return basis;
};

List.prototype.updateIndexes = function (node, index) {
    while (node !== this.head) {
        node.index = index++;
        node = node.next;
    }
};


List.prototype.iterate = function () {
    return new ListIterator(this.head);
};

function ListIterator(head) {
    this.head = head;
    this.at = head.next;
}
ListIterator.prototype.__iterationObject = null;
Object.defineProperty(ListIterator.prototype,"_iterationObject", {
    get: function() {
        return this.__iterationObject || (this.__iterationObject = { done: false, value:null});
    }
});


ListIterator.prototype.next = function () {
    if (this.at === this.head) {
        this._iterationObject.done = true;
        this._iterationObject.value = void 0;
    } else {
        var value = this.at.value;
        this.at = this.at.next;
        this._iterationObject.value = value;
    }
    return this._iterationObject;
};

List.prototype.Node = Node;

function Node(value) {
    this.value = value;
    this.prev = null;
    this.next = null;
}
Node.prototype["delete"] = function () {
    this.prev.next = this.next;
    this.next.prev = this.prev;
};

Node.prototype.addBefore = function (node) {
    var prev = this.prev;
    this.prev = node;
    node.prev = prev;
    prev.next = node;
    node.next = this;
};

Node.prototype.addAfter = function (node) {
    var next = this.next;
    this.next = node;
    node.next = next;
    next.prev = node;
    node.prev = this;
};

var iterator = Iterator;




// upgrades an iterable to a Iterator
function Iterator(iterable, standardMode) {

    /*
        standardMode should be passed as true by a collection that uses Iterator
        to provide a polyfill of standard iterations methods like entries() and values(),
        as Collection's iterator behaves differently than standards ones when it comes to sparse arrays.
        without passing standardMode, new Iterator instances will behave as intended independently of standards.
    */
    var values = standardMode && iterable && iterable.values && iterable.values();
    if(values && typeof values.next === "function" ) {
        return values;
    }

    if (!(this instanceof Iterator)) {
        return new Iterator(iterable);
    }

    if (Array.isArray(iterable) || typeof iterable === "string")
        return Iterator.iterate(iterable);

    iterable = shimObject(iterable);

    if (iterable instanceof Iterator) {
        return iterable;
    } else if (iterable.next) {
        this.next = function () {
            return iterable.next();
        };
    } else if (iterable.iterate) {
        var iterator = iterable.iterate();
        this.next = function () {
            return iterator.next();
        };
    } else if (shimObject.prototype.toString.call(iterable) === "[object Function]") {
        this.next = iterable;
    } else {
        throw new TypeError("Can't iterate " + iterable);
    }

}

Iterator.prototype.forEach = genericCollection.prototype.forEach;
Iterator.prototype.map = genericCollection.prototype.map;
Iterator.prototype.filter = genericCollection.prototype.filter;
Iterator.prototype.every = genericCollection.prototype.every;
Iterator.prototype.some = genericCollection.prototype.some;
Iterator.prototype.any = genericCollection.prototype.any;
Iterator.prototype.all = genericCollection.prototype.all;
Iterator.prototype.min = genericCollection.prototype.min;
Iterator.prototype.max = genericCollection.prototype.max;
Iterator.prototype.sum = genericCollection.prototype.sum;
Iterator.prototype.average = genericCollection.prototype.average;
Iterator.prototype.flatten = genericCollection.prototype.flatten;
Iterator.prototype.zip = genericCollection.prototype.zip;
Iterator.prototype.enumerate = genericCollection.prototype.enumerate;
Iterator.prototype.sorted = genericCollection.prototype.sorted;
Iterator.prototype.group = genericCollection.prototype.group;
Iterator.prototype.reversed = genericCollection.prototype.reversed;
Iterator.prototype.toArray = genericCollection.prototype.toArray;
Iterator.prototype.toObject = genericCollection.prototype.toObject;
Iterator.prototype.iterator = genericCollection.prototype.iterator;

Iterator.prototype.__iterationObject = null;
shimObject.defineProperty(Iterator.prototype,"_iterationObject", {
    get: function() {
        return this.__iterationObject || (this.__iterationObject = { done: false, value:void 0});
    }
});


// this is a bit of a cheat so flatten and such work with the generic
// reducible
Iterator.prototype.constructClone = function (values) {
    var clone = [];
    clone.addEach(values);
    return clone;
};

Iterator.prototype.mapIterator = function (callback /*, thisp*/) {
    var self = Iterator(this),
        thisp = arguments[1],
        i = 0;

    if (shimObject.prototype.toString.call(callback) != "[object Function]")
        throw new TypeError();

    return new self.constructor(function () {
        if(self._iterationObject.done !== true) {
            var callbackValue = callback.call(thisp, self.next().value, i++, self);
            self._iterationObject.value = callbackValue;
        }
        return self._iterationObject;
    });
};

Iterator.prototype.filterIterator = function (callback /*, thisp*/) {
    var self = Iterator(this),
        thisp = arguments[1],
        i = 0;

    if (shimObject.prototype.toString.call(callback) != "[object Function]")
        throw new TypeError();

    return new self.constructor(function () {
        var nextEntry;
        while (true) {
            nextEntry = self.next();
            if(nextEntry.done !== true) {
                if (callback.call(thisp, nextEntry.value, i++, self))
                    return nextEntry;
            }
            else {
                //done true and value undefined at this point
                return nextEntry;
            }
        }
    });
};

Iterator.prototype.reduce = function (callback /*, initial, thisp*/) {
    var self = Iterator(this),
        result = arguments[1],
        thisp = arguments[2],
        i = 0,
        nextEntry;

    if (shimObject.prototype.toString.call(callback) != "[object Function]")
        throw new TypeError();

    // first iteration unrolled
    nextEntry = self.next();
    if(nextEntry.done === true) {
        if (arguments.length > 1) {
            return arguments[1]; // initial
        } else {
            throw TypeError("cannot reduce a value from an empty iterator with no initial value");
        }
    }
    if (arguments.length > 1) {
        result = callback.call(thisp, result, nextEntry.value, i, self);
    } else {
        result = nextEntry.value;
    }
    i++;
    // remaining entries
    while (true) {
        nextEntry = self.next();
        if(nextEntry.done === true) {
            return result;
        }
        result = callback.call(thisp, result, nextEntry.value, i, self);
        i++;
    }

};

Iterator.prototype.concat = function () {
    return Iterator.concat(
        Array.prototype.concat.apply(this, arguments)
    );
};

Iterator.prototype.dropWhile = function (callback /*, thisp */) {
    var self = Iterator(this),
        thisp = arguments[1],
        stopped = false,
        stopValue,
        nextEntry,
        i = 0;

    if (shimObject.prototype.toString.call(callback) != "[object Function]")
        throw new TypeError();

    while (true) {
        nextEntry = self.next();
        if(nextEntry.done === true) {
            break;
        }
        if (!callback.call(thisp, nextEntry.value, i, self)) {
            stopped = true;
            stopValue = nextEntry.value;
            break;
        }
        i++;
    }

    if (stopped) {
        return self.constructor([stopValue]).concat(self);
    } else {
        return self.constructor([]);
    }
};

Iterator.prototype.takeWhile = function (callback /*, thisp*/) {
    var self = Iterator(this),
        thisp = arguments[1],
        i = 0;

    if (shimObject.prototype.toString.call(callback) != "[object Function]")
        throw new TypeError();

    return new self.constructor(function () {
        if(self._iterationObject.done !== true) {
            var value = self.next().value;
            if(callback.call(thisp, value, i++, self)) {
                self._iterationObject.value = value;
            }
            else {
                self._iterationObject.done = true;
                self._iterationObject.value = void 0;
            }
        }
        return self._iterationObject;
    });

};

Iterator.prototype.zipIterator = function () {
    return Iterator.unzip(
        Array.prototype.concat.apply(this, arguments)
    );
};

Iterator.prototype.enumerateIterator = function (start) {
    return Iterator.count(start).zipIterator(this);
};

// creates an iterator for Array and String
Iterator.iterate = function (iterable) {
    var start;
    start = 0;
    return new Iterator(function () {
        // advance to next owned entry
        if (typeof iterable === "object") {
            while (!(start in iterable)) {
                // deliberately late bound
                if (start >= iterable.length) {
                    this._iterationObject.done = true;
                    this._iterationObject.value = void 0;
                    break;
                }
                else start += 1;
            }
        } else if (start >= iterable.length) {
            this._iterationObject.done = true;
            this._iterationObject.value = void 0;
        }

        if(!this._iterationObject.done) {
            this._iterationObject.value = iterable[start];
            start += 1;
        }
        return this._iterationObject;
    });
};

Iterator.cycle = function (cycle, times) {
    var next;
    if (arguments.length < 2)
        times = Infinity;
    //cycle = Iterator(cycle).toArray();
    return new Iterator(function () {
        var iteration, nextEntry;

        if(next) {
            nextEntry = next();
        }

        if(!next || nextEntry.done === true) {
            if (times > 0) {
                times--;
                iteration = Iterator.iterate(cycle);
                nextEntry = (next = iteration.next.bind(iteration))();
            }
            else {
                this._iterationObject.done = true;
                nextEntry = this._iterationObject;            }
        }
        return nextEntry;
    });
};

Iterator.concat = function (iterators) {
    iterators = Iterator(iterators);
    var next;
    return new Iterator(function (){
        var iteration, nextEntry;
        if(next) nextEntry = next();
        if(!nextEntry || nextEntry.done === true) {
            nextEntry = iterators.next();
            if(nextEntry.done === false) {
                iteration = Iterator(nextEntry.value);
                next = iteration.next.bind(iteration);
                return next();
            }
            else {
                return nextEntry;
            }
        }
        else return nextEntry;
    });
};

Iterator.unzip = function (iterators) {
    iterators = Iterator(iterators).map(Iterator);
    if (iterators.length === 0)
        return new Iterator([]);
    return new Iterator(function () {
        var stopped, nextEntry;
        var result = iterators.map(function (iterator) {
            nextEntry = iterator.next();
            if (nextEntry.done === true ) {
                stopped = true;
            }
            return nextEntry.value;
        });
        if (stopped) {
            this._iterationObject.done = true;
            this._iterationObject.value = void 0;
        }
        else {
            this._iterationObject.value = result;
        }
        return this._iterationObject;
    });
};

Iterator.zip = function () {
    return Iterator.unzip(
        Array.prototype.slice.call(arguments)
    );
};

Iterator.chain = function () {
    return Iterator.concat(
        Array.prototype.slice.call(arguments)
    );
};

Iterator.range = function (start, stop, step) {
    if (arguments.length < 3) {
        step = 1;
    }
    if (arguments.length < 2) {
        stop = start;
        start = 0;
    }
    start = start || 0;
    step = step || 1;
    return new Iterator(function () {
        if (start >= stop) {
            this._iterationObject.done = true;
            this._iterationObject.value = void 0;
        }
        var result = start;
        start += step;
        this._iterationObject.value = result;

        return this._iterationObject;
    });
};

Iterator.count = function (start, step) {
    return Iterator.range(start, Infinity, step);
};

Iterator.repeat = function (value, times) {
    return new Iterator.range(times).mapIterator(function () {
        return value;
    });
};

var genericMap = GenericMap;
function GenericMap() {
    throw new Error("Can't construct. GenericMap is a mixin.");
}

// all of these methods depend on the constructor providing a `store` set

GenericMap.prototype.isMap = true;

GenericMap.prototype.addEach = function (values) {
    var i;
    if (values && shimObject(values) === values) {
        if (typeof values.forEach === "function") {
            // copy map-alikes
            if (values.isMap === true) {
                values.forEach(function (value, key) {
                    this.set(key, value);
                }, this);
            // iterate key value pairs of other iterables
            } else {
                values.forEach(function (pair) {
                    this.set(pair[0], pair[1]);
                }, this);
            }
        } else if (typeof values.length === "number") {
            // Array-like objects that do not implement forEach, ergo,
            // Arguments
            for (i = 0; i < values.length; i++) {
                this.add(values[i], i);
            }
        } else {
            // copy other objects as map-alikes
            shimObject.keys(values).forEach(function (key) {
                this.set(key, values[key]);
            }, this);
        }
    } else if (values && typeof values.length === "number") {
        // String
        for (i = 0; i < values.length; i++) {
            this.add(values[i], i);
        }
    }
    return this;
};

GenericMap.prototype.get = function (key, defaultValue) {
    var item = this.store.get(new this.Item(key));
    if (item) {
        return item.value;
    } else if (arguments.length > 1) {
        console.log("Use of a second argument as default value is deprecated to match standards");
        return defaultValue;
    } else {
        return this.getDefault(key);
    }
};

GenericMap.prototype.set = function (key, value) {
    var item = new this.Item(key, value);
    var found = this.store.get(item);
    if (found) { // update
        if (this.dispatchesMapChanges) {
            this.dispatchBeforeMapChange(key, found.value);
        }
        found.value = value;
        if (this.dispatchesMapChanges) {
            this.dispatchMapChange(key, value);
        }
    } else { // create
        if (this.dispatchesMapChanges) {
            this.dispatchBeforeMapChange(key, undefined);
        }
        if (this.store.add(item)) {
            this.length++;
        }
        if (this.dispatchesMapChanges) {
            this.dispatchMapChange(key, value);
        }
    }
    return this;
};

GenericMap.prototype.add = function (value, key) {
    return this.set(key, value);
};

GenericMap.prototype.has = function (key) {
    return this.store.has(new this.Item(key));
};

GenericMap.prototype['delete'] = function (key) {
    var item = new this.Item(key);
    if (this.store.has(item)) {
        var from = this.store.get(item).value;
        if (this.dispatchesMapChanges) {
            this.dispatchBeforeMapChange(key, from);
        }
        this.store["delete"](item);
        this.length--;
        if (this.dispatchesMapChanges) {
            this.dispatchMapChange(key, undefined);
        }
        return true;
    }
    return false;
};

GenericMap.prototype.clear = function () {
    var keys, key;
    if (this.dispatchesMapChanges) {
        this.forEach(function (value, key) {
            this.dispatchBeforeMapChange(key, value);
        }, this);
        keys = this.keysArray();
    }
    this.store.clear();
    this.length = 0;
    if (this.dispatchesMapChanges) {
        for(var i=0;(key = keys[i]);i++) {
            this.dispatchMapChange(key);
        }
        // keys.forEach(function (key) {
        //     this.dispatchMapChange(key);
        // }, this);
    }
};

GenericMap.prototype.reduce = function (callback, basis, thisp) {
    return this.store.reduce(function (basis, item) {
        return callback.call(thisp, basis, item.value, item.key, this);
    }, basis, this);
};

GenericMap.prototype.reduceRight = function (callback, basis, thisp) {
    return this.store.reduceRight(function (basis, item) {
        return callback.call(thisp, basis, item.value, item.key, this);
    }, basis, this);
};

GenericMap.prototype.keysArray = function () {
    return this.map(function (value, key) {
        return key;
    });
};
GenericMap.prototype.keys = function () {
    return new iterator(this.keysArray(), true);
};

GenericMap.prototype.valuesArray = function () {
    return this.map(Function.identity);
};
GenericMap.prototype.values = function () {
    return new iterator(this.valuesArray(), true);
};

GenericMap.prototype.entriesArray = function () {
    return this.map(function (value, key) {
        return [key, value];
    });
};
GenericMap.prototype.entries = function () {
    return new iterator(this.entriesArray(), true);
};

// XXX deprecated
GenericMap.prototype.items = function () {
    return this.entriesArray();
};

GenericMap.prototype.equals = function (that, equals) {
    equals = equals || shimObject.equals;
    if (this === that) {
        return true;
    } else if (that && typeof that.every === "function") {
        return that.length === this.length && that.every(function (value, key) {
            return equals(this.get(key), value);
        }, this);
    } else {
        var keys = shimObject.keys(that);
        return keys.length === this.length && shimObject.keys(that).every(function (key) {
            return equals(this.get(key), that[key]);
        }, this);
    }
};

GenericMap.prototype.toJSON = function () {
    return this.entriesArray();
};


GenericMap.prototype.Item = Item;

function Item(key, value) {
    this.key = key;
    this.value = value;
}

Item.prototype.equals = function (that) {
    return shimObject.equals(this.key, that.key) && shimObject.equals(this.value, that.value);
};

Item.prototype.compare = function (that) {
    return shimObject.compare(this.key, that.key);
};

// Burgled from https://github.com/domenic/dict

var _dict = Dict;
function Dict(values, getDefault) {
    if (!(this instanceof Dict)) {
        return new Dict(values, getDefault);
    }
    getDefault = getDefault || Function.noop;
    this.getDefault = getDefault;
    this.store = Object.create(null);
    this.length = 0;
    this.addEach(values);
}

Dict.Dict = Dict; // hack so require("dict").Dict will work in MontageJS.

Object.addEach(Dict.prototype, genericCollection.prototype);
Object.addEach(Dict.prototype, genericMap.prototype);

Dict.from = genericCollection.from;

Dict.prototype.constructClone = function (values) {
    return new this.constructor(values, this.getDefault);
};

Dict.prototype.assertString = function (key) {
    if (typeof key !== "string") {
        throw new TypeError("key must be a string but Got " + key);
    }
};

Object.defineProperty(Dict.prototype,"$__proto__",{writable:true});
Object.defineProperty(Dict.prototype,"_hasProto",{
    get:function() {
        return this.hasOwnProperty("$__proto__") && typeof this._protoValue !== "undefined";
    }
});
Object.defineProperty(Dict.prototype,"_protoValue",{
    get:function() {
        return this["$__proto__"];
    },
    set: function(value) {
        this["$__proto__"] = value;
    }
});

Object.defineProperty(Dict.prototype,"size",genericCollection._sizePropertyDescriptor);


Dict.prototype.get = function (key, defaultValue) {
    this.assertString(key);
    if (key === "__proto__") {
        if (this._hasProto) {
            return this._protoValue;
        } else if (arguments.length > 1) {
            return defaultValue;
        } else {
            return this.getDefault(key);
        }
    }
    else {
        if (key in this.store) {
            return this.store[key];
        } else if (arguments.length > 1) {
            return defaultValue;
        } else {
            return this.getDefault(key);
        }
    }
};

Dict.prototype.set = function (key, value) {
    this.assertString(key);
    var isProtoKey = (key === "__proto__");

    if (isProtoKey ? this._hasProto : key in this.store) { // update
        if (this.dispatchesMapChanges) {
            this.dispatchBeforeMapChange(key, isProtoKey ? this._protoValue : this.store[key]);
        }

        isProtoKey
            ? this._protoValue = value
            : this.store[key] = value;

        if (this.dispatchesMapChanges) {
            this.dispatchMapChange(key, value);
        }
        return false;
    } else { // create
        if (this.dispatchesMapChanges) {
            this.dispatchBeforeMapChange(key, undefined);
        }
        this.length++;

        isProtoKey
            ? this._protoValue = value
            : this.store[key] = value;

        if (this.dispatchesMapChanges) {
            this.dispatchMapChange(key, value);
        }
        return true;
    }
};

Dict.prototype.has = function (key) {
    this.assertString(key);
    return key === "__proto__" ? this._hasProto : key in this.store;
};

Dict.prototype["delete"] = function (key) {
    this.assertString(key);
    if (key === "__proto__") {
        if (this._hasProto) {
            if (this.dispatchesMapChanges) {
                this.dispatchBeforeMapChange(key, this._protoValue);
            }
            this._protoValue = undefined;
            this.length--;
            if (this.dispatchesMapChanges) {
                this.dispatchMapChange(key, undefined);
            }
            return true;
        }
        return false;
    }
    else {
        if (key in this.store) {
            if (this.dispatchesMapChanges) {
                this.dispatchBeforeMapChange(key, this.store[key]);
            }
            delete this.store[key];
            this.length--;
            if (this.dispatchesMapChanges) {
                this.dispatchMapChange(key, undefined);
            }
            return true;
        }
        return false;
    }
};

Dict.prototype.clear = function () {
    var key;
    if (this._hasProto) {
        if (this.dispatchesMapChanges) {
            this.dispatchBeforeMapChange("__proto__", this._protoValue);
        }
        this._protoValue = undefined;
        if (this.dispatchesMapChanges) {
            this.dispatchMapChange("__proto__", undefined);
        }
    }
    for (key in this.store) {
        if (this.dispatchesMapChanges) {
            this.dispatchBeforeMapChange(key, this.store[key]);
        }
        delete this.store[key];
        if (this.dispatchesMapChanges) {
            this.dispatchMapChange(key, undefined);
        }
    }
    this.length = 0;
};

Dict.prototype.reduce = function (callback, basis, thisp) {
    if(this._hasProto) {
        basis = callback.call(thisp, basis, "$__proto__", "__proto__", this);
    }
    var store = this.store;
    for (var key in this.store) {
        basis = callback.call(thisp, basis, store[key], key, this);
    }
    return basis;
};

Dict.prototype.reduceRight = function (callback, basis, thisp) {
    var self = this;
    var store = this.store;
    basis = Object.keys(this.store).reduceRight(function (basis, key) {
        return callback.call(thisp, basis, store[key], key, self);
    }, basis);

    if(this._hasProto) {
        return callback.call(thisp, basis, this._protoValue, "__proto__", self);
    }
    return basis;
};

Dict.prototype.one = function () {
    var key;
    for (key in this.store) {
        return this.store[key];
    }
    return this._protoValue;
};

Dict.prototype.toJSON = function () {
    return this.toObject();
};

var treeLog = TreeLog;

function TreeLog() {
}

TreeLog.ascii = {
    intersection: "+",
    through: "-",
    branchUp: "+",
    branchDown: "+",
    fromBelow: ".",
    fromAbove: "'",
    fromBoth: "+",
    strafe: "|"
};

TreeLog.unicodeRound = {
    intersection: "\u254b",
    through: "\u2501",
    branchUp: "\u253b",
    branchDown: "\u2533",
    fromBelow: "\u256d", // round corner
    fromAbove: "\u2570", // round corner
    fromBoth: "\u2523",
    strafe: "\u2503"
};

TreeLog.unicodeSharp = {
    intersection: "\u254b",
    through: "\u2501",
    branchUp: "\u253b",
    branchDown: "\u2533",
    fromBelow: "\u250f", // sharp corner
    fromAbove: "\u2517", // sharp corner
    fromBoth: "\u2523",
    strafe: "\u2503"
};

var _fastSet = FastSet;

function FastSet(values, equals, hash, getDefault) {
    if (!(this instanceof FastSet)) {
        return new FastSet(values, equals, hash, getDefault);
    }
    equals = equals || Object.equals;
    hash = hash || Object.hash;
    getDefault = getDefault || Function.noop;
    this.contentEquals = equals;
    this.contentHash = hash;
    this.getDefault = getDefault;
    var self = this;
    this.buckets = new this.Buckets(null, function getDefaultBucket() {
        return new self.Bucket();
    });
    this.length = 0;
    this.addEach(values);
}

FastSet.FastSet = FastSet; // hack so require("fast-set").FastSet will work in MontageJS

Object.addEach(FastSet.prototype, genericCollection.prototype);
Object.addEach(FastSet.prototype, genericSet.prototype);
FastSet.from = genericCollection.from;

FastSet.prototype.Buckets = _dict;
FastSet.prototype.Bucket = _list;

FastSet.prototype.constructClone = function (values) {
    return new this.constructor(
        values,
        this.contentEquals,
        this.contentHash,
        this.getDefault
    );
};

FastSet.prototype.has = function (value) {
    var hash = this.contentHash(value);
    return this.buckets.get(hash).has(value);
};

FastSet.prototype.get = function (value, equals) {
    if (equals) {
        throw new Error("FastSet#get does not support second argument: equals");
    }
    var hash = this.contentHash(value);
    var buckets = this.buckets;
    if (buckets.has(hash)) {
        return buckets.get(hash).get(value);
    } else {
        return this.getDefault(value);
    }
};

FastSet.prototype["delete"] = function (value, equals) {
    if (equals) {
        throw new Error("FastSet#delete does not support second argument: equals");
    }
    var hash = this.contentHash(value);
    var buckets = this.buckets;
    if (buckets.has(hash)) {
        var bucket = buckets.get(hash);
        if (bucket["delete"](value)) {
            this.length--;
            if (bucket.length === 0) {
                buckets["delete"](hash);
            }
            return true;
        }
    }
    return false;
};

FastSet.prototype.clear = function () {
    this.buckets.clear();
    this.length = 0;
};

FastSet.prototype.add = function (value) {
    var hash = this.contentHash(value);
    var buckets = this.buckets;
    if (!buckets.has(hash)) {
        buckets.set(hash, new this.Bucket(null, this.contentEquals));
    }
    if (!buckets.get(hash).has(value)) {
        buckets.get(hash).add(value);
        this.length++;
        return true;
    }
    return false;
};

FastSet.prototype.reduce = function (callback, basis /*, thisp*/) {
    var thisp = arguments[2];
    var buckets = this.buckets;
    var index = 0;
    return buckets.reduce(function (basis, bucket) {
        return bucket.reduce(function (basis, value) {
            return callback.call(thisp, basis, value, index++, this);
        }, basis, this);
    }, basis, this);
};

FastSet.prototype.one = function () {
    if (this.length > 0) {
        return this.buckets.one().one();
    }
};

FastSet.prototype.iterate = function () {
    return this.buckets.valuesArray().flatten().iterate();
};

FastSet.prototype.log = function (charmap, logNode, callback, thisp) {
    charmap = charmap || treeLog.unicodeSharp;
    logNode = logNode || this.logNode;
    if (!callback) {
        callback = console.log;
        thisp = console;
    }
    callback = callback.bind(thisp);

    var buckets = this.buckets, bucketsSize = buckets.size,
        mapIter = buckets.keys(), hash, index = 0,
        branch, leader, bucket;

    while (hash = mapIter.next().value) {
        if (index === bucketsSize - 1) {
            branch = charmap.fromAbove;
            leader = ' ';
        } else if (index === 0) {
            branch = charmap.branchDown;
            leader = charmap.strafe;
        } else {
            branch = charmap.fromBoth;
            leader = charmap.strafe;
        }
        bucket = buckets.get(hash);
        callback.call(thisp, branch + charmap.through + charmap.branchDown + ' ' + hash);
        bucket.forEach(function (value, node) {
            var branch, below, written;
            if (node === bucket.head.prev) {
                branch = charmap.fromAbove;
                below = ' ';
            } else {
                branch = charmap.fromBoth;
                below = charmap.strafe;
            }
            logNode(
                node,
                function (line) {
                    if (!written) {
                        callback.call(thisp, leader + ' ' + branch + charmap.through + charmap.through + line);
                        written = true;
                    } else {
                        callback.call(thisp, leader + ' ' + below + '  ' + line);
                    }
                },
                function (line) {
                    callback.call(thisp, leader + ' ' + charmap.strafe + '  ' + line);
                }
            );
        });
        index++;
    }

    //var hashes = buckets.keysArray();
    // hashes.forEach(function (hash, index) {
    //     var branch;
    //     var leader;
    //     if (index === hashes.length - 1) {
    //         branch = charmap.fromAbove;
    //         leader = ' ';
    //     } else if (index === 0) {
    //         branch = charmap.branchDown;
    //         leader = charmap.strafe;
    //     } else {
    //         branch = charmap.fromBoth;
    //         leader = charmap.strafe;
    //     }
    //     var bucket = buckets.get(hash);
    //     callback.call(thisp, branch + charmap.through + charmap.branchDown + ' ' + hash);
    //     bucket.forEach(function (value, node) {
    //         var branch, below;
    //         if (node === bucket.head.prev) {
    //             branch = charmap.fromAbove;
    //             below = ' ';
    //         } else {
    //             branch = charmap.fromBoth;
    //             below = charmap.strafe;
    //         }
    //         var written;
    //         logNode(
    //             node,
    //             function (line) {
    //                 if (!written) {
    //                     callback.call(thisp, leader + ' ' + branch + charmap.through + charmap.through + line);
    //                     written = true;
    //                 } else {
    //                     callback.call(thisp, leader + ' ' + below + '  ' + line);
    //                 }
    //             },
    //             function (line) {
    //                 callback.call(thisp, leader + ' ' + charmap.strafe + '  ' + line);
    //             }
    //         );
    //     });
    // });
};

FastSet.prototype.logNode = function (node, write) {
    var value = node.value;
    if (Object(value) === value) {
        JSON.stringify(value, null, 4).split("\n").forEach(function (line) {
            write(" " + line);
        });
    } else {
        write(" " + value);
    }
};

var _set = createCommonjsModule(function (module) {




var GlobalSet, CollectionsSet;


if((commonjsGlobal$1.Set !== void 0) && (typeof commonjsGlobal$1.Set.prototype.values === "function")) {

    GlobalSet = module.exports = commonjsGlobal$1.Set;
    GlobalSet.Set = GlobalSet; // hack so require("set").Set will work in MontageJS

    GlobalSet.prototype.reduce = function (callback, basis /*, thisp*/) {
        var thisp = arguments[2];
        this.forEach(function(value) {
            basis = callback.call(thisp, basis, value, this);
        });
        return basis;
    };

    GlobalSet.prototype.reduceRight = function (callback, basis /*, thisp*/) {
        var thisp = arguments[2];
        var setIterator = this.values();
        var size = this.size;
        var reverseOrder = new Array(this.size);
        var value, i = size;
        // Fill 'reverseOrder' with values of Set in inverted order.
        while ((value = setIterator.next().value)) {
            reverseOrder[--i] = value;
        }
        // Iterate over reversed values and callback.
        while (i < size) {
            basis = callback.call(thisp, basis, reverseOrder[i++], this);
        }
        return basis;
    };

    GlobalSet.prototype.equals = function (that, equals) {
        var self = this;
        return (
            that && typeof that.reduce === "function" &&
            this.size === (that.size || that.length) &&
            that.reduce(function (equal, value) {
                return equal && self.has(value, equals);
            }, true)
        );
    };

    GlobalSet.prototype.constructClone = function (values) {
        return new this.constructor(values, this.contentEquals, this.contentHash, this.getDefault);
    };

    GlobalSet.prototype.toJSON = function () {
        return this.entriesArray();
    };

    GlobalSet.prototype.one = function () {
        if (this.size > 0) {
            return this.values().next().value;
        }
        return undefined;
    };

    GlobalSet.prototype.pop = function () {
        if (this.size) {
            var setIterator = this.values(), aValue, value;
            while(aValue = setIterator.next().value) {
                value = aValue;
            }
            this["delete"](value,this.size-1);
            return value;
        }
    };

    GlobalSet.prototype.shift = function () {
        if (this.size) {
            var firstValue = this.values().next().value;
            this["delete"](firstValue,0);
            return firstValue;
        }
    };

    //Backward compatibility:
    Object.defineProperty(GlobalSet.prototype,"length",{
        get: function() {
            return this.size;
        },
        enumerable: true,
        configurable:true
    });

    GlobalSet.from = function (value) {
        var result = (new this);
        result.addEach(value);
        return result;
    };

    Object.addEach(GlobalSet.prototype, genericCollection.prototype, false);
    Object.addEach(GlobalSet.prototype, genericSet.prototype, false);

}



    
    
    

    CollectionsSet = function CollectionsSet(values, equals, hash, getDefault) {
        return CollectionsSet._init(CollectionsSet, this, values, equals, hash, getDefault);
    };

    CollectionsSet._init = function (constructor, object, values, equals, hash, getDefault) {
        if (!(object instanceof constructor)) {
            return new constructor(values, equals, hash, getDefault);
        }
        equals = equals || Object.equals;
        hash = hash || Object.hash;
        getDefault = getDefault || Function.noop;
        object.contentEquals = equals;
        object.contentHash = hash;
        object.getDefault = getDefault;
        // a list of values in insertion order, used for all operations that depend
        // on iterating in insertion order
        object.order = new object.Order(undefined, equals);
        // a set of nodes from the order list, indexed by the corresponding value,
        // used for all operations that need to quickly seek  value in the list
        object.store = new object.Store(
            undefined,
            function (a, b) {
                return equals(a.value, b.value);
            },
            function (node) {
                return hash(node.value);
            }
        );
        object.length = 0;
        object.addEach(values);

    };

    CollectionsSet.Set = CollectionsSet; // hack so require("set").Set will work in MontageJS
    CollectionsSet.CollectionsSet = CollectionsSet;

    Object.addEach(CollectionsSet.prototype, genericCollection.prototype);
    Object.addEach(CollectionsSet.prototype, genericSet.prototype);

    CollectionsSet.from = genericCollection.from;

    Object.defineProperty(CollectionsSet.prototype,"size",genericCollection._sizePropertyDescriptor);

    //Overrides for consistency:
    // Set.prototype.forEach = GenericCollection.prototype.forEach;


    CollectionsSet.prototype.Order = _list;
    CollectionsSet.prototype.Store = _fastSet;

    CollectionsSet.prototype.constructClone = function (values) {
        return new this.constructor(values, this.contentEquals, this.contentHash, this.getDefault);
    };

    CollectionsSet.prototype.has = function (value) {
        var node = new this.order.Node(value);
        return this.store.has(node);
    };

    CollectionsSet.prototype.get = function (value, equals) {
        if (equals) {
            throw new Error("Set#get does not support second argument: equals");
        }
        var node = new this.order.Node(value);
        node = this.store.get(node);
        if (node) {
            return node.value;
        } else {
            return this.getDefault(value);
        }
    };

    CollectionsSet.prototype.add = function (value) {
        var node = new this.order.Node(value);
        if (!this.store.has(node)) {
            var index = this.length;
            this.order.add(value);
            node = this.order.head.prev;
            this.store.add(node);
            this.length++;
            return true;
        }
        return false;
    };

    CollectionsSet.prototype["delete"] = function (value, equals) {
        if (equals) {
            throw new Error("Set#delete does not support second argument: equals");
        }
        var node = new this.order.Node(value);
        if (this.store.has(node)) {
            node = this.store.get(node);
            this.store["delete"](node); // removes from the set
            this.order.splice(node, 1); // removes the node from the list
            this.length--;
            return true;
        }
        return false;
    };

    CollectionsSet.prototype.pop = function () {
        if (this.length) {
            var result = this.order.head.prev.value;
            this["delete"](result);
            return result;
        }
    };

    CollectionsSet.prototype.shift = function () {
        if (this.length) {
            var result = this.order.head.next.value;
            this["delete"](result);
            return result;
        }
    };

    CollectionsSet.prototype.one = function () {
        if (this.length > 0) {
            return this.store.one().value;
        }
    };

    CollectionsSet.prototype.clear = function () {
        this.store.clear();
        this.order.clear();
        this.length = 0;
    };
    Object.defineProperty(CollectionsSet.prototype,"_clear", {
        value: CollectionsSet.prototype.clear
    });

    CollectionsSet.prototype.reduce = function (callback, basis /*, thisp*/) {
        var thisp = arguments[2];
        var list = this.order;
        var index = 0;
        return list.reduce(function (basis, value) {
            return callback.call(thisp, basis, value, index++, this);
        }, basis, this);
    };

    CollectionsSet.prototype.reduceRight = function (callback, basis /*, thisp*/) {
        var thisp = arguments[2];
        var list = this.order;
        var index = this.length - 1;
        return list.reduceRight(function (basis, value) {
            return callback.call(thisp, basis, value, index--, this);
        }, basis, this);
    };

    CollectionsSet.prototype.iterate = function () {
        return this.order.iterate();
    };

    CollectionsSet.prototype.values = function () {
        return new iterator(this.valuesArray(), true);
    };

    CollectionsSet.prototype.log = function () {
        var set = this.store;
        return set.log.apply(set, arguments);
    };



if(!GlobalSet) {
    module.exports = CollectionsSet;
}
else {
    GlobalSet.prototype.valuesArray = genericSet.prototype.valuesArray;
    GlobalSet.prototype.entriesArray = genericSet.prototype.entriesArray;
    module.exports = GlobalSet;
    GlobalSet.CollectionsSet = CollectionsSet;
}
});

var _map = createCommonjsModule(function (module) {



var Map, GlobalMap, CollectionsMap;

if((commonjsGlobal$1.Map !== void 0) && (typeof commonjsGlobal$1.Set.prototype.values === "function")) {

    Map = module.exports = commonjsGlobal$1.Map,
    GlobalMap = Map;
    Map.Map = Map; // hack so require("map").Map will work in MontageJS

    // use different strategies for making sets observable between Internet
    // Explorer and other browsers.
    var protoIsSupported = {}.__proto__ === Object.prototype,
        map_makeObservable;

    if (protoIsSupported) {
        map_makeObservable = function () {
            this.__proto__ = ChangeDispatchMap;
        };
    } else {
        map_makeObservable = function () {
            Object.defineProperties(this, observableSetProperties);
        };
    }

    Object.defineProperty(Map.prototype, "makeObservable", {
        value: map_makeObservable,
        writable: true,
        configurable: true,
        enumerable: false
    });

    //This is a no-op test in property-changes.js - PropertyChanges.prototype.makePropertyObservable, so might as well not pay the price every time....
    Object.defineProperty(Map.prototype, "makePropertyObservable", {
        value: function(){},
        writable: true,
        configurable: true,
        enumerable: false
    });


    Map.prototype.constructClone = function (values) {
        return new this.constructor(values);
    };

    Map.prototype.isMap = true;
    Map.prototype.addEach = function (values) {
        if (values && Object(values) === values) {
            if (typeof values.forEach === "function") {
                // copy map-alikes
                if (values.isMap === true) {
                    values.forEach(function (value, key) {
                        this.set(key, value);
                    }, this);
                // iterate key value pairs of other iterables
                } else {
                    values.forEach(function (pair) {
                        this.set(pair[0], pair[1]);
                    }, this);
                }
            } else if (typeof values.length === "number") {
                // Array-like objects that do not implement forEach, ergo,
                // Arguments
                for (var i = 0; i < values.length; i++) {
                    this.add(values[i], i);
                }
            } else {
                // copy other objects as map-alikes
                Object.keys(values).forEach(function (key) {
                    this.set(key, values[key]);
                }, this);
            }
        } else if (values && typeof values.length === "number") {
            // String
            for (var i = 0; i < values.length; i++) {
                this.add(values[i], i);
            }
        }
        return this;
    };

    Map.prototype.add = function (value, key) {
        return this.set(key, value);
    };

    Map.prototype.reduce = function (callback, basis /*, thisp*/) {
        var thisp = arguments[2];
        this.forEach(function(value, key, map) {
            basis = callback.call(thisp, basis, value, key, this);
        });
        return basis;
    };

    Map.prototype.reduceRight = function (callback, basis /*, thisp*/) {
        var thisp = arguments[2];
        var keysIterator = this.keys();
        var size = this.size;
        var reverseOrder = new Array(this.size);
        var aKey, i = 0;
        while ((aKey = keysIterator.next().value)) {
            reverseOrder[--size] = aKey;
        }
        while (i++ < size) {
            basis = callback.call(thisp, basis, this.get(reverseOrder[i]), reverseOrder[i], this);
        }
        return basis;
    };

    Map.prototype.equals = function (that, equals) {
        equals = equals || Object.equals;
        if (this === that) {
            return true;
        } else if (that && typeof that.every === "function") {
            return that.size === this.size && that.every(function (value, key) {
                return equals(this.get(key), value);
            }, this);
        } else {
            var keys = Object.keys(that);
            return keys.length === this.size && Object.keys(that).every(function (key) {
                return equals(this.get(key), that[key]);
            }, this);
        }
    };

    var _keysArrayFunction = function(value,key) {return key;};
    Map.prototype.keysArray = function() {
        return this.map(_keysArrayFunction);
    };
    var _valuesArrayFunction = function(value,key) {return value;};
    Map.prototype.valuesArray = function() {
        return this.map(_valuesArrayFunction);
    };
    var _entriesArrayFunction = function(value,key) {return [key,value];};
    Map.prototype.entriesArray = function() {
        return this.map(_entriesArrayFunction);
    };
    Map.prototype.toJSON = function () {
        return this.entriesArray();
    };

    // XXX deprecated
    Map.prototype.items = function () {
        return this.entriesArray();
    };

    // Map.prototype.contentEquals = Object.equals;
    // Map.prototype.contentHash = Object.hash;


    Map.from = function (value) {
        var result = new this;
        result.addEach(value);
        return result;
    };


    //Backward compatibility:
    Object.defineProperty(Map.prototype,"length",{
        get: function() {
            return this.size;
        },
        enumerable: true,
        configurable:true
    });


    var map_clear = Map.prototype.clear,
        map_set = Map.prototype.set,
        map_delete = Map.prototype.delete;

    var observableMapProperties = {
        clear : {
            value: function () {
                var keys;
                if (this.dispatchesMapChanges) {
                    this.forEach(function (value, key) {
                        this.dispatchBeforeMapChange(key, value);
                    }, this);
                    keys = this.keysArray();
                }
                map_clear.call(this);
                if (this.dispatchesMapChanges) {
                    keys.forEach(function (key) {
                        this.dispatchMapChange(key);
                    }, this);
                }
            },
            writable: true,
            configurable: true

        },
        set : {
            value: function (key, value) {
                var found = this.get(key);
                if (found) { // update
                    if (this.dispatchesMapChanges) {
                        this.dispatchBeforeMapChange(key, found);
                    }

                    map_set.call(this,key, value);

                    if (this.dispatchesMapChanges) {
                        this.dispatchMapChange(key, value);
                    }
                } else { // create
                    if (this.dispatchesMapChanges) {
                        this.dispatchBeforeMapChange(key, undefined);
                    }

                    map_set.call(this,key, value);

                    if (this.dispatchesMapChanges) {
                        this.dispatchMapChange(key, value);
                    }
                }
                return this;
            },
            writable: true,
            configurable: true
        },

        "delete": {
            value: function (key) {
                if (this.has(key)) {
                    if (this.dispatchesMapChanges) {
                        this.dispatchBeforeMapChange(key, this.get(key));
                    }
                    map_delete.call(this,key);

                    if (this.dispatchesMapChanges) {
                        this.dispatchMapChange(key, undefined);
                    }
                    return true;
                }
                return false;
            }
        }
    };



    Object.addEach(Map.prototype, genericCollection.prototype, false);

    var ChangeDispatchMap = Object.create(Map.prototype, observableMapProperties);
}

    var Set = _set.CollectionsSet;
    

    CollectionsMap = Map = function Map(values, equals, hash, getDefault) {
        if (!(this instanceof Map)) {
            return new Map(values, equals, hash, getDefault);
        }
        equals = equals || Object.equals;
        hash = hash || Object.hash;
        getDefault = getDefault || Function.noop;
        this.contentEquals = equals;
        this.contentHash = hash;
        this.getDefault = getDefault;
        this.store = new Set(
            undefined,
            function keysEqual(a, b) {
                return equals(a.key, b.key);
            },
            function keyHash(item) {
                return hash(item.key);
            }
        );
        this.length = 0;
        this.addEach(values);
    };

    Map.Map = Map; // hack so require("map").Map will work in MontageJS

    Object.addEach(Map.prototype, genericCollection.prototype);
    Object.addEach(Map.prototype, genericMap.prototype); // overrides GenericCollection
    Object.defineProperty(Map.prototype,"size",genericCollection._sizePropertyDescriptor);

    Map.from = genericCollection.from;

    Map.prototype.constructClone = function (values) {
        return new this.constructor(
            values,
            this.contentEquals,
            this.contentHash,
            this.getDefault
        );
    };

    Map.prototype.log = function (charmap, logNode, callback, thisp) {
        logNode = logNode || this.logNode;
        this.store.log(charmap, function (node, log, logBefore) {
            logNode(node.value.value, log, logBefore);
        }, callback, thisp);
    };

    Map.prototype.logNode = function (node, log) {
        log(' key: ' + node.key);
        log(' value: ' + node.value);
    };

    if(!GlobalMap) {
        module.exports = CollectionsMap;
    }
    else {
        module.exports = GlobalMap;
        GlobalMap.CollectionsMap = CollectionsMap;
    }
});

var changeDescriptor = createCommonjsModule(function (module) {
/*
    Copyright (c) 2016, Montage Studio Inc. All Rights Reserved.
    3-Clause BSD License
    https://github.com/montagejs/montage/blob/master/LICENSE.md
*/



var ObjectChangeDescriptor = module.exports.ObjectChangeDescriptor = function ObjectChangeDescriptor(name) {
    this.name = name;
    this.isActive = false;
    this._willChangeListeners = null;
    this._changeListeners = null;
	return this;
};

Object.defineProperties(ObjectChangeDescriptor.prototype,{
    name: {
		value:null,
		writable: true
	},
    isActive: {
		value:false,
		writable: true
	},
	_willChangeListeners: {
		value:null,
		writable: true
	},
	willChangeListeners: {
		get: function() {
			return this._willChangeListeners || (this._willChangeListeners = new this.willChangeListenersRecordConstructor(this.name));
		}
	},
	_changeListeners: {
		value:null,
		writable: true
	},
    changeListeners: {
		get: function() {
			return this._changeListeners || (this._changeListeners = new this.changeListenersRecordConstructor(this.name));
		}
	},
    changeListenersRecordConstructor: {
        value: ChangeListenersRecord,
        writable: true
    },
    willChangeListenersRecordConstructor: {
        value: WillChangeListenersRecord,
        writable: true
    }

});

var ListenerGhost = module.exports.ListenerGhost = Object.create(null);
var ChangeListenerSpecificHandlerMethodName = new _map();

 module.exports.ChangeListenersRecord = ChangeListenersRecord;
function ChangeListenersRecord(name) {
    var specificHandlerMethodName = ChangeListenerSpecificHandlerMethodName.get(name);
    if(!specificHandlerMethodName) {
        specificHandlerMethodName = "handle";
        specificHandlerMethodName += name;
        specificHandlerMethodName += "Change";
        ChangeListenerSpecificHandlerMethodName.set(name,specificHandlerMethodName);
    }
    this._current = null;
    this._current = null;
    this.specificHandlerMethodName = specificHandlerMethodName;
    return this;
}

Object.defineProperties(ChangeListenersRecord.prototype,{
    _current: {
		value: null,
		writable: true
	},
	current: {
		get: function() {
            // if(this._current) {
            //     console.log(this.constructor.name," with ",this._current.length," listeners: ", this._current);
            // }
            return this._current;
            //return this._current || (this._current = []);
		},
        set: function(value) {
            this._current = value;
        }
	},
    ListenerGhost: {
        value:ListenerGhost,
        writable: true
    },
    ghostCount: {
        value:0,
        writable: true
    },
    maxListenerGhostRatio: {
        value:0.3,
        writable: true
    },
    listenerGhostFilter: {
        value: function listenerGhostFilter(value) {
          return value !== this.ListenerGhost;
      }
    },
    removeCurrentGostListenersIfNeeded: {
        value: function() {
            if(this._current && this.ghostCount/this._current.length>this.maxListenerGhostRatio) {
                this.ghostCount = 0;
                this._current = this._current.filter(this.listenerGhostFilter,this);
            }
            return this._current;
        }
    },
    dispatchBeforeChange: {
        value: false,
        writable: true
    },
    genericHandlerMethodName: {
		value: "handlePropertyChange",
        writable: true
	}
});

module.exports.WillChangeListenersRecord = WillChangeListenersRecord;
var WillChangeListenerSpecificHandlerMethodName = new _map();
function WillChangeListenersRecord(name) {
    var specificHandlerMethodName = WillChangeListenerSpecificHandlerMethodName.get(name);
    if(!specificHandlerMethodName) {
        specificHandlerMethodName = "handle";
        specificHandlerMethodName += name;
        specificHandlerMethodName += "WillChange";
        WillChangeListenerSpecificHandlerMethodName.set(name,specificHandlerMethodName);
    }
    this.specificHandlerMethodName = specificHandlerMethodName;
	return this;
}
WillChangeListenersRecord.prototype = new ChangeListenersRecord();
WillChangeListenersRecord.prototype.constructor = WillChangeListenersRecord;
WillChangeListenersRecord.prototype.genericHandlerMethodName = "handlePropertyWillChange";
});
var changeDescriptor_1 = changeDescriptor.ObjectChangeDescriptor;
var changeDescriptor_2 = changeDescriptor.ListenerGhost;
var changeDescriptor_3 = changeDescriptor.ChangeListenersRecord;
var changeDescriptor_4 = changeDescriptor.WillChangeListenersRecord;

// Object property descriptors carry information necessary for adding,
// removing, dispatching, and shorting events to listeners for property changes
// for a particular key on a particular object.  These descriptors are used
// here for shallow property changes.  The current listeners are the ones
// modified by add and remove own property change listener methods.  During
// property change dispatch, we capture a snapshot of the current listeners in
// the active change listeners array.  The descriptor also keeps a memo of the
// corresponding handler method names.
//
// {
//     willChangeListeners:{current, active:Array<Function>, ...method names}
//     changeListeners:{current, active:Array<Function>, ...method names}
// }

// Maybe remove entries from this table if the corresponding object no longer
// has any property change listeners for any key.  However, the cost of
// book-keeping is probably not warranted since it would be rare for an
// observed object to no longer be observed unless it was about to be disposed
// of or reused as an observable.  The only benefit would be in avoiding bulk
// calls to dispatchOwnPropertyChange events on objects that have no listeners.

//  To observe shallow property changes for a particular key of a particular
//  object, we install a property descriptor on the object that overrides the previous
//  descriptor.  The overridden descriptors are stored in this weak map.  The
//  weak map associates an object with another object that maps property names
//  to property descriptors.
//
//  object.__overriddenPropertyDescriptors__[key]
//
//  We retain the old descriptor for various purposes.  For one, if the property
//  is no longer being observed by anyone, we revert the property descriptor to
//  the original.  For "value" descriptors, we store the actual value of the
//  descriptor on the overridden descriptor, so when the property is reverted, it
//  retains the most recently set value.  For "get" and "set" descriptors,
//  we observe then forward "get" and "set" operations to the original descriptor.

var propertyChanges = PropertyChanges;

function PropertyChanges() {
    throw new Error("This is an abstract interface. Mix it. Don't construct it");
}




var ObjectChangeDescriptor = changeDescriptor.ObjectChangeDescriptor,
    ListenerGhost = changeDescriptor.ListenerGhost;

PropertyChanges.debug = true;

var ObjectsPropertyChangeListeners = new weakMap$1();

var ObjectChangeDescriptorName = new _map();

PropertyChanges.ObjectChangeDescriptor = function() {

};

PropertyChanges.prototype.getOwnPropertyChangeDescriptor = function (key) {
    var objectPropertyChangeDescriptors = ObjectsPropertyChangeListeners.get(this), keyChangeDescriptor;
    if (!objectPropertyChangeDescriptors) {
        objectPropertyChangeDescriptors = Object.create(null);
        ObjectsPropertyChangeListeners.set(this,objectPropertyChangeDescriptors);
    }
    if ( (keyChangeDescriptor = objectPropertyChangeDescriptors[key]) === void 0) {
        var propertyName = ObjectChangeDescriptorName.get(key);
        if(!propertyName) {
            propertyName = String(key);
            propertyName = propertyName && propertyName[0].toUpperCase() + propertyName.slice(1);
            ObjectChangeDescriptorName.set(key,propertyName);
        }
        return objectPropertyChangeDescriptors[key] = new ObjectChangeDescriptor(propertyName);
    }
    else return keyChangeDescriptor;
};

PropertyChanges.prototype.hasOwnPropertyChangeDescriptor = function (key) {
    var objectPropertyChangeDescriptors = ObjectsPropertyChangeListeners.get(this);
    if (!objectPropertyChangeDescriptors) {
        return false;
    }
    if (!key) {
        return true;
    }
    if (objectPropertyChangeDescriptors[key] === void 0) {
        return false;
    }
    return true;
};

PropertyChanges.prototype.addOwnPropertyChangeListener = function (key, listener, beforeChange) {
    if (this.makeObservable && !this.isObservable) {
        this.makeObservable(); // particularly for observable arrays, for
        // their length property
    }
    var descriptor = PropertyChanges.getOwnPropertyChangeDescriptor(this, key),
        listeners = beforeChange ? descriptor.willChangeListeners : descriptor.changeListeners;

    PropertyChanges.makePropertyObservable(this, key);

    if(!listeners._current) {
        listeners._current = listener;
    }
    else if(!Array.isArray(listeners._current)) {
        listeners._current = [listeners._current,listener];
    }
    else {
        listeners._current.push(listener);
    }

    var self = this;
    return function cancelOwnPropertyChangeListener() {
        PropertyChanges.removeOwnPropertyChangeListener(self, key, listener, beforeChange);
        self = null;
    };
};

PropertyChanges.prototype.addBeforeOwnPropertyChangeListener = function (key, listener) {
    return PropertyChanges.addOwnPropertyChangeListener(this, key, listener, true);
};

PropertyChanges.prototype.removeOwnPropertyChangeListener = function removeOwnPropertyChangeListener(key, listener, beforeChange) {
    var descriptor = PropertyChanges.getOwnPropertyChangeDescriptor(this, key);

    var listeners;
    if (beforeChange) {
        listeners = descriptor._willChangeListeners;
    } else {
        listeners = descriptor._changeListeners;
    }

    if(listeners) {
        if(listeners._current) {
            if(listeners._current === listener) {
                listeners._current = null;
            }
            else {

                var index = listeners._current.lastIndexOf(listener);
                if (index === -1) {
                    throw new Error("Can't remove property change listener: does not exist: property name" + JSON.stringify(key));
                }
                if(descriptor.isActive) {
                    listeners.ghostCount = listeners.ghostCount+1;
                    listeners._current[index]=removeOwnPropertyChangeListener.ListenerGhost;
                }
                else {
                    listeners._current.spliceOne(index);
                }
            }
        }
    }
};
PropertyChanges.prototype.removeOwnPropertyChangeListener.ListenerGhost = ListenerGhost;

PropertyChanges.prototype.removeBeforeOwnPropertyChangeListener = function (key, listener) {
    return PropertyChanges.removeOwnPropertyChangeListener(this, key, listener, true);
};

PropertyChanges.prototype.dispatchOwnPropertyChange = function dispatchOwnPropertyChange(key, value, beforeChange) {
    var descriptor = PropertyChanges.getOwnPropertyChangeDescriptor(this, key),
        listeners;

    if (!descriptor.isActive) {
        descriptor.isActive = true;
        listeners = beforeChange ? descriptor._willChangeListeners: descriptor._changeListeners;
        try {
            dispatchOwnPropertyChange.dispatchEach(listeners, key, value, this);
        } finally {
            descriptor.isActive = false;
        }
    }
};
PropertyChanges.prototype.dispatchOwnPropertyChange.dispatchEach = dispatchEach;

function dispatchEach(listeners, key, value, object) {
    if(listeners && listeners._current) {
        // copy snapshot of current listeners to active listeners
        var current,
            listener,
            i,
            countI,
            thisp,
            specificHandlerMethodName = listeners.specificHandlerMethodName,
            genericHandlerMethodName = listeners.genericHandlerMethodName,
            Ghost = ListenerGhost;

        if(Array.isArray(listeners._current)) {
            //removeGostListenersIfNeeded returns listeners.current or a new filtered one when conditions are met
            current = listeners.removeCurrentGostListenersIfNeeded();
            //We use a for to guarantee we won't dispatch to listeners that would be added after we started
            for(i=0, countI = current.length;i<countI;i++) {
                if ((thisp = current[i]) !== Ghost) {
                    //This is fixing the issue causing a regression in Montage's repetition
                    listener = (
                        thisp[specificHandlerMethodName] ||
                        thisp[genericHandlerMethodName] ||
                        thisp
                    );
                    if (!listener.call) {
                        throw new Error("No event listener for " + listeners.specificHandlerName + " or " + listeners.genericHandlerName + " or call on " + listener);
                    }
                    listener.call(thisp, value, key, object);
                }
            }
        }
        else {
            thisp = listeners._current;
            listener = (
                thisp[specificHandlerMethodName] ||
                thisp[genericHandlerMethodName] ||
                thisp
            );
            if (!listener.call) {
                throw new Error("No event listener for " + listeners.specificHandlerName + " or " + listeners.genericHandlerName + " or call on " + listener);
            }
            listener.call(thisp, value, key, object);
        }

    }
}

dispatchEach.ListenerGhost = ListenerGhost;


PropertyChanges.prototype.dispatchBeforeOwnPropertyChange = function (key, listener) {
    return PropertyChanges.dispatchOwnPropertyChange(this, key, listener, true);
};

var ObjectsOverriddenPropertyDescriptors = new weakMap$1(),
    Objects__state__ = new weakMap$1(),
    propertyListener = {
        get: void 0,
        set: void 0,
        configurable: true,
        enumerable: false
    };

PropertyChanges.prototype.makePropertyObservable = function (key) {
    // arrays are special.  we do not support direct setting of properties
    // on an array.  instead, call .set(index, value).  this is observable.
    // 'length' property is observable for all mutating methods because
    // our overrides explicitly dispatch that change.


    var overriddenPropertyDescriptors = ObjectsOverriddenPropertyDescriptors.get(this);
    if (overriddenPropertyDescriptors && overriddenPropertyDescriptors.get(key) !== void 0) {
        // if we have already recorded an overridden property descriptor,
        // we have already installed the observer, so short-here
        return;
    }

    // memoize overridden property descriptor table
    if (!overriddenPropertyDescriptors) {
        if (Array.isArray(this)) {
            return;
        }
        if (!Object.isExtensible(this)) {
            throw new Error("Can't make property " + JSON.stringify(key) + " observable on " + this + " because object is not extensible");
        }
        overriddenPropertyDescriptors = new _map();
        ObjectsOverriddenPropertyDescriptors.set(this,overriddenPropertyDescriptors);
    }

    // var state = Objects__state__.get(this);
    // if (typeof state !== "object") {
    //     Objects__state__.set(this,(state = {}));
    // }
    // state[key] = this[key];



    // walk up the prototype chain to find a property descriptor for
    // the property name
    var overriddenDescriptor;
    var attached = this;
    do {
        overriddenDescriptor = Object.getOwnPropertyDescriptor(attached, key);
        if (overriddenDescriptor) {
            break;
        }
        attached = Object.getPrototypeOf(attached);
    } while (attached);
    // or default to an undefined value
    if (!overriddenDescriptor) {
        overriddenDescriptor = {
            value: void 0,
            enumerable: true,
            writable: true,
            configurable: true
        };
    } else {
        if (!overriddenDescriptor.configurable) {
            return;
        }
        if (!overriddenDescriptor.writable && !overriddenDescriptor.set) {
            return;
        }
    }

    // memoize the descriptor so we know not to install another layer,
    // and so we can reuse the overridden descriptor when uninstalling
    overriddenPropertyDescriptors.set(key,overriddenDescriptor);


    // TODO reflect current value on a displayed property

    // in both of these new descriptor variants, we reuse the overridden
    // descriptor to either store the current value or apply getters
    // and setters.  this is handy since we can reuse the overridden
    // descriptor if we uninstall the observer.  We even preserve the
    // assignment semantics, where we get the value from up the
    // prototype chain, and set as an owned property.
    if ('value' in overriddenDescriptor) {
        propertyListener.get = function dispatchingGetter() {
            return dispatchingGetter.overriddenDescriptor.value;
        };
        propertyListener.set = function dispatchingSetter(value) {
            var descriptor,
                isActive,
                overriddenDescriptor = dispatchingSetter.overriddenDescriptor;

            if (value !== overriddenDescriptor.value) {
                if (!(isActive = (descriptor = dispatchingSetter.descriptor).isActive)) {
                    descriptor.isActive = true;
                    try {
                        dispatchingSetter.dispatchEach(descriptor._willChangeListeners, dispatchingSetter.key, overriddenDescriptor.value, this);
                    } finally {}
                }
                overriddenDescriptor.value = value;
                if (!isActive) {
                    try {
                        dispatchingSetter.dispatchEach(descriptor._changeListeners, dispatchingSetter.key, value, this);
                    } finally {
                        descriptor.isActive = false;
                    }
                }
            }
        };
        propertyListener.set.dispatchEach = dispatchEach;
        propertyListener.set.key = key;
        propertyListener.get.overriddenDescriptor = propertyListener.set.overriddenDescriptor = overriddenDescriptor;
        propertyListener.set.descriptor = ObjectsPropertyChangeListeners.get(this)[key];

        propertyListener.enumerable = overriddenDescriptor.enumerable;

        propertyListener.configurable = true;

    } else { // 'get' or 'set', but not necessarily both
            propertyListener.get = overriddenDescriptor.get;
            propertyListener.set = function dispatchingSetter() {
                var formerValue = dispatchingSetter.overriddenGetter.call(this),
                    descriptor,
                    isActive,
                    newValue;


                    if(arguments.length === 1) {
                        dispatchingSetter.overriddenSetter.call(this,arguments[0]);
                    }
                    else if(arguments.length === 2) {
                        dispatchingSetter.overriddenSetter.call(this,arguments[0],arguments[1]);
                    }
                    else {
                        dispatchingSetter.overriddenSetter.apply(this, arguments);
                    }

                if ((newValue = dispatchingSetter.overriddenGetter.call(this)) !== formerValue) {
                    descriptor = dispatchingSetter.descriptor;
                    if (!(isActive = descriptor.isActive)) {
                        descriptor.isActive = true;
                        try {
                            dispatchingSetter.dispatchEach(descriptor._willChangeListeners, key, formerValue, this);
                        } finally {}
                    }
                    if (!isActive) {
                        try {
                            dispatchingSetter.dispatchEach(descriptor._changeListeners, key, newValue, this);
                        } finally {
                            descriptor.isActive = false;
                        }
                    }
                }
            };
            propertyListener.enumerable = overriddenDescriptor.enumerable;
            propertyListener.configurable = true;
        propertyListener.set.dispatchEach = dispatchEach;
        propertyListener.set.overriddenSetter = overriddenDescriptor.set;
        propertyListener.set.overriddenGetter = overriddenDescriptor.get;
        propertyListener.set.descriptor = ObjectsPropertyChangeListeners.get(this)[key];
    }

    Object.defineProperty(this, key, propertyListener);
};

// constructor functions

PropertyChanges.getOwnPropertyChangeDescriptor = function (object, key) {
    if (object.getOwnPropertyChangeDescriptor) {
        return object.getOwnPropertyChangeDescriptor(key);
    } else {
        return PropertyChanges.prototype.getOwnPropertyChangeDescriptor.call(object, key);
    }
};

PropertyChanges.hasOwnPropertyChangeDescriptor = function (object, key) {
    if (object.hasOwnPropertyChangeDescriptor) {
        return object.hasOwnPropertyChangeDescriptor(key);
    } else {
        return PropertyChanges.prototype.hasOwnPropertyChangeDescriptor.call(object, key);
    }
};

PropertyChanges.addOwnPropertyChangeListener = function (object, key, listener, beforeChange) {
    if (Object.isObject(object)) {
        return object.addOwnPropertyChangeListener
            ? object.addOwnPropertyChangeListener(key, listener, beforeChange)
            : this.prototype.addOwnPropertyChangeListener.call(object, key, listener, beforeChange);
    }
};

PropertyChanges.removeOwnPropertyChangeListener = function (object, key, listener, beforeChange) {
    if (!Object.isObject(object)) ; else if (object.removeOwnPropertyChangeListener) {
        return object.removeOwnPropertyChangeListener(key, listener, beforeChange);
    } else {
        return PropertyChanges.prototype.removeOwnPropertyChangeListener.call(object, key, listener, beforeChange);
    }
};

PropertyChanges.dispatchOwnPropertyChange = function (object, key, value, beforeChange) {
    if (!Object.isObject(object)) ; else if (object.dispatchOwnPropertyChange) {
        return object.dispatchOwnPropertyChange(key, value, beforeChange);
    } else {
        return PropertyChanges.prototype.dispatchOwnPropertyChange.call(object, key, value, beforeChange);
    }
};

PropertyChanges.addBeforeOwnPropertyChangeListener = function (object, key, listener) {
    return PropertyChanges.addOwnPropertyChangeListener(object, key, listener, true);
};

PropertyChanges.removeBeforeOwnPropertyChangeListener = function (object, key, listener) {
    return PropertyChanges.removeOwnPropertyChangeListener(object, key, listener, true);
};

PropertyChanges.dispatchBeforeOwnPropertyChange = function (object, key, value) {
    return PropertyChanges.dispatchOwnPropertyChange(object, key, value, true);
};

PropertyChanges.makePropertyObservable = function (object, key) {
    if (object.makePropertyObservable) {
        return object.makePropertyObservable(key);
    } else {
        return PropertyChanges.prototype.makePropertyObservable.call(object, key);
    }
};

var ObjectChangeDescriptor$1 = changeDescriptor.ObjectChangeDescriptor,
    ChangeListenersRecord = changeDescriptor.ChangeListenersRecord,
    ListenerGhost$1 = changeDescriptor.ListenerGhost;

var mapChanges = MapChanges;
function MapChanges() {
    throw new Error("Can't construct. MapChanges is a mixin.");
}

/*
    Object map change descriptors carry information necessary for adding,
    removing, dispatching, and shorting events to listeners for map changes
    for a particular key on a particular object.  These descriptors are used
    here for shallow map changes.

    {
        willChangeListeners:Array(Fgunction)
        changeListeners:Array(Function)
    }
*/

var mapChangeDescriptors = new weakMap$1();

function MapChangeDescriptor(name) {
    this.name = name;
    this.isActive = false;
    this._willChangeListeners = null;
    this._changeListeners = null;
}
MapChangeDescriptor.prototype = new ObjectChangeDescriptor$1();
MapChangeDescriptor.prototype.constructor = MapChangeDescriptor;

MapChangeDescriptor.prototype.changeListenersRecordConstructor = MapChangeListenersRecord;
MapChangeDescriptor.prototype.willChangeListenersRecordConstructor = MapWillChangeListenersRecord;

var MapChangeListenersSpecificHandlerMethodName = new _map();

function MapChangeListenersRecord(name) {
    var specificHandlerMethodName = MapChangeListenersSpecificHandlerMethodName.get(name);
    if(!specificHandlerMethodName) {
        specificHandlerMethodName = "handle";
        specificHandlerMethodName += name.slice(0, 1).toUpperCase();
        specificHandlerMethodName += name.slice(1);
        specificHandlerMethodName += "MapChange";
        MapChangeListenersSpecificHandlerMethodName.set(name,specificHandlerMethodName);
    }
    this.specificHandlerMethodName = specificHandlerMethodName;
	return this;
}
MapChangeListenersRecord.prototype = new ChangeListenersRecord();
MapChangeListenersRecord.prototype.constructor = MapChangeListenersRecord;
MapChangeListenersRecord.prototype.genericHandlerMethodName = "handleMapChange";

var MapWillChangeListenersSpecificHandlerMethodName = new _map();

function MapWillChangeListenersRecord(name) {
    var specificHandlerMethodName = MapWillChangeListenersSpecificHandlerMethodName.get(name);
    if(!specificHandlerMethodName) {
        specificHandlerMethodName = "handle";
        specificHandlerMethodName += name.slice(0, 1).toUpperCase();
        specificHandlerMethodName += name.slice(1);
        specificHandlerMethodName += "MapWillChange";
        MapWillChangeListenersSpecificHandlerMethodName.set(name,specificHandlerMethodName);
    }
    this.specificHandlerMethodName = specificHandlerMethodName;
    return this;
}
MapWillChangeListenersRecord.prototype = new ChangeListenersRecord();
MapWillChangeListenersRecord.prototype.constructor = MapWillChangeListenersRecord;
MapWillChangeListenersRecord.prototype.genericHandlerMethodName = "handleMapWillChange";


MapChanges.prototype.getAllMapChangeDescriptors = function () {
    if (!mapChangeDescriptors.has(this)) {
        mapChangeDescriptors.set(this, new _map());
    }
    return mapChangeDescriptors.get(this);
};

MapChanges.prototype.getMapChangeDescriptor = function (token) {
    var tokenChangeDescriptors = this.getAllMapChangeDescriptors();
    token = token || "";
    if (!tokenChangeDescriptors.has(token)) {
        tokenChangeDescriptors.set(token, new MapChangeDescriptor(token));
    }
    return tokenChangeDescriptors.get(token);
};

var ObjectsDispatchesMapChanges = new weakMap$1(),
    dispatchesMapChangesGetter = function() {
        return ObjectsDispatchesMapChanges.get(this);
    },
    dispatchesMapChangesSetter = function(value) {
        return ObjectsDispatchesMapChanges.set(this,value);
    },
    dispatchesChangesMethodName = "dispatchesMapChanges",
    dispatchesChangesPropertyDescriptor = {
        get: dispatchesMapChangesGetter,
        set: dispatchesMapChangesSetter,
        configurable: true,
        enumerable: false
    };

MapChanges.prototype.addMapChangeListener = function addMapChangeListener(listener, token, beforeChange) {
    //console.log("this:",this," addMapChangeListener(",listener,",",token,",",beforeChange);

    if (!this.isObservable && this.makeObservable) {
        // for Array
        this.makeObservable();
    }
    var descriptor = this.getMapChangeDescriptor(token);
    var listeners;
    if (beforeChange) {
        listeners = descriptor.willChangeListeners;
    } else {
        listeners = descriptor.changeListeners;
    }

    // console.log("addMapChangeListener()",listener, token);
    //console.log("this:",this," addMapChangeListener()  listeners._current is ",listeners._current);

    if(!listeners._current) {
        listeners._current = listener;
    }
    else if(!Array.isArray(listeners._current)) {
        listeners._current = [listeners._current,listener];
    }
    else {
        listeners._current.push(listener);
    }

    if(Object.getOwnPropertyDescriptor((this.__proto__||Object.getPrototypeOf(this)),dispatchesChangesMethodName) === void 0) {
        Object.defineProperty((this.__proto__||Object.getPrototypeOf(this)), dispatchesChangesMethodName, dispatchesChangesPropertyDescriptor);
    }
    this.dispatchesMapChanges = true;

    var self = this;
    return function cancelMapChangeListener() {
        if (!self) {
            // TODO throw new Error("Can't remove map change listener again");
            return;
        }
        self.removeMapChangeListener(listener, token, beforeChange);
        self = null;
    };
};

MapChanges.prototype.removeMapChangeListener = function (listener, token, beforeChange) {
    var descriptor = this.getMapChangeDescriptor(token);

    var listeners;
    if (beforeChange) {
        listeners = descriptor.willChangeListeners;
    } else {
        listeners = descriptor.changeListeners;
    }

    if(listeners._current) {
        if(listeners._current === listener) {
            listeners._current = null;
        }
        else {
            var index = listeners._current.lastIndexOf(listener);
            if (index === -1) {
                throw new Error("Can't remove map change listener: does not exist: token " + JSON.stringify(token));
            }
            else {
                if(descriptor.isActive) {
                    listeners.ghostCount = listeners.ghostCount+1;
                    listeners._current[index]=ListenerGhost$1;
                }
                else {
                    listeners._current.spliceOne(index);
                }
            }
        }
    }


};

MapChanges.prototype.dispatchMapChange = function (key, value, beforeChange) {
    var descriptors = this.getAllMapChangeDescriptors(),
        Ghost = ListenerGhost$1;

    descriptors.forEach(function (descriptor, token) {

        if (descriptor.isActive) {
            return;
        }

        var listeners = beforeChange ? descriptor.willChangeListeners : descriptor.changeListeners;
        if(listeners && listeners._current) {

            var tokenName = listeners.specificHandlerMethodName;
            if(Array.isArray(listeners._current)) {
                if(listeners._current.length) {
                    //removeGostListenersIfNeeded returns listeners.current or a new filtered one when conditions are met
                    var currentListeners = listeners.removeCurrentGostListenersIfNeeded(),
                        i, countI, listener;
                    descriptor.isActive = true;

                    try {
                        for(i=0, countI = currentListeners.length;i<countI;i++) {
                            // dispatch to each listener
                            if ((listener = currentListeners[i]) !== Ghost) {
                                if (listener[tokenName]) {
                                    listener[tokenName](value, key, this);
                                } else if (listener.call) {
                                    listener.call(listener, value, key, this);
                                } else {
                                    throw new Error("Handler " + listener + " has no method " + tokenName + " and is not callable");
                                }
                            }
                        }
                    } finally {
                        descriptor.isActive = false;
                    }
                }
            }
            else {
                descriptor.isActive = true;
                // dispatch each listener

                try {
                    listener = listeners._current;
                    if (listener[tokenName]) {
                        listener[tokenName](value, key, this);
                    } else if (listener.call) {
                        listener.call(listener, value, key, this);
                    } else {
                        throw new Error("Handler " + listener + " has no method " + tokenName + " and is not callable");
                    }
                } finally {
                    descriptor.isActive = false;
                }

            }
        }

    }, this);
};

MapChanges.prototype.addBeforeMapChangeListener = function (listener, token) {
    return this.addMapChangeListener(listener, token, true);
};

MapChanges.prototype.removeBeforeMapChangeListener = function (listener, token) {
    return this.removeMapChangeListener(listener, token, true);
};

MapChanges.prototype.dispatchBeforeMapChange = function (key, value) {
    return this.dispatchMapChange(key, value, true);
};

var map = _map;

if((commonjsGlobal$1.Map === void 0) || (typeof commonjsGlobal$1.Set.prototype.values !== "function")) {
    Object.addEach(_map.prototype, propertyChanges.prototype);
    Object.addEach(_map.prototype, mapChanges.prototype);
}
else {
    Object.defineEach(_map.prototype, propertyChanges.prototype, false, /*configurable*/true, /*enumerable*/ false, /*writable*/true);
    Object.defineEach(_map.prototype, mapChanges.prototype, false, /*configurable*/true, /*enumerable*/ false, /*writable*/true);
}

class FlatQueue {

    constructor() {
        this.ids = [];
        this.values = [];
        this.length = 0;
    }

    clear() {
        this.length = 0;
    }

    push(id, value) {
        let pos = this.length++;
        this.ids[pos] = id;
        this.values[pos] = value;

        while (pos > 0) {
            const parent = (pos - 1) >> 1;
            const parentValue = this.values[parent];
            if (value >= parentValue) break;
            this.ids[pos] = this.ids[parent];
            this.values[pos] = parentValue;
            pos = parent;
        }

        this.ids[pos] = id;
        this.values[pos] = value;
    }

    pop() {
        if (this.length === 0) return undefined;

        const top = this.ids[0];
        this.length--;

        if (this.length > 0) {
            const id = this.ids[0] = this.ids[this.length];
            const value = this.values[0] = this.values[this.length];
            const halfLength = this.length >> 1;
            let pos = 0;

            while (pos < halfLength) {
                let left = (pos << 1) + 1;
                const right = left + 1;
                let bestIndex = this.ids[left];
                let bestValue = this.values[left];
                const rightValue = this.values[right];

                if (right < this.length && rightValue < bestValue) {
                    left = right;
                    bestIndex = this.ids[right];
                    bestValue = rightValue;
                }
                if (bestValue >= value) break;

                this.ids[pos] = bestIndex;
                this.values[pos] = bestValue;
                pos = left;
            }

            this.ids[pos] = id;
            this.values[pos] = value;
        }

        return top;
    }

    peek() {
        return this.ids[0];
    }

    peekValue() {
        return this.values[0];
    }
}

const ARRAY_TYPES = [
    Int8Array, Uint8Array, Uint8ClampedArray, Int16Array, Uint16Array,
    Int32Array, Uint32Array, Float32Array, Float64Array
];

const VERSION = 3; // serialized format version

class Flatbush {

    static from(data) {
        if (!(data instanceof ArrayBuffer)) {
            throw new Error('Data must be an instance of ArrayBuffer.');
        }
        const [magic, versionAndType] = new Uint8Array(data, 0, 2);
        if (magic !== 0xfb) {
            throw new Error('Data does not appear to be in a Flatbush format.');
        }
        if (versionAndType >> 4 !== VERSION) {
            throw new Error(`Got v${versionAndType >> 4} data when expected v${VERSION}.`);
        }
        const [nodeSize] = new Uint16Array(data, 2, 1);
        const [numItems] = new Uint32Array(data, 4, 1);

        return new Flatbush(numItems, nodeSize, ARRAY_TYPES[versionAndType & 0x0f], data);
    }

    constructor(numItems, nodeSize = 16, ArrayType = Float64Array, data) {
        if (numItems === undefined) throw new Error('Missing required argument: numItems.');
        if (isNaN(numItems) || numItems <= 0) throw new Error(`Unpexpected numItems value: ${numItems}.`);

        this.numItems = +numItems;
        this.nodeSize = Math.min(Math.max(+nodeSize, 2), 65535);

        // calculate the total number of nodes in the R-tree to allocate space for
        // and the index of each tree level (used in search later)
        let n = numItems;
        let numNodes = n;
        this._levelBounds = [n * 4];
        do {
            n = Math.ceil(n / this.nodeSize);
            numNodes += n;
            this._levelBounds.push(numNodes * 4);
        } while (n !== 1);

        this.ArrayType = ArrayType || Float64Array;
        this.IndexArrayType = numNodes < 16384 ? Uint16Array : Uint32Array;

        const arrayTypeIndex = ARRAY_TYPES.indexOf(this.ArrayType);
        const nodesByteSize = numNodes * 4 * this.ArrayType.BYTES_PER_ELEMENT;

        if (arrayTypeIndex < 0) {
            throw new Error(`Unexpected typed array class: ${ArrayType}.`);
        }

        if (data && (data instanceof ArrayBuffer)) {
            this.data = data;
            this._boxes = new this.ArrayType(this.data, 8, numNodes * 4);
            this._indices = new this.IndexArrayType(this.data, 8 + nodesByteSize, numNodes);

            this._pos = numNodes * 4;
            this.minX = this._boxes[this._pos - 4];
            this.minY = this._boxes[this._pos - 3];
            this.maxX = this._boxes[this._pos - 2];
            this.maxY = this._boxes[this._pos - 1];

        } else {
            this.data = new ArrayBuffer(8 + nodesByteSize + numNodes * this.IndexArrayType.BYTES_PER_ELEMENT);
            this._boxes = new this.ArrayType(this.data, 8, numNodes * 4);
            this._indices = new this.IndexArrayType(this.data, 8 + nodesByteSize, numNodes);
            this._pos = 0;
            this.minX = Infinity;
            this.minY = Infinity;
            this.maxX = -Infinity;
            this.maxY = -Infinity;

            new Uint8Array(this.data, 0, 2).set([0xfb, (VERSION << 4) + arrayTypeIndex]);
            new Uint16Array(this.data, 2, 1)[0] = nodeSize;
            new Uint32Array(this.data, 4, 1)[0] = numItems;
        }

        // a priority queue for k-nearest-neighbors queries
        this._queue = new FlatQueue();
    }

    add(minX, minY, maxX, maxY) {
        const index = this._pos >> 2;
        this._indices[index] = index;
        this._boxes[this._pos++] = minX;
        this._boxes[this._pos++] = minY;
        this._boxes[this._pos++] = maxX;
        this._boxes[this._pos++] = maxY;

        if (minX < this.minX) this.minX = minX;
        if (minY < this.minY) this.minY = minY;
        if (maxX > this.maxX) this.maxX = maxX;
        if (maxY > this.maxY) this.maxY = maxY;

        return index;
    }

    finish() {
        if (this._pos >> 2 !== this.numItems) {
            throw new Error(`Added ${this._pos >> 2} items when expected ${this.numItems}.`);
        }

        if (this.numItems <= this.nodeSize) {
            // only one node, skip sorting and just fill the root box
            this._boxes[this._pos++] = this.minX;
            this._boxes[this._pos++] = this.minY;
            this._boxes[this._pos++] = this.maxX;
            this._boxes[this._pos++] = this.maxY;
            return;
        }

        const width = this.maxX - this.minX;
        const height = this.maxY - this.minY;
        const hilbertValues = new Uint32Array(this.numItems);
        const hilbertMax = (1 << 16) - 1;

        // map item centers into Hilbert coordinate space and calculate Hilbert values
        for (let i = 0; i < this.numItems; i++) {
            let pos = 4 * i;
            const minX = this._boxes[pos++];
            const minY = this._boxes[pos++];
            const maxX = this._boxes[pos++];
            const maxY = this._boxes[pos++];
            const x = Math.floor(hilbertMax * ((minX + maxX) / 2 - this.minX) / width);
            const y = Math.floor(hilbertMax * ((minY + maxY) / 2 - this.minY) / height);
            hilbertValues[i] = hilbert(x, y);
        }

        // sort items by their Hilbert value (for packing later)
        sort(hilbertValues, this._boxes, this._indices, 0, this.numItems - 1, this.nodeSize);

        // generate nodes at each tree level, bottom-up
        for (let i = 0, pos = 0; i < this._levelBounds.length - 1; i++) {
            const end = this._levelBounds[i];

            // generate a parent node for each block of consecutive <nodeSize> nodes
            while (pos < end) {
                const nodeIndex = pos;

                // calculate bbox for the new node
                let nodeMinX = Infinity;
                let nodeMinY = Infinity;
                let nodeMaxX = -Infinity;
                let nodeMaxY = -Infinity;
                for (let i = 0; i < this.nodeSize && pos < end; i++) {
                    nodeMinX = Math.min(nodeMinX, this._boxes[pos++]);
                    nodeMinY = Math.min(nodeMinY, this._boxes[pos++]);
                    nodeMaxX = Math.max(nodeMaxX, this._boxes[pos++]);
                    nodeMaxY = Math.max(nodeMaxY, this._boxes[pos++]);
                }

                // add the new node to the tree data
                this._indices[this._pos >> 2] = nodeIndex;
                this._boxes[this._pos++] = nodeMinX;
                this._boxes[this._pos++] = nodeMinY;
                this._boxes[this._pos++] = nodeMaxX;
                this._boxes[this._pos++] = nodeMaxY;
            }
        }
    }

    search(minX, minY, maxX, maxY, filterFn) {
        if (this._pos !== this._boxes.length) {
            throw new Error('Data not yet indexed - call index.finish().');
        }

        let nodeIndex = this._boxes.length - 4;
        const queue = [];
        const results = [];

        while (nodeIndex !== undefined) {
            // find the end index of the node
            const end = Math.min(nodeIndex + this.nodeSize * 4, upperBound(nodeIndex, this._levelBounds));

            // search through child nodes
            for (let pos = nodeIndex; pos < end; pos += 4) {
                const index = this._indices[pos >> 2] | 0;

                // check if node bbox intersects with query bbox
                if (maxX < this._boxes[pos]) continue; // maxX < nodeMinX
                if (maxY < this._boxes[pos + 1]) continue; // maxY < nodeMinY
                if (minX > this._boxes[pos + 2]) continue; // minX > nodeMaxX
                if (minY > this._boxes[pos + 3]) continue; // minY > nodeMaxY

                if (nodeIndex < this.numItems * 4) {
                    if (filterFn === undefined || filterFn(index)) {
                        results.push(index); // leaf item
                    }

                } else {
                    queue.push(index); // node; add it to the search queue
                }
            }

            nodeIndex = queue.pop();
        }

        return results;
    }

    neighbors(x, y, maxResults = Infinity, maxDistance = Infinity, filterFn) {
        if (this._pos !== this._boxes.length) {
            throw new Error('Data not yet indexed - call index.finish().');
        }

        let nodeIndex = this._boxes.length - 4;
        const q = this._queue;
        const results = [];
        const maxDistSquared = maxDistance * maxDistance;

        while (nodeIndex !== undefined) {
            // find the end index of the node
            const end = Math.min(nodeIndex + this.nodeSize * 4, upperBound(nodeIndex, this._levelBounds));

            // add child nodes to the queue
            for (let pos = nodeIndex; pos < end; pos += 4) {
                const index = this._indices[pos >> 2] | 0;

                const dx = axisDist(x, this._boxes[pos], this._boxes[pos + 2]);
                const dy = axisDist(y, this._boxes[pos + 1], this._boxes[pos + 3]);
                const dist = dx * dx + dy * dy;

                if (nodeIndex < this.numItems * 4) { // leaf node
                    if (filterFn === undefined || filterFn(index)) {
                        // put a negative index if it's an item rather than a node, to recognize later
                        q.push(-index - 1, dist);
                    }
                } else {
                    q.push(index, dist);
                }
            }

            // pop items from the queue
            while (q.length && q.peek() < 0) {
                const dist = q.peekValue();
                if (dist > maxDistSquared) {
                    q.clear();
                    return results;
                }
                results.push(-q.pop() - 1);

                if (results.length === maxResults) {
                    q.clear();
                    return results;
                }
            }

            nodeIndex = q.pop();
        }

        q.clear();
        return results;
    }
}

function axisDist(k, min, max) {
    return k < min ? min - k : k <= max ? 0 : k - max;
}

// binary search for the first value in the array bigger than the given
function upperBound(value, arr) {
    let i = 0;
    let j = arr.length - 1;
    while (i < j) {
        const m = (i + j) >> 1;
        if (arr[m] > value) {
            j = m;
        } else {
            i = m + 1;
        }
    }
    return arr[i];
}

// custom quicksort that partially sorts bbox data alongside the hilbert values
function sort(values, boxes, indices, left, right, nodeSize) {
    if (Math.floor(left / nodeSize) >= Math.floor(right / nodeSize)) return;

    const pivot = values[(left + right) >> 1];
    let i = left - 1;
    let j = right + 1;

    while (true) {
        do i++; while (values[i] < pivot);
        do j--; while (values[j] > pivot);
        if (i >= j) break;
        swap(values, boxes, indices, i, j);
    }

    sort(values, boxes, indices, left, j, nodeSize);
    sort(values, boxes, indices, j + 1, right, nodeSize);
}

// swap two values and two corresponding boxes
function swap(values, boxes, indices, i, j) {
    const temp = values[i];
    values[i] = values[j];
    values[j] = temp;

    const k = 4 * i;
    const m = 4 * j;

    const a = boxes[k];
    const b = boxes[k + 1];
    const c = boxes[k + 2];
    const d = boxes[k + 3];
    boxes[k] = boxes[m];
    boxes[k + 1] = boxes[m + 1];
    boxes[k + 2] = boxes[m + 2];
    boxes[k + 3] = boxes[m + 3];
    boxes[m] = a;
    boxes[m + 1] = b;
    boxes[m + 2] = c;
    boxes[m + 3] = d;

    const e = indices[i];
    indices[i] = indices[j];
    indices[j] = e;
}

// Fast Hilbert curve algorithm by http://threadlocalmutex.com/
// Ported from C++ https://github.com/rawrunprotected/hilbert_curves (public domain)
function hilbert(x, y) {
    let a = x ^ y;
    let b = 0xFFFF ^ a;
    let c = 0xFFFF ^ (x | y);
    let d = x & (y ^ 0xFFFF);

    let A = a | (b >> 1);
    let B = (a >> 1) ^ a;
    let C = ((c >> 1) ^ (b & (d >> 1))) ^ c;
    let D = ((a & (c >> 1)) ^ (d >> 1)) ^ d;

    a = A; b = B; c = C; d = D;
    A = ((a & (a >> 2)) ^ (b & (b >> 2)));
    B = ((a & (b >> 2)) ^ (b & ((a ^ b) >> 2)));
    C ^= ((a & (c >> 2)) ^ (b & (d >> 2)));
    D ^= ((b & (c >> 2)) ^ ((a ^ b) & (d >> 2)));

    a = A; b = B; c = C; d = D;
    A = ((a & (a >> 4)) ^ (b & (b >> 4)));
    B = ((a & (b >> 4)) ^ (b & ((a ^ b) >> 4)));
    C ^= ((a & (c >> 4)) ^ (b & (d >> 4)));
    D ^= ((b & (c >> 4)) ^ ((a ^ b) & (d >> 4)));

    a = A; b = B; c = C; d = D;
    C ^= ((a & (c >> 8)) ^ (b & (d >> 8)));
    D ^= ((b & (c >> 8)) ^ ((a ^ b) & (d >> 8)));

    a = C ^ (C >> 1);
    b = D ^ (D >> 1);

    let i0 = x ^ y;
    let i1 = b | (0xFFFF ^ (i0 | a));

    i0 = (i0 | (i0 << 8)) & 0x00FF00FF;
    i0 = (i0 | (i0 << 4)) & 0x0F0F0F0F;
    i0 = (i0 | (i0 << 2)) & 0x33333333;
    i0 = (i0 | (i0 << 1)) & 0x55555555;

    i1 = (i1 | (i1 << 8)) & 0x00FF00FF;
    i1 = (i1 | (i1 << 4)) & 0x0F0F0F0F;
    i1 = (i1 | (i1 << 2)) & 0x33333333;
    i1 = (i1 | (i1 << 1)) & 0x55555555;

    return ((i1 << 1) | i0) >>> 0;
}

var flatbush = /*#__PURE__*/Object.freeze({
	__proto__: null,
	'default': Flatbush
});

function quickselect(arr, k, left, right, compare) {
    quickselectStep(arr, k, left || 0, right || (arr.length - 1), compare || defaultCompare);
}

function quickselectStep(arr, k, left, right, compare) {

    while (right > left) {
        if (right - left > 600) {
            var n = right - left + 1;
            var m = k - left + 1;
            var z = Math.log(n);
            var s = 0.5 * Math.exp(2 * z / 3);
            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);
            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));
            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));
            quickselectStep(arr, k, newLeft, newRight, compare);
        }

        var t = arr[k];
        var i = left;
        var j = right;

        swap$1(arr, left, k);
        if (compare(arr[right], t) > 0) swap$1(arr, left, right);

        while (i < j) {
            swap$1(arr, i, j);
            i++;
            j--;
            while (compare(arr[i], t) < 0) i++;
            while (compare(arr[j], t) > 0) j--;
        }

        if (compare(arr[left], t) === 0) swap$1(arr, left, j);
        else {
            j++;
            swap$1(arr, j, right);
        }

        if (j <= k) left = j + 1;
        if (k <= j) right = j - 1;
    }
}

function swap$1(arr, i, j) {
    var tmp = arr[i];
    arr[i] = arr[j];
    arr[j] = tmp;
}

function defaultCompare(a, b) {
    return a < b ? -1 : a > b ? 1 : 0;
}

class RBush {
    constructor(maxEntries = 9) {
        // max entries in a node is 9 by default; min node fill is 40% for best performance
        this._maxEntries = Math.max(4, maxEntries);
        this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4));
        this.clear();
    }

    all() {
        return this._all(this.data, []);
    }

    search(bbox) {
        let node = this.data;
        const result = [];

        if (!intersects(bbox, node)) return result;

        const toBBox = this.toBBox;
        const nodesToSearch = [];

        while (node) {
            for (let i = 0; i < node.children.length; i++) {
                const child = node.children[i];
                const childBBox = node.leaf ? toBBox(child) : child;

                if (intersects(bbox, childBBox)) {
                    if (node.leaf) result.push(child);
                    else if (contains(bbox, childBBox)) this._all(child, result);
                    else nodesToSearch.push(child);
                }
            }
            node = nodesToSearch.pop();
        }

        return result;
    }

    collides(bbox) {
        let node = this.data;

        if (!intersects(bbox, node)) return false;

        const nodesToSearch = [];
        while (node) {
            for (let i = 0; i < node.children.length; i++) {
                const child = node.children[i];
                const childBBox = node.leaf ? this.toBBox(child) : child;

                if (intersects(bbox, childBBox)) {
                    if (node.leaf || contains(bbox, childBBox)) return true;
                    nodesToSearch.push(child);
                }
            }
            node = nodesToSearch.pop();
        }

        return false;
    }

    load(data) {
        if (!(data && data.length)) return this;

        if (data.length < this._minEntries) {
            for (let i = 0; i < data.length; i++) {
                this.insert(data[i]);
            }
            return this;
        }

        // recursively build the tree with the given data from scratch using OMT algorithm
        let node = this._build(data.slice(), 0, data.length - 1, 0);

        if (!this.data.children.length) {
            // save as is if tree is empty
            this.data = node;

        } else if (this.data.height === node.height) {
            // split root if trees have the same height
            this._splitRoot(this.data, node);

        } else {
            if (this.data.height < node.height) {
                // swap trees if inserted one is bigger
                const tmpNode = this.data;
                this.data = node;
                node = tmpNode;
            }

            // insert the small tree into the large tree at appropriate level
            this._insert(node, this.data.height - node.height - 1, true);
        }

        return this;
    }

    insert(item) {
        if (item) this._insert(item, this.data.height - 1);
        return this;
    }

    clear() {
        this.data = createNode([]);
        return this;
    }

    remove(item, equalsFn) {
        if (!item) return this;

        let node = this.data;
        const bbox = this.toBBox(item);
        const path = [];
        const indexes = [];
        let i, parent, goingUp;

        // depth-first iterative tree traversal
        while (node || path.length) {

            if (!node) { // go up
                node = path.pop();
                parent = path[path.length - 1];
                i = indexes.pop();
                goingUp = true;
            }

            if (node.leaf) { // check current node
                const index = findItem(item, node.children, equalsFn);

                if (index !== -1) {
                    // item found, remove the item and condense tree upwards
                    node.children.splice(index, 1);
                    path.push(node);
                    this._condense(path);
                    return this;
                }
            }

            if (!goingUp && !node.leaf && contains(node, bbox)) { // go down
                path.push(node);
                indexes.push(i);
                i = 0;
                parent = node;
                node = node.children[0];

            } else if (parent) { // go right
                i++;
                node = parent.children[i];
                goingUp = false;

            } else node = null; // nothing found
        }

        return this;
    }

    toBBox(item) { return item; }

    compareMinX(a, b) { return a.minX - b.minX; }
    compareMinY(a, b) { return a.minY - b.minY; }

    toJSON() { return this.data; }

    fromJSON(data) {
        this.data = data;
        return this;
    }

    _all(node, result) {
        const nodesToSearch = [];
        while (node) {
            if (node.leaf) result.push(...node.children);
            else nodesToSearch.push(...node.children);

            node = nodesToSearch.pop();
        }
        return result;
    }

    _build(items, left, right, height) {

        const N = right - left + 1;
        let M = this._maxEntries;
        let node;

        if (N <= M) {
            // reached leaf level; return leaf
            node = createNode(items.slice(left, right + 1));
            calcBBox(node, this.toBBox);
            return node;
        }

        if (!height) {
            // target height of the bulk-loaded tree
            height = Math.ceil(Math.log(N) / Math.log(M));

            // target number of root entries to maximize storage utilization
            M = Math.ceil(N / Math.pow(M, height - 1));
        }

        node = createNode([]);
        node.leaf = false;
        node.height = height;

        // split the items into M mostly square tiles

        const N2 = Math.ceil(N / M);
        const N1 = N2 * Math.ceil(Math.sqrt(M));

        multiSelect(items, left, right, N1, this.compareMinX);

        for (let i = left; i <= right; i += N1) {

            const right2 = Math.min(i + N1 - 1, right);

            multiSelect(items, i, right2, N2, this.compareMinY);

            for (let j = i; j <= right2; j += N2) {

                const right3 = Math.min(j + N2 - 1, right2);

                // pack each entry recursively
                node.children.push(this._build(items, j, right3, height - 1));
            }
        }

        calcBBox(node, this.toBBox);

        return node;
    }

    _chooseSubtree(bbox, node, level, path) {
        while (true) {
            path.push(node);

            if (node.leaf || path.length - 1 === level) break;

            let minArea = Infinity;
            let minEnlargement = Infinity;
            let targetNode;

            for (let i = 0; i < node.children.length; i++) {
                const child = node.children[i];
                const area = bboxArea(child);
                const enlargement = enlargedArea(bbox, child) - area;

                // choose entry with the least area enlargement
                if (enlargement < minEnlargement) {
                    minEnlargement = enlargement;
                    minArea = area < minArea ? area : minArea;
                    targetNode = child;

                } else if (enlargement === minEnlargement) {
                    // otherwise choose one with the smallest area
                    if (area < minArea) {
                        minArea = area;
                        targetNode = child;
                    }
                }
            }

            node = targetNode || node.children[0];
        }

        return node;
    }

    _insert(item, level, isNode) {
        const bbox = isNode ? item : this.toBBox(item);
        const insertPath = [];

        // find the best node for accommodating the item, saving all nodes along the path too
        const node = this._chooseSubtree(bbox, this.data, level, insertPath);

        // put the item into the node
        node.children.push(item);
        extend(node, bbox);

        // split on node overflow; propagate upwards if necessary
        while (level >= 0) {
            if (insertPath[level].children.length > this._maxEntries) {
                this._split(insertPath, level);
                level--;
            } else break;
        }

        // adjust bboxes along the insertion path
        this._adjustParentBBoxes(bbox, insertPath, level);
    }

    // split overflowed node into two
    _split(insertPath, level) {
        const node = insertPath[level];
        const M = node.children.length;
        const m = this._minEntries;

        this._chooseSplitAxis(node, m, M);

        const splitIndex = this._chooseSplitIndex(node, m, M);

        const newNode = createNode(node.children.splice(splitIndex, node.children.length - splitIndex));
        newNode.height = node.height;
        newNode.leaf = node.leaf;

        calcBBox(node, this.toBBox);
        calcBBox(newNode, this.toBBox);

        if (level) insertPath[level - 1].children.push(newNode);
        else this._splitRoot(node, newNode);
    }

    _splitRoot(node, newNode) {
        // split root node
        this.data = createNode([node, newNode]);
        this.data.height = node.height + 1;
        this.data.leaf = false;
        calcBBox(this.data, this.toBBox);
    }

    _chooseSplitIndex(node, m, M) {
        let index;
        let minOverlap = Infinity;
        let minArea = Infinity;

        for (let i = m; i <= M - m; i++) {
            const bbox1 = distBBox(node, 0, i, this.toBBox);
            const bbox2 = distBBox(node, i, M, this.toBBox);

            const overlap = intersectionArea(bbox1, bbox2);
            const area = bboxArea(bbox1) + bboxArea(bbox2);

            // choose distribution with minimum overlap
            if (overlap < minOverlap) {
                minOverlap = overlap;
                index = i;

                minArea = area < minArea ? area : minArea;

            } else if (overlap === minOverlap) {
                // otherwise choose distribution with minimum area
                if (area < minArea) {
                    minArea = area;
                    index = i;
                }
            }
        }

        return index || M - m;
    }

    // sorts node children by the best axis for split
    _chooseSplitAxis(node, m, M) {
        const compareMinX = node.leaf ? this.compareMinX : compareNodeMinX;
        const compareMinY = node.leaf ? this.compareMinY : compareNodeMinY;
        const xMargin = this._allDistMargin(node, m, M, compareMinX);
        const yMargin = this._allDistMargin(node, m, M, compareMinY);

        // if total distributions margin value is minimal for x, sort by minX,
        // otherwise it's already sorted by minY
        if (xMargin < yMargin) node.children.sort(compareMinX);
    }

    // total margin of all possible split distributions where each node is at least m full
    _allDistMargin(node, m, M, compare) {
        node.children.sort(compare);

        const toBBox = this.toBBox;
        const leftBBox = distBBox(node, 0, m, toBBox);
        const rightBBox = distBBox(node, M - m, M, toBBox);
        let margin = bboxMargin(leftBBox) + bboxMargin(rightBBox);

        for (let i = m; i < M - m; i++) {
            const child = node.children[i];
            extend(leftBBox, node.leaf ? toBBox(child) : child);
            margin += bboxMargin(leftBBox);
        }

        for (let i = M - m - 1; i >= m; i--) {
            const child = node.children[i];
            extend(rightBBox, node.leaf ? toBBox(child) : child);
            margin += bboxMargin(rightBBox);
        }

        return margin;
    }

    _adjustParentBBoxes(bbox, path, level) {
        // adjust bboxes along the given tree path
        for (let i = level; i >= 0; i--) {
            extend(path[i], bbox);
        }
    }

    _condense(path) {
        // go through the path, removing empty nodes and updating bboxes
        for (let i = path.length - 1, siblings; i >= 0; i--) {
            if (path[i].children.length === 0) {
                if (i > 0) {
                    siblings = path[i - 1].children;
                    siblings.splice(siblings.indexOf(path[i]), 1);

                } else this.clear();

            } else calcBBox(path[i], this.toBBox);
        }
    }
}

function findItem(item, items, equalsFn) {
    if (!equalsFn) return items.indexOf(item);

    for (let i = 0; i < items.length; i++) {
        if (equalsFn(item, items[i])) return i;
    }
    return -1;
}

// calculate node's bbox from bboxes of its children
function calcBBox(node, toBBox) {
    distBBox(node, 0, node.children.length, toBBox, node);
}

// min bounding rectangle of node children from k to p-1
function distBBox(node, k, p, toBBox, destNode) {
    if (!destNode) destNode = createNode(null);
    destNode.minX = Infinity;
    destNode.minY = Infinity;
    destNode.maxX = -Infinity;
    destNode.maxY = -Infinity;

    for (let i = k; i < p; i++) {
        const child = node.children[i];
        extend(destNode, node.leaf ? toBBox(child) : child);
    }

    return destNode;
}

function extend(a, b) {
    a.minX = Math.min(a.minX, b.minX);
    a.minY = Math.min(a.minY, b.minY);
    a.maxX = Math.max(a.maxX, b.maxX);
    a.maxY = Math.max(a.maxY, b.maxY);
    return a;
}

function compareNodeMinX(a, b) { return a.minX - b.minX; }
function compareNodeMinY(a, b) { return a.minY - b.minY; }

function bboxArea(a)   { return (a.maxX - a.minX) * (a.maxY - a.minY); }
function bboxMargin(a) { return (a.maxX - a.minX) + (a.maxY - a.minY); }

function enlargedArea(a, b) {
    return (Math.max(b.maxX, a.maxX) - Math.min(b.minX, a.minX)) *
           (Math.max(b.maxY, a.maxY) - Math.min(b.minY, a.minY));
}

function intersectionArea(a, b) {
    const minX = Math.max(a.minX, b.minX);
    const minY = Math.max(a.minY, b.minY);
    const maxX = Math.min(a.maxX, b.maxX);
    const maxY = Math.min(a.maxY, b.maxY);

    return Math.max(0, maxX - minX) *
           Math.max(0, maxY - minY);
}

function contains(a, b) {
    return a.minX <= b.minX &&
           a.minY <= b.minY &&
           b.maxX <= a.maxX &&
           b.maxY <= a.maxY;
}

function intersects(a, b) {
    return b.minX <= a.maxX &&
           b.minY <= a.maxY &&
           b.maxX >= a.minX &&
           b.maxY >= a.minY;
}

function createNode(children) {
    return {
        children,
        height: 1,
        leaf: true,
        minX: Infinity,
        minY: Infinity,
        maxX: -Infinity,
        maxY: -Infinity
    };
}

// sort an array so that items come in groups of n unsorted items, with groups sorted between each other;
// combines selection algorithm with binary divide & conquer approach

function multiSelect(arr, left, right, n, compare) {
    const stack = [left, right];

    while (stack.length) {
        right = stack.pop();
        left = stack.pop();

        if (right - left <= n) continue;

        const mid = left + Math.ceil((right - left) / n / 2) * n;
        quickselect(arr, mid, left, right, compare);

        stack.push(left, mid, mid, right);
    }
}

var rbush = /*#__PURE__*/Object.freeze({
	__proto__: null,
	'default': RBush
});

const REarth = 6371;

const WGS84 = {
    a: 6378.137,
    b: 6356.752314245,
    f: 1 / 298.257223563
};

function radians(degrees) {
    return degrees / (180 / Math.PI);
}

function degrees(radians) {
    return radians * (180 / Math.PI);
}

const consoleColors = {
    reset: '\x1b[0m',
    bright: '\x1b[1m',
    dim: '\x1b[2m',
    underscore: '\x1b[4m',
    blink: '\x1b[5m',
    reverse: '\x1b[7m',
    hidden: '\x1b[8m',
    fg: {
        black: '\x1b[30m',
        red: '\x1b[31m',
        green: '\x1b[32m',
        yellow: '\x1b[33m',
        blue: '\x1b[34m',
        magenta: '\x1b[35m',
        cyan: '\x1b[36m',
        white: '\x1b[37m',
        crimson: '\x1b[38m'
    },
    bg: {
        black: '\x1b[40m',
        red: '\x1b[41m',
        green: '\x1b[42m',
        yellow: '\x1b[43m',
        blue: '\x1b[44m',
        magenta: '\x1b[45m',
        cyan: '\x1b[46m',
        white: '\x1b[47m',
        crimson: '\x1b[48m'
    }
};

var util = {
    radians,
    degrees,
    REarth,
    WGS84,
    consoleColors
};

// Vincenty's Algorithm, courtesy of Movable Type Ltd
// https://www.movable-type.co.uk/scripts/latlong-vincenty.html
// Published and included here under an MIT licence
function inverse(p1, p2) {
    const φ1 = util.radians(p1.y), λ1 = util.radians(p1.x);
    const φ2 = util.radians(p2.y), λ2 = util.radians(p2.x);

    const { a, b, f } = util.WGS84;

    const L = λ2 - λ1; // L = difference in longitude, U = reduced latitude, defined by tan U = (1-f)·tanφ.
    const tanU1 = (1 - f) * Math.tan(φ1), cosU1 = 1 / Math.sqrt((1 + tanU1 * tanU1)), sinU1 = tanU1 * cosU1;
    const tanU2 = (1 - f) * Math.tan(φ2), cosU2 = 1 / Math.sqrt((1 + tanU2 * tanU2)), sinU2 = tanU2 * cosU2;

    const antipodal = Math.abs(L) > Math.PI / 2 || Math.abs(φ2 - φ1) > Math.PI / 2;

    let λ = L, sinλ = null, cosλ = null; // λ = difference in longitude on an auxiliary sphere
    let σ = antipodal ? Math.PI : 0, sinσ = 0, cosσ = antipodal ? -1 : 1, sinSqσ = null; // σ = angular distance P₁ P₂ on the sphere
    let cos2σₘ = 1;                      // σₘ = angular distance on the sphere from the equator to the midpoint of the line
    let sinα = null, cosSqα = 1;         // α = azimuth of the geodesic at the equator
    let C = null;

    let λʹ = null, iterations = 0;
    do {
        sinλ = Math.sin(λ);
        cosλ = Math.cos(λ);
        sinSqσ = (cosU2 * sinλ) * (cosU2 * sinλ) + (cosU1 * sinU2 - sinU1 * cosU2 * cosλ) * (cosU1 * sinU2 - sinU1 * cosU2 * cosλ);
        if (Math.abs(sinSqσ) < Number.EPSILON) break;  // co-incident/antipodal points (falls back on λ/σ = L)
        sinσ = Math.sqrt(sinSqσ);
        cosσ = sinU1 * sinU2 + cosU1 * cosU2 * cosλ;
        σ = Math.atan2(sinσ, cosσ);
        sinα = cosU1 * cosU2 * sinλ / sinσ;
        cosSqα = 1 - sinα * sinα;
        cos2σₘ = (cosSqα != 0) ? (cosσ - 2 * sinU1 * sinU2 / cosSqα) : 0; // on equatorial line cos²α = 0 (§6)
        C = f / 16 * cosSqα * (4 + f * (4 - 3 * cosSqα));
        λʹ = λ;
        λ = L + (1 - C) * f * sinα * (σ + C * sinσ * (cos2σₘ + C * cosσ * (-1 + 2 * cos2σₘ * cos2σₘ)));
        const iterationCheck = antipodal ? Math.abs(λ) - Math.PI : Math.abs(λ);
        if (iterationCheck > Math.PI) throw new EvalError('λ > π');
    } while (Math.abs(λ - λʹ) > 1e-7 && ++iterations < 1000);
    if (iterations >= 1000) throw new EvalError('Vincenty formula failed to converge');

    const uSq = cosSqα * (a * a - b * b) / (b * b);
    const A = 1 + uSq / 16384 * (4096 + uSq * (-768 + uSq * (320 - 175 * uSq)));
    const B = uSq / 1024 * (256 + uSq * (-128 + uSq * (74 - 47 * uSq)));
    const Δσ = B * sinσ * (cos2σₘ + B / 4 * (cosσ * (-1 + 2 * cos2σₘ * cos2σₘ) -
        B / 6 * cos2σₘ * (-3 + 4 * sinσ * sinσ) * (-3 + 4 * cos2σₘ * cos2σₘ)));

    const s = b * A * (σ - Δσ); // s = length of the geodesic

    // note special handling of exactly antipodal points where sin²σ = 0 (due to discontinuity
    // atan2(0, 0) = 0 but atan2(ε, 0) = π/2 / 90°) - in which case bearing is always meridional,
    // due north (or due south!)
    // α = azimuths of the geodesic; α2 the direction P₁ P₂ produced
    const α1 = Math.abs(sinSqσ) < Number.EPSILON ? 0 : Math.atan2(cosU2 * sinλ, cosU1 * sinU2 - sinU1 * cosU2 * cosλ);
    const α2 = Math.abs(sinSqσ) < Number.EPSILON ? Math.PI : Math.atan2(cosU1 * sinλ, -sinU1 * cosU2 + cosU1 * sinU2 * cosλ);

    return {
        distance: s,
        initialBearing: Math.abs(s) < Number.EPSILON ? NaN : util.degrees(α1),
        finalBearing: Math.abs(s) < Number.EPSILON ? NaN : util.degrees(α2),
        iterations: iterations,
    };
}

var vincentys = {
    inverse
};

class Point {
    constructor(x, y) {
        if (Array.isArray(x))
            [this.x, this.y, this.r] = [x[y].longitude, x[y].latitude, y];
        else
            [this.x, this.y] = [x, y];
    }

    geojson(id, properties) {
        const feature = {
            type: 'Feature',
            id,
            properties: properties || {},
            geometry: {
                type: 'Point',
                coordinates: [this.x, this.y]
            }
        };
        return feature;
    }

    toString() {
        return JSON.stringify(this.geojson());
    }

    intersects(other) {
        if (other instanceof Point)
            return (this.x == other.x && this.y == other.y);
        if (other instanceof Box)
            return other.intersects(this);
        throw ('other must be either Point or Box');
    }

    distanceEarth(p) {
        return this.distanceEarthFCC(p);
    }

    distanceEarthFCC(p) {
        const df = (p.y - this.y);
        const dg = (p.x - this.x);
        const fm = util.radians((this.y + p.y) / 2);
        const k1 = 111.13209 - 0.566605 * Math.cos(2 * fm) + 0.00120 * Math.cos(4 * fm);
        const k2 = 111.41513 * Math.cos(fm) - 0.09455 * Math.cos(3 * fm) + 0.00012 * Math.cos(5 * fm);
        const d = Math.sqrt((k1 * df) * (k1 * df) + (k2 * dg) * (k2 * dg));
        return d;
    }

    distanceEarthRev(dx, dy) {
        const lon = this.x + util.degrees((dx / util.REarth) / Math.cos(util.radians(this.y)));
        const lat = this.y + util.degrees(dy / util.REarth);
        return new Point(lon, lat);
    }

    distanceEarthVincentys(p) {
        return vincentys.inverse(this, p).distance;
    }
}

class Range {
    constructor(a, b) {
        [this.a, this.b] = [a, b];
    }

    count() {
        return Math.abs(this.a - this.b) + 1;
    }

    center() {
        return Math.min(this.a, this.b) + Math.floor(Math.abs(this.a - this.b) / 2);
    }

    left() {
        return new Range(Math.min(this.a, this.b), Math.min(this.a, this.b) + Math.floor(Math.abs(this.a - this.b) / 2));
    }

    right() {
        return new Range(Math.min(this.a, this.b) + Math.ceil(Math.abs(this.a - this.b) / 2), Math.max(this.a, this.b));
    }

    contains(p) {
        return this.a <= p && p <= this.b;
    }

    toString() {
        return `${this.a}:${this.b}`;
    }
}

class Box {
    constructor(a, b, c, d) {
        if (a instanceof Range) {
            [this.x1, this.y1, this.x2, this.y2] = [Infinity, Infinity, -Infinity, -Infinity];
            for (let i = a.a; i <= a.b; i++) {
                this.x1 = Math.min(b.flightPoints[i].x, this.x1);
                this.y1 = Math.min(b.flightPoints[i].y, this.y1);
                this.x2 = Math.max(b.flightPoints[i].x, this.x2);
                this.y2 = Math.max(b.flightPoints[i].y, this.y2);
            }
        } else {
            [this.x1, this.y1, this.x2, this.y2] = [a, b, c, d];
        }
    }

    vertices() {
        return [
            new Point(this.x1, this.y1),
            new Point(this.x2, this.y1),
            new Point(this.x2, this.y2),
            new Point(this.x1, this.y2)
        ];
    }

    intersects(other) {
        if (other instanceof Point)
            return (this.x1 <= other.x && this.y1 <= other.y && this.x2 >= other.x && this.y2 >= other.y);
        if (this.x1 > other.x2 || this.x2 < other.x1 || this.y1 > other.y2 || this.y2 < other.y1)
            return false;
        return true;
    }

    area() {
        const h = Math.abs(this.x2 - this.x1);
        const w = Math.abs(this.y2 - this.y1);
        return h * w;
    }

    distance(other) {
        if (this.intersects(other))
            return 0;
        let x1, y1, x2, y2;
        if (this.x1 > other.x2)
            x1 = this.x1;
        x2 = other.x2;
        if (this.x2 < other.x1)
            x1 = this.x2;
        x2 = other.x1;
        if (this.y1 < other.y2)
            y1 = this.y1;
        y2 = other.y2;
        if (this.y2 > other.y1)
            y1 = this.y2;
        y2 = other.y1;
        if (x1 === undefined) {
            x1 = this.x1;
            x2 = this.x1;
        }
        if (y1 === undefined) {
            y1 = this.y1;
            y2 = this.y1;
        }
        return new Point(x1, y1).distanceEarth(new Point(x2, y2));
    }

    geojson(id, properties) {
        const feature = {
            type: 'Feature',
            id,
            properties: properties || {},
            geometry: {
                type: 'Polygon',
                coordinates: [[
                    [this.x1, this.y1],
                    [this.x1, this.y2],
                    [this.x2, this.y2],
                    [this.x2, this.y1],
                    [this.x1, this.y1],
                ]]
            }
        };
        return feature;
    }

    geojson_collection(boxes) {
        let features = [];
        for (let b in boxes) {
            features.push(boxes[b].geojson(b, { id: b }));
        }
        let collection = {
            type: 'FeatureCollection',
            features
        };
        return collection;
    }

    toString() {
        return JSON.stringify(this.geojson());
    }
}

var foundation = {
    Point,
    Range,
    Box
};

var _Flatbush = getCjsExportFromNamespace(flatbush);

var RBush$1 = getCjsExportFromNamespace(rbush);

const Flatbush$1 = _Flatbush.default ? _Flatbush.default : _Flatbush;



const Box$1 = foundation.Box;
const Point$1 = foundation.Point;

/* Paragliding Competition Tracklog Optimization, Ondˇrej Palkovsk´y
 * http://www.penguin.cz/~ondrap/algorithm.pdf
 * Refer for a proof that the maximum path between rectangles always
 * passes through their vertices
 * 
 * My addition :
 * With 3 rectanges, for each rectangle, the maximum path between them always includes:
 * a) only the vertices that lie on the vertices of the minimum bounding box if there are such vertices
 * b) if there are no such vertices, any vertices that lie on the edges of the bounding box
 * c) or potentially any vertice if no vertices lie on the edges of the bounding box
 */
function maxDistance3Rectangles(boxes, distance_fn) {
    let vertices = [];
    let minx, miny, maxx, maxy;
    for (let r of [0, 1, 2]) {
        vertices[r] = boxes[r].vertices();
        minx = Math.min(minx || Infinity, boxes[r].x1);
        miny = Math.min(miny || Infinity, boxes[r].y1);
        maxx = Math.max(maxx || -Infinity, boxes[r].x2);
        maxy = Math.max(maxy || -Infinity, boxes[r].y2);
    }

    let intersecting = false;
    for (let i of [0, 1, 2])
        if (boxes[i].intersects(boxes[(i + 1) % 3])) {
            intersecting = true;
            break;
        }

    let path = [[], [], []];
    for (let i of [0, 1, 2]) {
        for (let v of vertices[i])
            if ((v.x == minx || v.x == maxx) && (v.y == miny || v.y == maxy))
                path[i].push(v);
        if (path[i].length == 0)
            for (let v of vertices[i])
                if (v.x == minx || v.x == maxx || v.y == miny || v.y == maxy)
                    path[i].push(v);
        if (path[i].length == 0 || intersecting)
            path[i] = vertices[i];
    }

    let distanceMax = 0;
    for (let i of path[0])
        for (let j of path[1])
            for (let k of path[2]) {
                const distance = distance_fn(i, j, k);
                distanceMax = Math.max(distanceMax, distance);
            }

    return distanceMax;
}

function minDistance3Rectangles(boxes, distance_fn) {
    let vertices = [];
    let minx, miny, maxx, maxy;
    for (let r of [0, 1, 2]) {
        vertices[r] = boxes[r].vertices();
        minx = Math.min(minx || Infinity, boxes[r].x1);
        miny = Math.min(miny || Infinity, boxes[r].y1);
        maxx = Math.max(maxx || -Infinity, boxes[r].x2);
        maxy = Math.max(maxy || -Infinity, boxes[r].y2);
    }

    let path = [[], [], []];
    for (let i of [0, 1, 2]) {
        path[i] = vertices[i];
    }

    let distanceMin = Infinity;
    for (let i of path[0])
        for (let j of path[1])
            for (let k of path[2]) {
                const distance = distance_fn(i, j, k);
                distanceMin = Math.min(distanceMin, distance);
            }

    return distanceMin;
}

function maxDistance2Rectangles(boxes) {
    let vertices = [];
    let minx, miny, maxx, maxy;
    for (let r of [0, 1]) {
        vertices[r] = boxes[r].vertices();
        minx = Math.min(minx || Infinity, boxes[r].x1);
        miny = Math.min(miny || Infinity, boxes[r].y1);
        maxx = Math.max(maxx || -Infinity, boxes[r].x2);
        maxy = Math.max(maxy || -Infinity, boxes[r].y2);
    }

    let path = [[], []];
    for (let i of [0, 1]) {
        path[i] = vertices[i];
    }

    let distanceMax = 0;
    for (let i of path[0])
        for (let j of path[1]) {
            const distance = i.distanceEarth(j);
            distanceMax = Math.max(distanceMax, distance);
        }

    return distanceMax;
}

function maxDistancePath(origin, path, pathStart) {
    let distanceMax = 0;
    for (let i of path[pathStart]) {
        const distance1 = origin !== undefined ? i.distanceEarth(origin) : 0;
        const distance2 = path.length > pathStart + 1 ? maxDistancePath(i, path, pathStart + 1) : 0;
        distanceMax = Math.max(distanceMax, distance1 + distance2);
    }
    return distanceMax;
}

function maxDistanceNRectangles(boxes) {
    let vertices = [];
    let minx, miny, maxx, maxy;
    let path = [];
    for (let r in boxes) {
        if (boxes[r] instanceof Box$1) {
            vertices[r] = boxes[r].vertices();
            minx = Math.min(minx || Infinity, boxes[r].x1);
            miny = Math.min(miny || Infinity, boxes[r].y1);
            maxx = Math.max(maxx || -Infinity, boxes[r].x2);
            maxy = Math.max(maxy || -Infinity, boxes[r].y2);
        } else if (boxes[r] instanceof Point$1) {
            vertices[r] = [boxes[r]];
            minx = Math.min(minx || Infinity, boxes[r].x);
            miny = Math.min(miny || Infinity, boxes[r].y);
            maxx = Math.max(maxx || -Infinity, boxes[r].x);
            maxy = Math.max(maxy || -Infinity, boxes[r].y);
        } else
            throw new TypeError('boxes must contain only Box or Point');
        path[r] = [];
    }

    for (let i in boxes)
        if (i > 0) {
            const intersecting = boxes[i - 1].intersects(boxes[i]);
            if (intersecting) {
                boxes[i - 1].intersecting = true;
                boxes[i].intersecting = true;
            }
        }

    for (let i in boxes) {
        if (boxes[i].intersecting) {
            path[i] = vertices[i];
            continue;
        }
        for (let v of vertices[i])
            if ((v.x == minx || v.x == maxx) && (v.y == miny || v.y == maxy))
                path[i].push(v);
        if (path[i].length == 0)
            for (let v of vertices[i])
                if (v.x == minx || v.x == maxx || v.y == miny || v.y == maxy)
                    path[i].push(v);
        if (path[i].length == 0)
            path[i] = vertices[i];
    }

    let distanceMax = maxDistancePath(undefined, path, 0);
    return distanceMax;
}

function findClosestPairIn2Segments(p1, p2, opt) {
    const precomputed = opt.flight.closestPairs.search({ minX: p1, minY: p2, maxX: p1, maxY: p2 })[0];
    if (precomputed !== undefined)
        return precomputed.o;

    const rtree = new Flatbush$1(p1 + 1 - opt.launch, 8);
    const lc = Math.abs(Math.cos(util.radians(opt.flight.flightPoints[p1].y)));
    for (let i = opt.launch; i <= p1; i++) {
        const r = opt.flight.flightPoints[i];
        rtree.add(r.x * lc, r.y, r.x * lc, r.y);
    }
    rtree.finish();

    const precomputedNext = opt.flight.closestPairs.search({ minX: p1, minY: p2, maxX: p1, maxY: opt.landing })[0];
    const lastUnknown = precomputedNext !== undefined ? precomputedNext.maxY : opt.landing;
    let min = { d: Infinity };
    for (let i = p2; i < lastUnknown; i++) {
        const pout = opt.flight.flightPoints[i];
        const n = rtree.neighbors(pout.x * lc, pout.y, 1)[0] + opt.launch;
        if (n !== undefined) {
            const pin = opt.flight.flightPoints[n];
            const d = pout.distanceEarth(pin);
            if (d < min.d) {
                min.d = d;
                min.out = pout;
                min.in = pin;
            }
        }
    }
    if (precomputedNext !== undefined) {
        const pout = precomputedNext.o.out;
        const pin = precomputedNext.o.in;
        const d = pout.distanceEarth(pin);
        if (d < min.d) {
            min.d = d;
            min.out = pout;
            min.in = pin;
        }
    }

    opt.flight.closestPairs.insert({ minX: p1, minY: p2, maxX: p1, maxY: p2, o: min });
    return min;
}

function findFurthestPointInSegment(sega, segb, target, opt) {
    let points;
    if (target instanceof Box$1)
        points = target.vertices();
    else if (target instanceof Point$1)
        points = [target];
    else
        throw new TypeError('target must be either Point or Box');
    
    let pos;
    if (sega === opt.launch)
        pos = 0;
    else if (segb === opt.landing)
        pos = 1;
    else
        throw new RangeError('this function supports seeking only from the launch or the landing point');

    let distanceMax = -Infinity;
    let fpoint;
    for (let v of points) {
        const precomputed = opt.flight.furthestPoints[pos].get(v.x + ':' + v.y, -Infinity);
        let distanceVMax = -Infinity;
        let fVpoint;
        if (sega <= precomputed && precomputed <= segb) {
            fVpoint = opt.flight.flightPoints[precomputed];
            distanceVMax = v.distanceEarth(fVpoint);
        }
        let intersecting = false;
        let canCache = false;
        if (fVpoint === undefined) {
            for (let p = sega; p <= segb; p++) {
                const f = opt.flight.flightPoints[p];
                if (target instanceof Box$1 && target.intersects(f)) {
                    intersecting = true;
                    continue;
                }
                const d = v.distanceEarth(f);
                if (d > distanceVMax) {
                    distanceVMax = d;
                    fVpoint = f;
                    canCache = true;
                }
            }
            if (intersecting) {
                for (let p of points) {
                    const d = v.distanceEarth(p);
                    if (d > distanceVMax) {
                        distanceVMax = d;
                        fVpoint = target;
                        canCache = false;
                    }
                }
            }
            if (canCache)
                opt.flight.furthestPoints[pos].set(v.x + ':' + v.y, fVpoint.r);
        }
        if (distanceVMax > distanceMax) {
            distanceMax = distanceVMax;
            fpoint = fVpoint;
        }
    }
    if (fpoint === undefined)
        fpoint = target;

    return fpoint;
}

function isTriangleClosed(p1, p2, distance, opt) {
    const fastCandidates = opt.flight.closestPairs.search({ minX: opt.launch, minY: p2, maxX: p1, maxY: opt.landing });
    for (let f of fastCandidates)
        if (f.o.d <= opt.scoring.closingDistanceFree)
            return f.o;

    const min = findClosestPairIn2Segments(p1, p2, opt);

    if (min.d <= opt.scoring.closingDistance(distance, opt))
        return min;
    return false;
}

function init(opt) {
    opt.flight.closestPairs = new RBush$1();
    opt.flight.furthestPoints = [new map(), new map()];
    opt.flight.flightPoints = new Array(opt.flight.filtered.length);
    for (let r in opt.flight.filtered)
        opt.flight.flightPoints[r] = new Point$1(opt.flight.filtered, r);
}

var geom = {
    maxDistance3Rectangles,
    maxDistance2Rectangles,
    minDistance3Rectangles,
    maxDistanceNRectangles,
    findFurthestPointInSegment,
    isTriangleClosed,
    init
};

function boundFlatTriangle(ranges, boxes, opt) {
    const maxDistance = geom.maxDistance3Rectangles(boxes, (i, j, k) => {
        return i.distanceEarth(j) + j.distanceEarth(k) + k.distanceEarth(i);
    });

    let cp = { d: 0 };
    if (ranges[0].b < ranges[2].a) {
        cp = geom.isTriangleClosed(ranges[0].b, ranges[2].a, maxDistance, opt);
        if (!cp)
            return 0;
        return (maxDistance * opt.scoring.multiplier) - closingPenalty(cp.d, opt);
    }

    return maxDistance * opt.scoring.multiplier;
}

function scoreFlatTriangle(tp, opt) {
    const d0 = tp[0].distanceEarth(tp[1]);
    const d1 = tp[1].distanceEarth(tp[2]);
    const d2 = tp[2].distanceEarth(tp[0]);
    const distance = d0 + d1 + d2;

    let cp = geom.isTriangleClosed(tp[0].r, tp[2].r, distance, opt);
    if (!cp)
        return { score: 0 };

    let score = distance * opt.scoring.multiplier - closingPenalty(cp.d, opt);

    return { distance, score, tp, cp };
}

function closingPenalty(cd, opt) {
    return (cd > (opt.scoring.closingDistanceFree || 0) ? cd : 0);
}

function closingWithLimit(distance, opt) {
    return Math.max(opt.scoring.closingDistanceFixed || 0, distance * (opt.scoring.closingDistanceRelative || 0));
}

/*eslint no-unused-vars: ["error", { "args": "none" }]*/
function closingWithPenalty(distance, opt) {
    return Infinity;
}

function boundDistance3Points(ranges, boxes, opt) {
    const pin = geom.findFurthestPointInSegment(opt.launch, ranges[0].a, boxes[0], opt);
    const pout = geom.findFurthestPointInSegment(ranges[2].b, opt.landing, boxes[2], opt);
    const maxDistance = geom.maxDistanceNRectangles([pin, boxes[0], boxes[1], boxes[2], pout]);
    return maxDistance;
}

function scoreDistance3Points(tp, opt) {
    let distance = 0;
    const pin = geom.findFurthestPointInSegment(opt.launch, tp[0].r, tp[0], opt);
    const pout = geom.findFurthestPointInSegment(tp[2].r, opt.landing, tp[2], opt);
    const all = [pin, tp[0], tp[1], tp[2], pout];
    for (let i of [0, 1, 2, 3])
        distance += all[i].distanceEarth(all[i + 1]);
    return { distance, score: distance, tp: tp, cp: { in: pin, out: pout, d: 0 } };
}

function boundFAITriangle(ranges, boxes, opt) {
    const maxTriDistance = geom.maxDistance3Rectangles(boxes, (i, j, k) => {
        return i.distanceEarth(j) + j.distanceEarth(k) + k.distanceEarth(i);
    });
    const minTriDistance = geom.minDistance3Rectangles(boxes, (i, j, k) => {
        return i.distanceEarth(j) + j.distanceEarth(k) + k.distanceEarth(i);
    });

    const maxAB = geom.maxDistance2Rectangles([boxes[0], boxes[1]]);
    const maxBC = geom.maxDistance2Rectangles([boxes[1], boxes[2]]);
    const maxCA = geom.maxDistance2Rectangles([boxes[2], boxes[0]]);
    const maxDistance = Math.min(maxAB / opt.scoring.minSide,
        maxBC / opt.scoring.minSide, maxCA / opt.scoring.minSide, maxTriDistance);
    if (maxDistance < minTriDistance)
        return 0;

    let cp = { d: 0 };
    if (ranges[0].b < ranges[2].a) {
        cp = geom.isTriangleClosed(ranges[0].b, ranges[2].a, maxDistance, opt);
        if (!cp)
            return 0;
        return (maxDistance * opt.scoring.multiplier) - closingPenalty(cp.d, opt);
    }

    return maxDistance * opt.scoring.multiplier;
}

function scoreFAITriangle(tp, opt) {
    const d0 = tp[0].distanceEarth(tp[1]);
    const d1 = tp[1].distanceEarth(tp[2]);
    const d2 = tp[2].distanceEarth(tp[0]);
    const distance = d0 + d1 + d2;
    let score = 0;
    const minSide = opt.scoring.minSide * distance;
    if (d0 >= minSide && d1 >= minSide && d2 >= minSide)
        score = distance * opt.scoring.multiplier;

    let cp = geom.isTriangleClosed(tp[0].r, tp[2].r, distance, opt);
    if (!cp)
        return { score: 0 };

    score -= closingPenalty(cp.d, opt);

    return { distance, score, tp, cp };
}

var scoring = {
    closingWithLimit,
    closingWithPenalty,
    boundFlatTriangle,
    scoreFlatTriangle,
    boundDistance3Points,
    scoreDistance3Points,
    boundFAITriangle,
    scoreFAITriangle,
};

/*
 * These are the scoring types
 *
 * The differences are mostly in the mutipliers and the way the closing distances of the triangles are calculated
 * 
 * These are the tools that are already implemented in scoring.js/geom.js:
 * closingDistance is the triangle closing type, you choose between two types:
 *      closingWithLimit - closing distance is limited
 *      closingWithPenalty - closing distance is unlimited but incurs a penalty
 * closingDistanceFixed is the fixed closing distance that is always accepted
 * closingDistanceFree is the closing distance that does not incur any scoring penalty
 * closingDistanceRelative is the closing distance that is relative to the full triangle length but incurs a penalty
*/
const rules = {
    'FFVL': [
        {
            name: 'Distance 3 points',
            multiplier: 1,
            bound: scoring.boundDistance3Points,
            score: scoring.scoreDistance3Points,
            rounding: round2,
            cardinality: 3
        },
        {
            name: 'Triangle plat',
            multiplier: 1.2,
            bound: scoring.boundFlatTriangle,
            score: scoring.scoreFlatTriangle,
            closingDistance: scoring.closingWithLimit,
            closingDistanceFixed: 3,
            closingDistanceFree: 3,
            closingDistanceRelative: 0.05,
            rounding: round2,
            cardinality: 3
        },
        {
            name: 'Triangle FAI',
            multiplier: 1.4,
            bound: scoring.boundFAITriangle,
            score: scoring.scoreFAITriangle,
            minSide: 0.28,
            closingDistance: scoring.closingWithLimit,
            closingDistanceFixed: 3,
            closingDistanceFree: 3,
            closingDistanceRelative: 0.05,
            rounding: round2,
            cardinality: 3
        }
    ],
    'XContest': [
        {
            name: 'Free flight',
            multiplier: 1,
            bound: scoring.boundDistance3Points,
            score: scoring.scoreDistance3Points,
            rounding: round2,
            cardinality: 3
        },
        {
            name: 'Free triangle',
            multiplier: 1.2,
            bound: scoring.boundFlatTriangle,
            score: scoring.scoreFlatTriangle,
            closingDistance: scoring.closingWithLimit,
            closingDistanceRelative: 0.2,
            rounding: round2,
            cardinality: 3
        },
        {
            name: 'FAI triangle',
            multiplier: 1.4,
            bound: scoring.boundFAITriangle,
            score: scoring.scoreFAITriangle,
            minSide: 0.28,
            closingDistance: scoring.closingWithLimit,
            closingDistanceRelative: 0.2,
            rounding: round2,
            cardinality: 3
        },
        {
            name: 'Closed free triangle',
            multiplier: 1.4,
            bound: scoring.boundFlatTriangle,
            score: scoring.scoreFlatTriangle,
            closingDistance: scoring.closingWithLimit,
            closingDistanceFixed: 0,
            closingDistanceFree: 0,
            closingDistanceRelative: 0.05,
            rounding: round2,
            cardinality: 3
        },
        {
            name: 'Closed FAI triangle',
            multiplier: 1.6,
            bound: scoring.boundFAITriangle,
            score: scoring.scoreFAITriangle,
            minSide: 0.28,
            closingDistance: scoring.closingWithLimit,
            closingDistanceFixed: 0,
            closingDistanceFree: 0,
            closingDistanceRelative: 0.05,
            rounding: round2,
            cardinality: 3
        }
    ]
};

function round2(score) {
    return parseFloat(parseFloat(score).toFixed(2));
}

var scoringRules_config = rules;

//TODO:
// Remove Dict and use native Map as much as possible here
//Use ObjectChangeDescriptor to avoid creating useless arrays and benefit from similar gains made in property-changes


var ObjectChangeDescriptor$2 = changeDescriptor.ObjectChangeDescriptor,
    ChangeListenersRecord$1 = changeDescriptor.ChangeListenersRecord,
    ListenerGhost$2 = changeDescriptor.ListenerGhost;

var rangeChangeDescriptors = new weakMap$1(); // {isActive, willChangeListeners, changeListeners}


//
function RangeChangeDescriptor(name) {
    this.name = name;
    this.isActive = false;
    this._willChangeListeners = null;
    this._changeListeners = null;
}
RangeChangeDescriptor.prototype = new ObjectChangeDescriptor$2();
RangeChangeDescriptor.prototype.constructor = RangeChangeDescriptor;

RangeChangeDescriptor.prototype.changeListenersRecordConstructor = RangeChangeListenersRecord;
RangeChangeDescriptor.prototype.willChangeListenersRecordConstructor = RangeWillChangeListenersRecord;
Object.defineProperty(RangeChangeDescriptor.prototype,"active",{
    get: function() {
        return this._active || (this._active = this._current ? this._current.slice():[]);
    }
});


var RangeChangeListenersSpecificHandlerMethodName = new _map();

function RangeChangeListenersRecord(name) {
    var specificHandlerMethodName = RangeChangeListenersSpecificHandlerMethodName.get(name);
    if(!specificHandlerMethodName) {
        specificHandlerMethodName = "handle";
        specificHandlerMethodName += name.slice(0, 1).toUpperCase();
        specificHandlerMethodName += name.slice(1);
        specificHandlerMethodName += "RangeChange";
        RangeChangeListenersSpecificHandlerMethodName.set(name,specificHandlerMethodName);
    }
    this.specificHandlerMethodName = specificHandlerMethodName;
	return this;
}
RangeChangeListenersRecord.prototype = new ChangeListenersRecord$1();
RangeChangeListenersRecord.prototype.constructor = RangeChangeListenersRecord;

var RangeWillChangeListenersSpecificHandlerMethodName = new _map();

function RangeWillChangeListenersRecord(name) {
    var specificHandlerMethodName = RangeWillChangeListenersSpecificHandlerMethodName.get(name);
    if(!specificHandlerMethodName) {
        specificHandlerMethodName = "handle";
        specificHandlerMethodName += name.slice(0, 1).toUpperCase();
        specificHandlerMethodName += name.slice(1);
        specificHandlerMethodName += "RangeWillChange";
        RangeWillChangeListenersSpecificHandlerMethodName.set(name,specificHandlerMethodName);
    }
    this.specificHandlerMethodName = specificHandlerMethodName;
    return this;
}
RangeWillChangeListenersRecord.prototype = new ChangeListenersRecord$1();
RangeWillChangeListenersRecord.prototype.constructor = RangeWillChangeListenersRecord;

var rangeChanges = RangeChanges;
function RangeChanges() {
    throw new Error("Can't construct. RangeChanges is a mixin.");
}

RangeChanges.prototype.getAllRangeChangeDescriptors = function () {
    if (!rangeChangeDescriptors.has(this)) {
        rangeChangeDescriptors.set(this, new _map());
    }
    return rangeChangeDescriptors.get(this);
};

RangeChanges.prototype.getRangeChangeDescriptor = function (token) {
    var tokenChangeDescriptors = this.getAllRangeChangeDescriptors();
    token = token || "";
    if (!tokenChangeDescriptors.has(token)) {
        tokenChangeDescriptors.set(token, new RangeChangeDescriptor(token));
    }
    return tokenChangeDescriptors.get(token);
};

var ObjectsDispatchesRangeChanges = new weakMap$1(),
    dispatchesRangeChangesGetter = function() {
        return ObjectsDispatchesRangeChanges.get(this);
    },
    dispatchesRangeChangesSetter = function(value) {
        return ObjectsDispatchesRangeChanges.set(this,value);
    },
    dispatchesChangesMethodName$1 = "dispatchesRangeChanges",
    dispatchesChangesPropertyDescriptor$1 = {
        get: dispatchesRangeChangesGetter,
        set: dispatchesRangeChangesSetter,
        configurable: true,
        enumerable: false
    };

RangeChanges.prototype.addRangeChangeListener = function addRangeChangeListener(listener, token, beforeChange) {
    // a concession for objects like Array that are not inherently observable
    if (!this.isObservable && this.makeObservable) {
        this.makeObservable();
    }

    var descriptor = this.getRangeChangeDescriptor(token);

    var listeners;
    if (beforeChange) {
        listeners = descriptor.willChangeListeners;
    } else {
        listeners = descriptor.changeListeners;
    }

    // even if already registered
    if(!listeners._current) {
        listeners._current = listener;
    }
    else if(!Array.isArray(listeners._current)) {
        listeners._current = [listeners._current,listener];
    }
    else {
        listeners._current.push(listener);
    }

    if(Object.getOwnPropertyDescriptor((this.__proto__||Object.getPrototypeOf(this)),dispatchesChangesMethodName$1) === void 0) {
        Object.defineProperty((this.__proto__||Object.getPrototypeOf(this)), dispatchesChangesMethodName$1, dispatchesChangesPropertyDescriptor$1);
    }
    this.dispatchesRangeChanges = true;

    var self = this;
    return function cancelRangeChangeListener() {
        if (!self) {
            // TODO throw new Error("Range change listener " + JSON.stringify(token) + " has already been canceled");
            return;
        }
        self.removeRangeChangeListener(listener, token, beforeChange);
        self = null;
    };
};


RangeChanges.prototype.removeRangeChangeListener = function (listener, token, beforeChange) {
    var descriptor = this.getRangeChangeDescriptor(token);

    var listeners;
    if (beforeChange) {
        listeners = descriptor._willChangeListeners;
    } else {
        listeners = descriptor._changeListeners;
    }

    if(listeners._current) {
        if(listeners._current === listener) {
            listeners._current = null;
        }
        else {
            var index = listeners._current.lastIndexOf(listener);
            if (index === -1) {
                throw new Error("Can't remove range change listener: does not exist: token " + JSON.stringify(token));
            }
            else {
                if(descriptor.isActive) {
                    listeners.ghostCount = listeners.ghostCount+1;
                    listeners._current[index]=ListenerGhost$2;
                }
                else {
                    listeners._current.spliceOne(index);
                }
            }
        }
    }

};

RangeChanges.prototype.dispatchRangeChange = function (plus, minus, index, beforeChange) {
    var descriptors = this.getAllRangeChangeDescriptors(),
        descriptor,
        mapIter  = descriptors.values(),
        listeners,
        tokenName,
        i,
        countI,
        listener,
        currentListeners,
        Ghost;

    descriptors.dispatchBeforeChange = beforeChange;

     while (descriptor = mapIter.next().value) {

        if (descriptor.isActive) {
            return;
        }

        // before or after
        listeners = beforeChange ? descriptor._willChangeListeners : descriptor._changeListeners;
        if(listeners && listeners._current) {
            tokenName = listeners.specificHandlerMethodName;
            if(Array.isArray(listeners._current)) {
                if(listeners._current.length) {
                    // notably, defaults to "handleRangeChange" or "handleRangeWillChange"
                    // if token is "" (the default)

                    descriptor.isActive = true;
                    // dispatch each listener
                    try {
                            //removeGostListenersIfNeeded returns listeners.current or a new filtered one when conditions are met
                            currentListeners = listeners.removeCurrentGostListenersIfNeeded();
                            Ghost = ListenerGhost$2;
                        for(i=0, countI = currentListeners.length;i<countI;i++) {
                            if ((listener = currentListeners[i]) !== Ghost) {
                                if (listener[tokenName]) {
                                    listener[tokenName](plus, minus, index, this, beforeChange);
                                } else if (listener.call) {
                                    listener.call(this, plus, minus, index, this, beforeChange);
                                } else {
                                    throw new Error("Handler " + listener + " has no method " + tokenName + " and is not callable");
                                }
                            }
                        }
                    } finally {
                        descriptor.isActive = false;
                    }
                }
            }
            else {
                descriptor.isActive = true;
                // dispatch each listener
                try {
                    listener = listeners._current;
                    if (listener[tokenName]) {
                        listener[tokenName](plus, minus, index, this, beforeChange);
                    } else if (listener.call) {
                        listener.call(this, plus, minus, index, this, beforeChange);
                    } else {
                        throw new Error("Handler " + listener + " has no method " + tokenName + " and is not callable");
                    }
                } finally {
                    descriptor.isActive = false;
                }

            }
        }

    }
};

RangeChanges.prototype.addBeforeRangeChangeListener = function (listener, token) {
    return this.addRangeChangeListener(listener, token, true);
};

RangeChanges.prototype.removeBeforeRangeChangeListener = function (listener, token) {
    return this.removeRangeChangeListener(listener, token, true);
};

RangeChanges.prototype.dispatchBeforeRangeChange = function (plus, minus, index) {
    return this.dispatchRangeChange(plus, minus, index, true);
};

var sortedSet = SortedSet;








function SortedSet(values, equals, compare, getDefault) {
    if (!(this instanceof SortedSet)) {
        return new SortedSet(values, equals, compare, getDefault);
    }
    this.contentEquals = equals || Object.equals;
    this.contentCompare = compare || Object.compare;
    this.getDefault = getDefault || Function.noop;
    this.root = null;
    this.length = 0;
    this.addEach(values);
}

// hack so require("sorted-set").SortedSet will work in MontageJS
SortedSet.SortedSet = SortedSet;

Object.addEach(SortedSet.prototype, genericCollection.prototype);
Object.addEach(SortedSet.prototype, genericSet.prototype);
Object.addEach(SortedSet.prototype, propertyChanges.prototype);
Object.addEach(SortedSet.prototype, rangeChanges.prototype);
Object.defineProperty(SortedSet.prototype,"size",genericCollection._sizePropertyDescriptor);
SortedSet.from = genericCollection.from;

SortedSet.prototype.isSorted = true;

SortedSet.prototype.constructClone = function (values) {
    return new this.constructor(
        values,
        this.contentEquals,
        this.contentCompare,
        this.getDefault
    );
};

SortedSet.prototype.has = function (value, equals) {
    if (equals) {
        throw new Error("SortedSet#has does not support second argument: equals");
    }
    if (this.root) {
        this.splay(value);
        return this.contentEquals(value, this.root.value);
    } else {
        return false;
    }
};

SortedSet.prototype.get = function (value, equals) {
    if (equals) {
        throw new Error("SortedSet#get does not support second argument: equals");
    }
    if (this.root) {
        this.splay(value);
        if (this.contentEquals(value, this.root.value)) {
            return this.root.value;
        }
    }
    return this.getDefault(value);
};

SortedSet.prototype.add = function (value) {
    var node = new this.Node(value);
    if (this.root) {
        this.splay(value);
        if (!this.contentEquals(value, this.root.value)) {
            var comparison = this.contentCompare(value, this.root.value);
            if (comparison === 0) {
                throw new Error("SortedSet cannot contain incomparable but inequal values: " + value + " and " + this.root.value);
            }
            if (this.dispatchesRangeChanges) {
                this.dispatchBeforeRangeChange([value], [], this.root.index);
            }
            if (comparison < 0) {
                // rotate right
                //   R        N
                //  / \  ->  / \
                // l   r    l   R
                // :   :    :    \
                //                r
                //                :
                node.right = this.root;
                node.left = this.root.left;
                this.root.left = null;
                this.root.touch();
            } else {
                // rotate left
                //   R        N
                //  / \  ->  / \
                // l   r    R   r
                // :   :   /    :
                //        l
                //        :
                node.left = this.root;
                node.right = this.root.right;
                this.root.right = null;
                this.root.touch();
            }
            node.touch();
            this.root = node;
            this.length++;
            if (this.dispatchesRangeChanges) {
                this.dispatchRangeChange([value], [], this.root.index);
            }
            return true;
        }
    } else {
        if (this.dispatchesRangeChanges) {
            this.dispatchBeforeRangeChange([value], [], 0);
        }
        this.root = node;
        this.length++;
        if (this.dispatchesRangeChanges) {
            this.dispatchRangeChange([value], [], 0);
        }
        return true;
    }
    return false;
};

SortedSet.prototype['delete'] = function (value, equals) {
    if (equals) {
        throw new Error("SortedSet#delete does not support second argument: equals");
    }
    if (this.root) {
        this.splay(value);
        if (this.contentEquals(value, this.root.value)) {
            var index = this.root.index;
            if (this.dispatchesRangeChanges) {
                this.dispatchBeforeRangeChange([], [value], index);
            }
            if (!this.root.left) {
                this.root = this.root.right;
            } else {
                // remove the right side of the tree,
                var right = this.root.right;
                this.root = this.root.left;
                // the tree now only contains the left side of the tree, so all
                // values are less than the value deleted.
                // splay so that the root has an empty right child
                this.splay(value);
                // put the right side of the tree back
                this.root.right = right;
            }
            this.length--;
            if (this.root) {
                this.root.touch();
            }
            if (this.dispatchesRangeChanges) {
                this.dispatchRangeChange([], [value], index);
            }
            return true;
        }
    }
    return false;
};

SortedSet.prototype.indexOf = function (value, index) {
    if (index) {
        throw new Error("SortedSet#indexOf does not support second argument: startIndex");
    }
    if (this.root) {
        this.splay(value);
        if (this.contentEquals(value, this.root.value)) {
            return this.root.index;
        }
    }
    return -1;
};

SortedSet.prototype.find = function (value, equals, index) {
    if (equals) {
        throw new Error("SortedSet#find does not support second argument: equals");
    }
    if (index) {
        // TODO contemplate using splayIndex to isolate a subtree in
        // which to search.
        throw new Error("SortedSet#find does not support third argument: index");
    }
    if (this.root) {
        this.splay(value);
        if (this.contentEquals(value, this.root.value)) {
            return this.root;
        }
    }
};

SortedSet.prototype.findGreatest = function (at) {
    if (this.root) {
        at = at || this.root;
        while (at.right) {
            at = at.right;
        }
        return at;
    }
};

SortedSet.prototype.findLeast = function (at) {
    if (this.root) {
        at = at || this.root;
        while (at.left) {
            at = at.left;
        }
        return at;
    }
};

SortedSet.prototype.findGreatestLessThanOrEqual = function (value) {
    if (this.root) {
        this.splay(value);
        if (this.contentCompare(this.root.value, value) > 0) {
            return this.root.getPrevious();
        } else {
            return this.root;
        }
    }
};

SortedSet.prototype.findGreatestLessThan = function (value) {
    if (this.root) {
        this.splay(value);
        if (this.contentCompare(this.root.value, value) >= 0) {
            return this.root.getPrevious();
        } else {
            return this.root;
        }
    }
};

SortedSet.prototype.findLeastGreaterThanOrEqual = function (value) {
    if (this.root) {
        this.splay(value);
        if (this.contentCompare(this.root.value, value) >= 0) {
            return this.root;
        } else {
            return this.root.getNext();
        }
    }
};

SortedSet.prototype.findLeastGreaterThan = function (value) {
    if (this.root) {
        this.splay(value);
        if (this.contentCompare(this.root.value, value) <= 0) {
            return this.root.getNext();
        } else {
            return this.root;
        }
    }
};

SortedSet.prototype.pop = function () {
    if (this.root) {
        var found = this.findGreatest();
        this["delete"](found.value);
        return found.value;
    }
};

SortedSet.prototype.shift = function () {
    if (this.root) {
        var found = this.findLeast();
        this["delete"](found.value);
        return found.value;
    }
};

SortedSet.prototype.push = function () {
    this.addEach(arguments);
};

SortedSet.prototype.unshift = function () {
    this.addEach(arguments);
};

SortedSet.prototype.slice = function (start, end) {
    start = start || 0;
    end = end || this.length;
    if (start < 0) {
        start += this.length;
    }
    if (end < 0) {
        end += this.length;
    }
    var sliced = [];
    if (this.root) {
        this.splayIndex(start);
        while (this.root.index < end) {
            sliced.push(this.root.value);
            if (!this.root.right) {
                break;
            }
            this.splay(this.root.getNext().value);
        }
    }
    return sliced;
};

SortedSet.prototype.splice = function (at, length /*...plus*/) {
    return this.swap(at, length, Array.prototype.slice.call(arguments, 2));
};

SortedSet.prototype.swap = function (start, length, plus) {
    if (start === undefined && length === undefined) {
        return [];
    }
    start = start || 0;
    if (start < 0) {
        start += this.length;
    }
    if (length === undefined) {
        length = Infinity;
    }
    var swapped = [];

    if (this.root) {

        // start
        this.splayIndex(start);

        // minus length
        for (var i = 0; i < length; i++) {
            swapped.push(this.root.value);
            var next = this.root.getNext();
            this["delete"](this.root.value);
            if (!next) {
                break;
            }
            this.splay(next.value);
        }
    }

    // plus
    this.addEach(plus);

    return swapped;
};

// This is the simplified top-down splaying algorithm from: "Self-adjusting
// Binary Search Trees" by Sleator and Tarjan. Guarantees that root.value
// equals value if value exists. If value does not exist, then root will be
// the node whose value either immediately preceeds or immediately follows value.
// - as described in https://github.com/hij1nx/forest
SortedSet.prototype.splay = function (value) {
    var stub, left, right, temp, root, history;

    if (!this.root) {
        return;
    }

    // Create a stub node.  The use of the stub node is a bit
    // counter-intuitive: The right child of the stub node will hold the L tree
    // of the algorithm.  The left child of the stub node will hold the R tree
    // of the algorithm.  Using a stub node, left and right will always be
    // nodes and we avoid special cases.
    // - http://code.google.com/p/v8/source/browse/branches/bleeding_edge/src/splay-tree-inl.h
    stub = left = right = new this.Node();
    // The history is an upside down tree used to propagate new tree sizes back
    // up the left and right arms of a traversal.  The right children of the
    // transitive left side of the tree will be former roots while linking
    // left.  The left children of the transitive walk to the right side of the
    // history tree will all be previous roots from linking right.  The last
    // node of the left and right traversal will each become a child of the new
    // root.
    history = new this.Node();
    root = this.root;

    while (true) {
        var comparison = this.contentCompare(value, root.value);
        if (comparison < 0) {
            if (root.left) {
                if (this.contentCompare(value, root.left.value) < 0) {
                    // rotate right
                    //        Root         L(temp)
                    //      /     \       / \
                    //     L(temp) R    LL    Root
                    //    / \                /    \
                    //  LL   LR            LR      R
                    temp = root.left;
                    root.left = temp.right;
                    root.touch();
                    temp.right = root;
                    temp.touch();
                    root = temp;
                    if (!root.left) {
                        break;
                    }
                }
                // remember former root for repropagating length
                temp = new Node$1();
                temp.right = root;
                temp.left = history.left;
                history.left = temp;
                // link left
                right.left = root;
                right.touch();
                right = root;
                root = root.left;
            } else {
                break;
            }
        } else if (comparison > 0) {
            if (root.right) {
                if (this.contentCompare(value, root.right.value) > 0) {
                    // rotate left
                    //        Root         L(temp)
                    //      /     \       / \
                    //     L(temp) R    LL    Root
                    //    / \                /    \
                    //  LL   LR            LR      R
                    temp = root.right;
                    root.right = temp.left;
                    root.touch();
                    temp.left = root;
                    temp.touch();
                    root = temp;
                    if (!root.right) {
                        break;
                    }
                }
                // remember former root for repropagating length
                temp = new Node$1();
                temp.left = root;
                temp.right = history.right;
                history.right = temp;
                // link right
                left.right = root;
                left.touch();
                left = root;
                root = root.right;
            } else {
                break;
            }
        } else { // equal or incomparable
            break;
        }
    }

    // reassemble
    left.right = root.left;
    left.touch();
    right.left = root.right;
    right.touch();
    root.left = stub.right;
    root.right = stub.left;

    // propagate new lengths
    while (history.left) {
        history.left.right.touch();
        history.left = history.left.left;
    }
    while (history.right) {
        history.right.left.touch();
        history.right = history.right.right;
    }
    root.touch();

    this.root = root;
};

// an internal utility for splaying a node based on its index
SortedSet.prototype.splayIndex = function (index) {
    if (this.root) {
        var at = this.root;
        var atIndex = this.root.index;

        while (atIndex !== index) {
            if (atIndex > index && at.left) {
                at = at.left;
                atIndex -= 1 + (at.right ? at.right.length : 0);
            } else if (atIndex < index && at.right) {
                at = at.right;
                atIndex += 1 + (at.left ? at.left.length : 0);
            } else {
                break;
            }
        }

        this.splay(at.value);

        return this.root.index === index;
    }
    return false;
};

SortedSet.prototype.reduce = function (callback, basis, thisp) {
    if (this.root) {
        basis = this.root.reduce(callback, basis, 0, thisp, this);
    }
    return basis;
};

SortedSet.prototype.reduceRight = function (callback, basis, thisp) {
    if (this.root) {
        basis = this.root.reduceRight(callback, basis, this.length - 1, thisp, this);
    }
    return basis;
};

SortedSet.prototype.min = function (at) {
    var least = this.findLeast(at);
    if (least) {
        return least.value;
    }
};

SortedSet.prototype.max = function (at) {
    var greatest = this.findGreatest(at);
    if (greatest) {
        return greatest.value;
    }
};

SortedSet.prototype.one = function () {
    return this.min();
};

SortedSet.prototype.clear = function () {
    var minus;
    if (this.dispatchesRangeChanges) {
        minus = this.toArray();
        this.dispatchBeforeRangeChange([], minus, 0);
    }
    this.root = null;
    this.length = 0;
    if (this.dispatchesRangeChanges) {
        this.dispatchRangeChange([], minus, 0);
    }
};

SortedSet.prototype.iterate = function (start, end) {
    return new this.Iterator(this, start, end);
};

SortedSet.prototype.Iterator = Iterator$1;

SortedSet.prototype.summary = function () {
    if (this.root) {
        return this.root.summary();
    } else {
        return "()";
    }
};

SortedSet.prototype.log = function (charmap, logNode, callback, thisp) {
    charmap = charmap || treeLog.unicodeRound;
    logNode = logNode || this.logNode;
    if (!callback) {
        callback = console.log;
        thisp = console;
    }
    callback = callback.bind(thisp);
    if (this.root) {
        this.root.log(charmap, logNode, callback, callback);
    }
};

SortedSet.prototype.logNode = function (node, log, logBefore) {
    log(" " + node.value);
};

SortedSet.logCharsets = treeLog;

SortedSet.prototype.Node = Node$1;

function Node$1(value) {
    this.value = value;
    this.left = null;
    this.right = null;
    this.length = 1;
}

// TODO case where no basis is provided for reduction

Node$1.prototype.reduce = function (callback, basis, index, thisp, tree, depth) {
    depth = depth || 0;
    if (this.left) {
        // prerecord length to be resistant to mutation
        var length = this.left.length;
        basis = this.left.reduce(callback, basis, index, thisp, tree, depth + 1);
        index += length;
    }
    basis = callback.call(thisp, basis, this.value, index, tree, this, depth);
    index += 1;
    if (this.right) {
        basis = this.right.reduce(callback, basis, index, thisp, tree, depth + 1);
    }
    return basis;
};

Node$1.prototype.reduceRight = function (callback, basis, index, thisp, tree, depth) {
    depth = depth || 0;
    if (this.right) {
        basis = this.right.reduceRight(callback, basis, index, thisp, tree, depth + 1);
        index -= this.right.length;
    }
    basis = callback.call(thisp, basis, this.value, this.value, tree, this, depth);
    index -= 1;
    if (this.left) {
        basis = this.left.reduceRight(callback, basis, index, thisp, tree, depth + 1);
    }
    return basis;
};

Node$1.prototype.touch = function () {
    this.length = 1 +
        (this.left ? this.left.length : 0) +
        (this.right ? this.right.length : 0);
    this.index = this.left ? this.left.length : 0;
};

Node$1.prototype.checkIntegrity = function () {
    var length = 1;
    length += this.left ? this.left.checkIntegrity() : 0;
    length += this.right ? this.right.checkIntegrity() : 0;
    if (this.length !== length)
        throw new Error("Integrity check failed: " + this.summary());
    return length;
};

// get the next node in this subtree
Node$1.prototype.getNext = function () {
    var node = this;
    if (node.right) {
        node = node.right;
        while (node.left) {
            node = node.left;
        }
        return node;
    }
};

// get the previous node in this subtree
Node$1.prototype.getPrevious = function () {
    var node = this;
    if (node.left) {
        node = node.left;
        while (node.right) {
            node = node.right;
        }
        return node;
    }
};

Node$1.prototype.summary = function () {
    var value = this.value || "-";
    value += " <" + this.length;
    if (!this.left && !this.right) {
        return "(" + value + ")";
    }
    return "(" + value + " " + (
        this.left ? this.left.summary() : "()"
    ) + ", " + (
        this.right ? this.right.summary() : "()"
    ) + ")";
};

Node$1.prototype.log = function (charmap, logNode, log, logAbove) {
    var self = this;

    var branch;
    if (this.left && this.right) {
        branch = charmap.intersection;
    } else if (this.left) {
        branch = charmap.branchUp;
    } else if (this.right) {
        branch = charmap.branchDown;
    } else {
        branch = charmap.through;
    }

    var loggedAbove;
    this.left && this.left.log(
        charmap,
        logNode,
        function innerWrite(line) {
            if (!loggedAbove) {
                loggedAbove = true;
                // leader
                logAbove(charmap.fromBelow + charmap.through + line);
            } else {
                // below
                logAbove(charmap.strafe + " " + line);
            }
        },
        function innerWriteAbove(line) {
            // above
            logAbove("  " + line);
        }
    );

    var loggedOn;
    logNode(
        this,
        function innerWrite(line) {
            if (!loggedOn) {
                loggedOn = true;
                log(branch + line);
            } else {
                log((self.right ? charmap.strafe : " ") + line);
            }
        },
        function innerWriteAbove(line) {
            logAbove((self.left ? charmap.strafe : " ") + line);
        }
    );

    var loggedBelow;
    this.right && this.right.log(
        charmap,
        logNode,
        function innerWrite(line) {
            if (!loggedBelow) {
                loggedBelow = true;
                log(charmap.fromAbove + charmap.through + line);
            } else {
                log("  " + line);
            }
        },
        function innerWriteAbove(line) {
            log(charmap.strafe + " " + line);
        }
    );
};

function Iterator$1(set, start, end) {
    this.set = set;
    this.prev = null;
    this.end = end;
    if (start) {
        var next = this.set.findLeastGreaterThanOrEqual(start);
        if (next) {
            this.set.splay(next.value);
            this.prev = next.getPrevious();
        }
    }
}
Iterator$1.prototype.__iterationObject = null;
Object.defineProperty(Iterator$1.prototype,"_iterationObject", {
    get: function() {
        return this.__iterationObject || (this.__iterationObject = { done: false, value:null});
    }
});

Iterator$1.prototype.next = function () {
    var next;
    if (this.prev) {
        next = this.set.findLeastGreaterThan(this.prev.value);
    } else {
        next = this.set.findLeast();
    }
    if (!next) {
        this._iterationObject.done = true;
        this._iterationObject.value = void 0;
    }
    else {
        if (
            this.end !== undefined &&
            this.set.contentCompare(next.value, this.end) >= 0
        ) {
            this._iterationObject.done = true;
            this._iterationObject.value = void 0;
        }
        else {
            this.prev = next;
            this._iterationObject.value =  next.value;
        }

    }
    return this._iterationObject;
};

let id = 0;

const Box$2 = foundation.Box;
const Point$2 = foundation.Point;
const Range$1 = foundation.Range;

class Solution {
    constructor(ranges, opt, parent) {
        if (ranges.length > opt.scoring.cardinality)
            this.ranges = ranges.slice(0, opt.scoring.cardinality);
        else
            this.ranges = ranges;
        this.opt = opt;
        for (let _r in this.ranges) {
            const r = parseInt(_r);
            if (r > 0)
                if (this.ranges[r - 1].a > this.ranges[r].a)
                    this.ranges[r] = new Range$1(Math.max(this.ranges[r - 1].a, this.ranges[r].a), this.ranges[r].b);
            if (r < this.ranges.length - 1)
                if (this.ranges[r].b > this.ranges[r + 1].b)
                    this.ranges[r] = new Range$1(this.ranges[r].a, Math.min(this.ranges[r + 1].b, this.ranges[r].b));
            if (this.ranges[r].a > this.ranges[r].b) {
                console.log(this.ranges, parent.ranges);
                throw 'error';
            }
        }
        this.boxes = [];
        for (let r in this.ranges)
            this.boxes[r] = new Box$2(this.ranges[r], opt.flight);
        this.score = undefined;
        this.bound = undefined;
        this.id = id++;
        if (this.opt.config && this.opt.config.debug) {
            this.parent = parent;
            this.trace();
        }
    }

    do_branch() {
        let div = 0;
        for (let r in this.ranges)
            if (this.ranges[r].count() > this.ranges[div].count())
                div = parseInt(r);
        for (let r in this.ranges)
            if (this.ranges[r].count() > 1 && this.boxes[r].area() > this.boxes[div].area() * 8)
                div = parseInt(r);
        
        if (this.ranges[div].count() == 1)
            return [];
        
        let subsolutions = [];
        for (let i of [this.ranges[div].left(), this.ranges[div].right()]) {
            let subranges = [];
            for (let r in this.ranges)
                if (r != div)
                    subranges[r] = this.ranges[r];
                else
                    subranges[r] = i;
            subsolutions.push(new Solution(subranges, this.opt, this));
        }
        return subsolutions;
    }

    do_bound() {
        this.bound = this.opt.scoring.bound(this.ranges, this.boxes, this.opt);
        this.trace();
    }

    do_score() {
        for (let r in this.ranges)
            if (r < this.ranges.length - 1 && this.ranges[r].center() >= this.ranges[parseInt(r) + 1].center()) {
                this.score = 0;
                return;
            }
    
        let tp = [];
        for (let r in this.ranges)
            tp[r] = new Point$2(this.opt.flight.filtered, this.ranges[r].center());
        
        this.scoreInfo = this.opt.scoring.score(tp, this.opt);
        this.score = this.scoreInfo.score;
        this.trace();
    }

    contentEquals(self, other) {
        return self.id === other.id;
    }

    contentCompare(self, other) {
        if (self.bound < other.bound)
            return -1;
        if (self.bound > other.bound)
            return 1;
        if (self.id < other.id)
            return -1;
        if (self.id > other.id)
            return 1;
        return 0;
    }

    /*eslint no-empty: ["off"]*/
    geojson() {
        let features = [];
        if (this.opt.config && this.opt.config.debug) {
            for (let r in this.ranges)
                features.push((new Box$2(this.ranges[r], this.opt.flight))
                    .geojson('box' + r, {
                        id: 'box' + r,
                        area: (new Box$2(this.ranges[r], this.opt.flight)).area(),
                        a: this.ranges[r].a,
                        b: this.ranges[r].b
                    }));
        }
        try {
            const tp = this.scoreInfo.tp;
            for (let r of [0, 1, 2]) {
                features.push(tp[r]
                    .geojson('tp' + r, {
                        id: 'tp' + r,
                        r: tp[r].r,
                        timestamp: this.opt.flight.filtered[tp[r].r].timestamp
                    }));
                if (r < 2 || this.opt.scoring.closingDistance)
                    features.push({
                        type: 'Feature',
                        id: 'seg' + r,
                        properties: {
                            id: 'seg' + r,
                            'stroke': 'yellow',
                            'stroke-width': 4,
                            d: tp[r].distanceEarth(tp[(r + 1) % 3])
                        },
                        geometry: {
                            type: 'LineString',
                            coordinates: [[tp[r].x, tp[r].y], [tp[(r + 1) % 3].x, tp[(r + 1) % 3].y]],
                            style: { 'stroke': 'yellow', 'stroke-width': 4 }
                        }
                    });
            }
        } catch (e) {
        }
        try {
            if (this.scoreInfo.cp !== undefined) {
                const cp = this.scoreInfo.cp;
                const tp = this.scoreInfo.tp;
                for (let r of ['in', 'out'])
                    features.push(cp[r]
                        .geojson('cp_' + r, {
                            id: 'cp_' + r,
                            r: cp[r].r,
                            timestamp: this.opt.flight.filtered[cp[r].r].timestamp
                        }));
                if (this.opt.scoring.closingDistance)
                    features.push({
                        type: 'Feature',
                        id: 'closing',
                        properties: {
                            id: 'closing',
                            'stroke': 'green',
                            'stroke-width': 3,
                            d: cp['in'].distanceEarth(cp['out'])
                        },
                        geometry: {
                            type: 'LineString',
                            coordinates: [[cp['in'].x, cp['in'].y], [cp['out'].x, cp['out'].y]],
                            style: { 'stroke': 'green', 'stroke-width': 3 }
                        }
                    });
                else {
                    features.push({
                        type: 'Feature',
                        id: 'seg_in',
                        properties: {
                            id: 'seg_in',
                            'stroke': 'green',
                            'stroke-width': 3,
                            d: cp['in'].distanceEarth(tp[0])
                        },
                        geometry: {
                            type: 'LineString',
                            coordinates: [[cp['in'].x, cp['in'].y], [tp[0].x, tp[0].y]],
                            style: { 'stroke': 'green', 'stroke-width': 3 }
                        }
                    });
                    features.push({
                        type: 'Feature',
                        id: 'seg_out',
                        properties: {
                            id: 'seg_out',
                            'stroke': 'green',
                            'stroke-width': 3,
                            d: cp['out'].distanceEarth(tp[2])
                        },
                        geometry: {
                            type: 'LineString',
                            coordinates: [[cp['out'].x, cp['out'].y], [tp[2].x, tp[2].y]],
                            style: { 'stroke': 'green', 'stroke-width': 3 }
                        }
                    });
                }
            }
        } catch (e) {
        }
        for (let li in this.opt.flight.ll) {
            const l = this.opt.flight.ll[li];
            features.push(this.opt.flight.flightPoints[l.launch]
                .geojson('launch' + li, {
                    id: 'launch' + li,
                    r: l.launch,
                    timestamp: this.opt.flight.filtered[l.launch].timestamp
                }));
            features.push(this.opt.flight.flightPoints[l.landing]
                .geojson('land' + li, {
                    id: 'land' + li,
                    r: l.landing,
                    timestamp: this.opt.flight.filtered[l.landing].timestamp
                }));
        }
        if (!this.opt.config || !this.opt.config.noflight) {
            let flightData = [];
            for (let r of this.opt.flight.filtered) {
                flightData.push([r.longitude, r.latitude]);
            }
            features.push({
                type: 'Feature',
                id: 'flight',
                properties: { id: 'flight' },
                geometry: {
                    type: 'LineString',
                    coordinates: flightData
                }
            });
        }
        let collection = {
            type: 'FeatureCollection',
            properties: {
                name: 'EPSG:3857',
                id: this.id,
                score: this.score !== undefined ? this.score : undefined,
                bound: this.currentUpperBound !== undefined ? this.currentUpperBound : this.bound,
                optimal: this.optimal,
                processedTime: this.time / 1000,
                processedSolutions: this.processed,
                type: this.opt.scoring.name
            },
            features
        };
        return collection;
    }

    toString() {
        let s = `${this.opt.scoring.name}`;
        if (this.score)
            s += ` ${this.opt.scoring.rounding(this.score)} points`;
        if (this.scoreInfo)
            s += ` ${this.opt.scoring.rounding(this.scoreInfo.distance)}km`;
        s += ` ( <${this.bound.toFixed(4)} )`;
        if (this.opt.config && this.opt.config.debug) {
            s += ` { id: ${this.id} `;
            for (let r of this.ranges)
                s += ' ' + r.toString();
            s += ' } ';
        }
        return s;
    }

    trace(msg) {
        if (!this.opt.config.trace || !process.stdout)
            return;
        const trace = this.opt.config.trace.split(',');
        if (trace[0] < 0) {
            if (this.id % parseInt(trace[1]) !== 0)
                return;
        } else {
            for (let i in this.ranges)
                if (!this.ranges[i].contains(trace[i]))
                    return;
        }
        let r = `${msg ? msg : ''} solution tracing: ${this.id} ${this.opt.scoring.name} `;
        for (let i in this.ranges)
            r += this.ranges[i] + ' ';
        if (this.bound)
            r += `bound: ${this.bound} `;
        if (this.score)
            r += `score: ${this.score} `;
        process.stdout.write('\n' + r + '\n');
        this.opt.config.env.fs.writeFileSync(`debug-${this.id}.json`, JSON.stringify(this.geojson({debug: true})));
    }
}

var solution = {
    Solution
};

/* Launch and landing detection can affect the score,
 * and must be as precise as possible
 * 
 * Launch and landing are detected on a n-second moving average
 * of the horizontal and vertical speed
 * 
 * maPeriod is the number of seconds for the moving average
 * 
 * t is the number of seconds that the conditions must be true
 * (the event is still assigned to the start of the period)
 * 
 * x is the horizontal speed in m/s
 * 
 * z is the absolute value of the vertical speed in m/s
 * 
 * Launch/landing is detected when both of the moving averages
 * cross the detection threshold for t seconds
 */
const maPeriod = 10;
const definitionFlight = {
    t: 60,
    x0: 1.5,
    xt: 5,
    z0: 0.05,
    zt: 0.9
};

const definitionGround = {
    t: 20,
    xmax: 2.5,
    zmax: 0.1
};

const Point$3 = foundation.Point;

function prepare(fixes) {
    for (let i in fixes) {
        if (fixes[i].pressureAltitude === null || fixes[i].pressureAltitude === undefined || fixes[i].pressureAltitude < -1000)
            fixes[i].pressureAltitude = fixes[i].gpsAltitude;
        if (fixes[i].pressureAltitude === null)
            fixes[i].gpsAltitude = undefined;

        if (i > 0) {
            if (fixes[i].timestamp !== fixes[i - 1].timestamp) {
                fixes[i].hspeed = (new Point$3(fixes, i - 1).distanceEarth(new Point$3(fixes, i))) * 1000 /
                    (fixes[i].timestamp - fixes[i - 1].timestamp) * 1000;
                fixes[i].vspeed = (fixes[i].pressureAltitude - fixes[i - 1].pressureAltitude) /
                    (fixes[i].timestamp - fixes[i - 1].timestamp) * 1000;
            } else {
                fixes[i].hspeed = fixes[i - 1].hspeed;
                fixes[i].vspeed = fixes[i - 1].vspeed;
            }
        } else {
            fixes[i].hspeed = 0;
            fixes[i].vspeed = 0;
        }
    }

    for (let _i in fixes) {
        const i = parseInt(_i);
        const now = fixes[i].timestamp;
        let start, end;
        for (start = i; start > 0 && fixes[start].timestamp > now - Math.round(maPeriod * 1000 / 2); start--);
        for (end = i; end < fixes.length - 1 && fixes[end].timestamp < now + Math.round(maPeriod * 1000 / 2); end++);
        const maSegment = fixes.slice(start, end + 1);
        fixes[i].hma = maSegment.reduce((sum, x) => (sum + x.hspeed), 0) / maSegment.length;
        fixes[i].vma = maSegment.reduce((sum, x) => (sum + Math.abs(x.vspeed)), 0) / maSegment.length;
    }
}

function detectFlight(fixes) {
    let start;
    for (let i = 0; i < fixes.length - 1; i++) {
        if (start === undefined && fixes[i].hma > definitionFlight.xt && fixes[i].vma > definitionFlight.zt)
            start = i;
        if (start !== undefined)
            if (fixes[i].hma > definitionFlight.x0 && fixes[i].vma > definitionFlight.z0) {
                if (fixes[i].timestamp > fixes[start].timestamp + definitionFlight.t * 1000)
                    for (let j = start; j <= i; j++)
                        fixes[i].stateFlight = true;
            } else {
                start = undefined;
            }
    }
}

function detectGround(fixes) {
    let start;
    for (let i = 0; i < fixes.length - 1; i++) {
        if (start === undefined && fixes[i].hma < definitionGround.xmax && fixes[i].vma < definitionGround.zmax)
            start = i;
        if (start !== undefined)
            if (fixes[i].hma < definitionGround.xmax && fixes[i].vma < definitionGround.zmax) {
                if (fixes[i].timestamp > fixes[start].timestamp + definitionGround.t * 1000)
                    for (let j = start; j <= i; j++)
                        fixes[i].stateGround = true;
            } else {
                start = undefined;
            }
    }
}

function detectLaunchLanding(fixes) {
    let ll = [];
    for (let i = 0; i < fixes.length - 1; i++) {
        if (fixes[i].stateFlight) {
            let j;
            for (j = i; j > 0 && !fixes[j].stateGround; j--);
            const launch = j;
            for (j = i; j < fixes.length - 2 && !fixes[j].stateGround; j++);
            const landing = j;
            i = j;
            ll.push({ launch, landing });
        }
    }
    if (ll.length == 0)
        ll.push({ launch: 0, landing: fixes.length - 1 });
    return ll;
}

function analyze(flight, config) {
    if (!config.invalid)
        flight.filtered = flight.fixes.filter(x => x.valid).filter((x, i, a) => i == 0 || a[i-1].timestamp !== x.timestamp);
    else
        flight.filtered = flight.fixes.slice(0);
    if (flight.filtered.length < 5)
        throw new Error(`Flight must contain at least 5 valid GPS fixes, ${flight.filtered.length} valid fixes found (out of ${flight.fixes.length})`);

    if (config.trim || config.detectLaunch || config.detectLanding) {
        prepare(flight.filtered);
        detectFlight(flight.filtered);
        detectGround(flight.filtered);
        flight.ll = detectLaunchLanding(flight.filtered);
    } else
        flight.ll = [ { launch: 0, landing: flight.filtered.length - 1 } ];    
}

var flight = {
    analyze
};

const Solution$1 = solution.Solution;

const Range$2 = foundation.Range;
const Point$4 = foundation.Point;




function* solver(flight$1, _scoringTypes, _config) {
    let reset;

    const scoringTypes = _scoringTypes || scoringRules_config.FFVL;
    const config = _config || {};
    flight.analyze(flight$1, config);
    geom.init({ flight: flight$1 });
    if (config.hp)
        Point$4.prototype.distanceEarth = Point$4.prototype.distanceEarthVincentys;
    else
        Point$4.prototype.distanceEarth = Point$4.prototype.distanceEarthFCC;
    let solutionRoots = [];
    for (let scoringType of scoringTypes) {
        for (let l of flight$1.ll) {
            const opt = {
                flight: flight$1,
                launch: l.launch,
                landing: l.landing,
                scoring: scoringType,
                config
            };
            let solutionRoot = new Solution$1([
                new Range$2(l.launch, l.landing),
                new Range$2(l.launch, l.landing),
                new Range$2(l.launch, l.landing)
            ], opt);
            solutionRoot.do_bound();
            solutionRoot.do_score();
            solutionRoots.push(solutionRoot);
        }
    }

    let best = solutionRoots[0];
    let solutionQueue = new sortedSet(solutionRoots, Solution$1.prototype.contentEquals, Solution$1.prototype.contentCompare);
    let processed = 0;

    let tcum = 0;
    do {
        const tstart = Date.now();
        while (solutionQueue.length > 0) {
            if (processed % 100 === 0) {
                if (typeof process !== 'undefined' && process.memoryUsage) {
                    const mem = process.memoryUsage();
                    if (mem.heapUsed / mem.heapTotal > 0.98)
                        break;
                }
            }

            let current = solutionQueue.pop();

            if (current.opt.scoring.rounding(current.bound) <= best.opt.scoring.rounding(best.score)) {
                solutionQueue.clear();
                break;
            }
            let children = current.do_branch();
            for (let s of children) {
                s.do_bound();
                if (s.bound <= best.score)
                    continue;
                s.do_score();
                processed++;
                if (s.score >= best.score && s.score > 0) {
                    best = s;
                    if (solutionQueue.length > 10000 && solutionQueue.findLeast().value.bound <= best.score) {
                        const garbageBest = solutionQueue.findGreatestLessThanOrEqual({ bound: best.score });
                        if (garbageBest !== undefined) {
                            const cutoff = solutionQueue.indexOf(garbageBest.value);
                            solutionQueue.splice(0, cutoff + 1).length;
                        }
                    }
                }
                solutionQueue.push(s);
            }
            if (processed > config.maxloop || (Date.now() - tstart) > config.maxcycle) {
                break;
            }
        }

        best.processed = processed;
        const currentUpperBound = solutionQueue.findGreatest(); 
        best.currentUpperBound = currentUpperBound ? currentUpperBound.value.bound : best.bound;
        tcum += Date.now() - tstart;
        best.time = tcum;
        if (solutionQueue.length == 0)
            best.optimal = true;
        else
            best.optimal = false;

        if (best.optimal) {
            best.score = best.opt.scoring.rounding(best.score);
            if (best.scoreInfo) {
                best.scoreInfo.distance = best.opt.scoring.rounding(best.scoreInfo.distance);
                if (best.scoreInfo.cp.d)
                    best.scoreInfo.cp.d = best.opt.scoring.rounding(best.scoreInfo.cp.d);
            }
            reset = true;
            return best;
        } else
            reset = yield best;
    } while (!reset);
}

var solver_1 = solver;

var manufacturers = /*#__PURE__*/Object.freeze({
	__proto__: null
});

var MANUFACTURERS = getCjsExportFromNamespace(manufacturers);

var lookup = function lookup(id) {
  let short = id.length === 1;

  id = id.toUpperCase();

  let manufacturers = MANUFACTURERS.filter(it => it[short ? 'short' : 'long'] === id);
  return manufacturers.length !== 0 ? manufacturers[0].name : id;
};

var ONE_HOUR = 60 * 60 * 1000;
var ONE_DAY = 24 * 60 * 60 * 1000;
/* tslint:disable:max-line-length */
var RE_A = /^A(\w{3})(\w{3,}?)(?:FLIGHT:(\d+)|:(.+))?$/;
var RE_HFDTE = /^HFDTE(?:DATE:)?(\d{2})(\d{2})(\d{2})(?:,?(\d{2}))?/;
var RE_PLT_HEADER = /^H[FOP]PLT(?:.{0,}?:(.*)|(.*))$/;
var RE_CM2_HEADER = /^H[FOP]CM2(?:.{0,}?:(.*)|(.*))$/; // P is used by some broken Flarms
var RE_GTY_HEADER = /^H[FOP]GTY(?:.{0,}?:(.*)|(.*))$/;
var RE_GID_HEADER = /^H[FOP]GID(?:.{0,}?:(.*)|(.*))$/;
var RE_CID_HEADER = /^H[FOP]CID(?:.{0,}?:(.*)|(.*))$/;
var RE_CCL_HEADER = /^H[FOP]CCL(?:.{0,}?:(.*)|(.*))$/;
var RE_FTY_HEADER = /^H[FOP]FTY(?:.{0,}?:(.*)|(.*))$/;
var RE_RFW_HEADER = /^H[FOP]RFW(?:.{0,}?:(.*)|(.*))$/;
var RE_RHW_HEADER = /^H[FOP]RHW(?:.{0,}?:(.*)|(.*))$/;
var RE_B = /^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{3})([NS])(\d{3})(\d{2})(\d{3})([EW])([AV])(-\d{4}|\d{5})(-\d{4}|\d{5})/;
var RE_K = /^K(\d{2})(\d{2})(\d{2})/;
var RE_IJ = /^[IJ](\d{2})(?:\d{2}\d{2}[A-Z]{3})+/;
var RE_TASK = /^C(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{4})([-\d]{2})(.*)/;
var RE_TASKPOINT = /^C(\d{2})(\d{2})(\d{3})([NS])(\d{3})(\d{2})(\d{3})([EW])(.*)/;
var IGCParser = /** @class */ (function () {
    function IGCParser() {
        this._result = {
            numFlight: null,
            pilot: null,
            copilot: null,
            gliderType: null,
            registration: null,
            callsign: null,
            competitionClass: null,
            loggerType: null,
            firmwareVersion: null,
            hardwareVersion: null,
            task: null,
            fixes: [],
            dataRecords: [],
            security: null,
            errors: [],
        };
        this.fixExtensions = [];
        this.dataExtensions = [];
        this.lineNumber = 0;
        this.prevTimestamp = null;
    }
    IGCParser.parse = function (str, options) {
        if (options === void 0) { options = {}; }
        var parser = new IGCParser();
        var errors = [];
        for (var _i = 0, _a = str.split('\n'); _i < _a.length; _i++) {
            var line = _a[_i];
            try {
                parser.processLine(line.trim());
            }
            catch (error) {
                if (options.lenient) {
                    errors.push(error);
                }
                else {
                    continue;
                }
            }
        }
        var result = parser.result;
        result.errors = errors;
        return result;
    };
    Object.defineProperty(IGCParser.prototype, "result", {
        get: function () {
            if (!this._result.loggerManufacturer) {
                console.error("Missing A record");
            }
            if (!this._result.date) {
                throw new Error("Missing HFDTE record");
            }
            return this._result;
        },
        enumerable: true,
        configurable: true
    });
    IGCParser.prototype.processLine = function (line) {
        this.lineNumber += 1;
        var recordType = line[0];
        if (recordType === 'B') {
            var fix = this.parseBRecord(line);
            this.prevTimestamp = fix.timestamp;
            this._result.fixes.push(fix);
        }
        else if (recordType === 'K') {
            var data = this.parseKRecord(line);
            this.prevTimestamp = data.timestamp;
            this._result.dataRecords.push(data);
        }
        else if (recordType === 'H') {
            this.processHeader(line);
        }
        else if (recordType === 'C') {
            this.processTaskLine(line);
        }
        else if (recordType === 'A') {
            var record = this.parseARecord(line);
            this._result.loggerId = record.loggerId;
            this._result.loggerManufacturer = record.manufacturer;
            if (record.numFlight !== null) {
                this._result.numFlight = record.numFlight;
            }
        }
        else if (recordType === 'I') {
            this.fixExtensions = this.parseIJRecord(line);
        }
        else if (recordType === 'J') {
            this.dataExtensions = this.parseIJRecord(line);
        }
        else if (recordType === 'G') {
            this._result.security = (this._result.security || '') + line.slice(1);
        }
    };
    IGCParser.prototype.processHeader = function (line) {
        var headerType = line.slice(2, 5);
        if (headerType === 'DTE') {
            var record = this.parseDateHeader(line);
            this._result.date = record.date;
            if (record.numFlight !== null) {
                this._result.numFlight = record.numFlight;
            }
        }
        else if (headerType === 'PLT') {
            this._result.pilot = this.parsePilot(line);
        }
        else if (headerType === 'CM2') {
            this._result.copilot = this.parseCopilot(line);
        }
        else if (headerType === 'GTY') {
            this._result.gliderType = this.parseGliderType(line);
        }
        else if (headerType === 'GID') {
            this._result.registration = this.parseRegistration(line);
        }
        else if (headerType === 'CID') {
            this._result.callsign = this.parseCallsign(line);
        }
        else if (headerType === 'CCL') {
            this._result.competitionClass = this.parseCompetitionClass(line);
        }
        else if (headerType === 'FTY') {
            this._result.loggerType = this.parseLoggerType(line);
        }
        else if (headerType === 'RFW') {
            this._result.firmwareVersion = this.parseFirmwareVersion(line);
        }
        else if (headerType === 'RHW') {
            this._result.hardwareVersion = this.parseHardwareVersion(line);
        }
    };
    IGCParser.prototype.parseARecord = function (line) {
        var match = line.match(RE_A);
        if (match) {
            let manufacturer = lookup(match[1]);
            var loggerId = match[2];
            var numFlight = match[3] ? parseInt(match[3], 10) : null;
            let additionalData = match[4] || null;
            return { manufacturer: manufacturer, loggerId: loggerId, numFlight: numFlight, additionalData: additionalData };
        }
        match = line.match(/^A(\w{3})(.+)?$/);
        if (match) {
            let manufacturer = lookup(match[1]);
            let additionalData = match[2] ? match[2].trim() : null;
            return { manufacturer: manufacturer, loggerId: null, numFlight: null, additionalData: additionalData };
        }
        throw new Error("Invalid A record at line " + this.lineNumber + ": " + line);
    };
    IGCParser.prototype.parseDateHeader = function (line) {
        var match = line.match(RE_HFDTE);
        if (!match) {
            throw new Error("Invalid DTE header at line " + this.lineNumber + ": " + line);
        }
        var lastCentury = match[3][0] === '8' || match[3][0] === '9';
        var date = "" + (lastCentury ? '19' : '20') + match[3] + "-" + match[2] + "-" + match[1];
        var numFlight = match[4] ? parseInt(match[4], 10) : null;
        return { date: date, numFlight: numFlight };
    };
    IGCParser.prototype.parseTextHeader = function (headerType, regex, line, underscoreReplacement) {
        if (underscoreReplacement === void 0) { underscoreReplacement = ' '; }
        var match = line.match(regex);
        if (!match) {
            return '';
        }
        return (match[1] || match[2] || '').replace(/_/g, underscoreReplacement).trim();
    };
    IGCParser.prototype.parsePilot = function (line) {
        return this.parseTextHeader('PLT', RE_PLT_HEADER, line);
    };
    IGCParser.prototype.parseCopilot = function (line) {
        return this.parseTextHeader('CM2', RE_CM2_HEADER, line);
    };
    IGCParser.prototype.parseGliderType = function (line) {
        return this.parseTextHeader('GTY', RE_GTY_HEADER, line);
    };
    IGCParser.prototype.parseRegistration = function (line) {
        return this.parseTextHeader('GID', RE_GID_HEADER, line, '-');
    };
    IGCParser.prototype.parseCallsign = function (line) {
        return this.parseTextHeader('CID', RE_CID_HEADER, line);
    };
    IGCParser.prototype.parseCompetitionClass = function (line) {
        return this.parseTextHeader('GID', RE_CCL_HEADER, line);
    };
    IGCParser.prototype.parseLoggerType = function (line) {
        return this.parseTextHeader('FTY', RE_FTY_HEADER, line);
    };
    IGCParser.prototype.parseFirmwareVersion = function (line) {
        return this.parseTextHeader('RFW', RE_RFW_HEADER, line);
    };
    IGCParser.prototype.parseHardwareVersion = function (line) {
        return this.parseTextHeader('RHW', RE_RHW_HEADER, line);
    };
    IGCParser.prototype.processTaskLine = function (line) {
        if (!this._result.task) {
            this._result.task = this.parseTask(line);
        }
        else {
            this._result.task.points.push(this.parseTaskPoint(line));
        }
    };
    IGCParser.prototype.parseTask = function (line) {
        var match = line.match(RE_TASK);
        if (!match) {
            throw new Error("Invalid task declaration at line " + this.lineNumber + ": " + line);
        }
        var lastCentury = match[3][0] === '8' || match[3][0] === '9';
        var declarationDate = "" + (lastCentury ? '19' : '20') + match[3] + "-" + match[2] + "-" + match[1];
        var declarationTime = match[4] + ":" + match[5] + ":" + match[6];
        var declarationTimestamp = Date.parse(declarationDate + "T" + declarationTime + "Z");
        var flightDate = null;
        if (match[7] !== '00' || match[8] !== '00' || match[9] !== '00') {
            lastCentury = match[9][0] === '8' || match[9][0] === '9';
            flightDate = "" + (lastCentury ? '19' : '20') + match[9] + "-" + match[8] + "-" + match[7];
        }
        var taskNumber = (match[10] !== '0000') ? parseInt(match[10], 10) : null;
        var numTurnpoints = parseInt(match[11], 10);
        var comment = match[12] || null;
        return {
            declarationDate: declarationDate,
            declarationTime: declarationTime,
            declarationTimestamp: declarationTimestamp,
            flightDate: flightDate,
            taskNumber: taskNumber,
            numTurnpoints: numTurnpoints,
            comment: comment,
            points: [],
        };
    };
    IGCParser.prototype.parseTaskPoint = function (line) {
        var match = line.match(RE_TASKPOINT);
        if (!match) {
            throw new Error("Invalid task point declaration at line " + this.lineNumber + ": " + line);
        }
        var latitude = IGCParser.parseLatitude(match[1], match[2], match[3], match[4]);
        var longitude = IGCParser.parseLongitude(match[5], match[6], match[7], match[8]);
        var name = match[9] || null;
        return { latitude: latitude, longitude: longitude, name: name };
    };
    IGCParser.prototype.parseBRecord = function (line) {
        if (!this._result.date) {
            throw new Error("Missing HFDTE record before first B record");
        }
        var match = line.match(RE_B);
        if (!match) {
            throw new Error("Invalid B record at line " + this.lineNumber + ": " + line);
        }
        var time = match[1] + ":" + match[2] + ":" + match[3];
        var timestamp = this.calcTimestamp(time);
        var latitude = IGCParser.parseLatitude(match[4], match[5], match[6], match[7]);
        var longitude = IGCParser.parseLongitude(match[8], match[9], match[10], match[11]);
        var valid = match[12] === 'A';
        var pressureAltitude = match[13] === '00000' ? null : parseInt(match[13], 10);
        var gpsAltitude = match[14] === '00000' ? null : parseInt(match[14], 10);
        var extensions = {};
        if (this.fixExtensions) {
            for (var _i = 0, _a = this.fixExtensions; _i < _a.length; _i++) {
                var _b = _a[_i], code = _b.code, start = _b.start, length = _b.length;
                extensions[code] = line.slice(start, start + length);
            }
        }
        var enl = null;
        if (extensions['ENL']) {
            var enlLength = this.fixExtensions.filter(function (it) { return it.code === 'ENL'; })[0].length;
            var enlMax = Math.pow(10, enlLength);
            enl = parseInt(extensions['ENL'], 10) / enlMax;
        }
        var fixAccuracy = extensions['FXA'] ? parseInt(extensions['FXA'], 10) : null;
        return {
            timestamp: timestamp,
            time: time,
            latitude: latitude,
            longitude: longitude,
            valid: valid,
            pressureAltitude: pressureAltitude,
            gpsAltitude: gpsAltitude,
            extensions: extensions,
            enl: enl,
            fixAccuracy: fixAccuracy,
        };
    };
    IGCParser.prototype.parseKRecord = function (line) {
        if (!this._result.date) {
            throw new Error("Missing HFDTE record before first K record");
        }
        if (!this.dataExtensions) {
            throw new Error("Missing J record before first K record");
        }
        var match = line.match(RE_K);
        if (!match) {
            throw new Error("Invalid K record at line " + this.lineNumber + ": " + line);
        }
        var time = match[1] + ":" + match[2] + ":" + match[3];
        var timestamp = this.calcTimestamp(time);
        var extensions = {};
        if (this.dataExtensions) {
            for (var _i = 0, _a = this.dataExtensions; _i < _a.length; _i++) {
                var _b = _a[_i], code = _b.code, start = _b.start, length = _b.length;
                extensions[code] = line.slice(start, start + length);
            }
        }
        return { timestamp: timestamp, time: time, extensions: extensions };
    };
    IGCParser.prototype.parseIJRecord = function (line) {
        var match = line.match(RE_IJ);
        if (!match) {
            console.error("Invalid " + line[0] + " record at line " + this.lineNumber + ": " + line);
            return [];
        }
        var num = parseInt(match[1], 10);
        if (line.length < 3 + num * 7) {
            throw new Error("Invalid " + line[0] + " record at line " + this.lineNumber + ": " + line);
        }
        var extensions = new Array(num);
        for (var i = 0; i < num; i++) {
            var offset = 3 + i * 7;
            var start = parseInt(line.slice(offset, offset + 2), 10);
            var end = parseInt(line.slice(offset + 2, offset + 4), 10);
            var length = end - start + 1;
            var code = line.slice(offset + 4, offset + 7);
            extensions[i] = { start: start, length: length, code: code };
        }
        return extensions;
    };
    IGCParser.parseLatitude = function (dd, mm, mmm, ns) {
        var degrees = parseInt(dd, 10) + parseFloat(mm + "." + mmm) / 60;
        return (ns === 'S') ? -degrees : degrees;
    };
    IGCParser.parseLongitude = function (ddd, mm, mmm, ew) {
        var degrees = parseInt(ddd, 10) + parseFloat(mm + "." + mmm) / 60;
        return (ew === 'W') ? -degrees : degrees;
    };
    /**
     * Figures out a Unix timestamp in milliseconds based on the
     * date header value, the time field in the current record and
     * the previous timestamp.
     */
    IGCParser.prototype.calcTimestamp = function (time) {
        var timestamp = Date.parse(this._result.date + "T" + time + "Z");
        // allow timestamps one hour before the previous timestamp,
        // otherwise we assume the next day is meant
        while (this.prevTimestamp && timestamp < this.prevTimestamp - ONE_HOUR) {
            timestamp += ONE_DAY;
        }
        return timestamp;
    };
    return IGCParser;
}());
var igcParser = IGCParser;

exports.IGCParser = igcParser;
exports.scoringRules = scoringRules_config;
exports.solver = solver_1;
});

unwrapExports(index_es);
var index_es_1 = index_es.IGCParser;
var index_es_2 = index_es.scoringRules;
var index_es_3 = index_es.solver;

function filterFunc(o) {
    const r = {};
    for (let k of Object.keys(o))
        switch (typeof o[k]) {
            case 'function':
                break;
            case 'object':
                if (o[k] !== null)
                    r[k] = filterFunc(o[k]);
                break;
            default:
                r[k] = o[k];
                break;
        }
    return r;
}
self.onmessage = function (msg) {
    if (msg.data.msg = 'xc-score') {
        const flight = { fixes: msg.data.flight };
        let rules;
        switch (msg.data.league) {
            case 'xc':
                rules = index_es_2.XContest;
                break;
            case 'FFVL':
                rules = index_es_2.FFVL;
                break;
        }
        if (rules === undefined)
            return;
        const it = index_es_3(flight, rules, { maxcycle: 1000 });
        let s = it.next();
        while (!s.done) {
            self.postMessage({ msg: 'xc-score-result', r: filterFunc(s.value) });
            s = it.next();
        }
        self.postMessage({ msg: 'xc-score-result', r: filterFunc(s.value) });
    }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieGMtc2NvcmUtd29ya2VyLmpzIiwic291cmNlcyI6WyIuLi8uLi9ub2RlX21vZHVsZXMvaWdjLXhjLXNjb3JlL2luZGV4LmVzLmpzIiwiLi4vLi4vc3JjL3dvcmtlcnMveGMtc2NvcmUtd29ya2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGNvbW1vbmpzR2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge307XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuLCBtb2R1bGUpIHtcblx0cmV0dXJuIG1vZHVsZSA9IHsgZXhwb3J0czoge30gfSwgZm4obW9kdWxlLCBtb2R1bGUuZXhwb3J0cyksIG1vZHVsZS5leHBvcnRzO1xufVxuXG5mdW5jdGlvbiBnZXRDanNFeHBvcnRGcm9tTmFtZXNwYWNlIChuKSB7XG5cdHJldHVybiBuICYmIG5bJ2RlZmF1bHQnXSB8fCBuO1xufVxuXG4vKipcbiAgICBBIHV0aWxpdHkgdG8gcmVkdWNlIHVubmVjZXNzYXJ5IGFsbG9jYXRpb25zIG9mIDxjb2RlPmZ1bmN0aW9uICgpIHt9PC9jb2RlPlxuICAgIGluIGl0cyBtYW55IGNvbG9yZnVsIHZhcmlhdGlvbnMuICBJdCBkb2VzIG5vdGhpbmcgYW5kIHJldHVybnNcbiAgICA8Y29kZT51bmRlZmluZWQ8L2NvZGU+IHRodXMgbWFrZXMgYSBzdWl0YWJsZSBkZWZhdWx0IGluIHNvbWUgY2lyY3Vtc3RhbmNlcy5cblxuICAgIEBmdW5jdGlvbiBleHRlcm5hbDpGdW5jdGlvbi5ub29wXG4qL1xuRnVuY3Rpb24ubm9vcCA9IGZ1bmN0aW9uICgpIHtcbn07XG5cbi8qKlxuICAgIEEgdXRpbGl0eSB0byByZWR1Y2UgdW5uZWNlc3NhcnkgYWxsb2NhdGlvbnMgb2YgPGNvZGU+ZnVuY3Rpb24gKHgpIHtyZXR1cm5cbiAgICB4fTwvY29kZT4gaW4gaXRzIG1hbnkgY29sb3JmdWwgYnV0IHVsdGltYXRlbHkgd2FzdGVmdWwgcGFyYW1ldGVyIG5hbWVcbiAgICB2YXJpYXRpb25zLlxuXG4gICAgQGZ1bmN0aW9uIGV4dGVybmFsOkZ1bmN0aW9uLmlkZW50aXR5XG4gICAgQHBhcmFtIHtBbnl9IGFueSB2YWx1ZVxuICAgIEByZXR1cm5zIHtBbnl9IHRoYXQgdmFsdWVcbiovXG5GdW5jdGlvbi5pZGVudGl0eSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbi8qKlxuICAgIEEgdXRpbGl0eSBmb3IgY3JlYXRpbmcgYSBjb21wYXJhdG9yIGZ1bmN0aW9uIGZvciBhIHBhcnRpY3VsYXIgYXNwZWN0IG9mIGFcbiAgICBmaWd1cmF0aXZlIGNsYXNzIG9mIG9iamVjdHMuXG5cbiAgICBAZnVuY3Rpb24gZXh0ZXJuYWw6RnVuY3Rpb24uYnlcbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSByZWxhdGlvbiBBIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhIHZhbHVlIGFuZCByZXR1cm5zIGFcbiAgICBjb3JyZXNwb25kaW5nIHZhbHVlIHRvIHVzZSBhcyBhIHJlcHJlc2VudGF0aXZlIHdoZW4gc29ydGluZyB0aGF0IG9iamVjdC5cbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJlIGFuIGFsdGVybmF0ZSBjb21wYXJhdG9yIGZvciBjb21wYXJpbmcgdGhlXG4gICAgcmVwcmVzZW50ZWQgdmFsdWVzLiAgVGhlIGRlZmF1bHQgaXMgPGNvZGU+T2JqZWN0LmNvbXBhcmU8L2NvZGU+LCB3aGljaFxuICAgIGRvZXMgYSBkZWVwLCB0eXBlLXNlbnNpdGl2ZSwgcG9seW1vcnBoaWMgY29tcGFyaXNvbi5cbiAgICBAcmV0dXJucyB7RnVuY3Rpb259IGEgY29tcGFyYXRvciB0aGF0IGhhcyBiZWVuIGFubm90YXRlZCB3aXRoXG4gICAgPGNvZGU+Ynk8L2NvZGU+IGFuZCA8Y29kZT5jb21wYXJlPC9jb2RlPiBwcm9wZXJ0aWVzIHNvXG4gICAgPGNvZGU+c29ydGVkPC9jb2RlPiBjYW4gcGVyZm9ybSBhIHRyYW5zZm9ybSB0aGF0IHJlZHVjZXMgdGhlIG5lZWQgdG8gY2FsbFxuICAgIDxjb2RlPmJ5PC9jb2RlPiBvbiBlYWNoIHNvcnRlZCBvYmplY3QgdG8ganVzdCBvbmNlLlxuICovXG5GdW5jdGlvbi5ieSA9IGZ1bmN0aW9uIChieSAsIGNvbXBhcmUpIHtcbiAgICBjb21wYXJlID0gY29tcGFyZSB8fCBPYmplY3QuY29tcGFyZTtcbiAgICBieSA9IGJ5IHx8IEZ1bmN0aW9uLmlkZW50aXR5O1xuICAgIHZhciBjb21wYXJlQnkgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gY29tcGFyZShieShhKSwgYnkoYikpO1xuICAgIH07XG4gICAgY29tcGFyZUJ5LmNvbXBhcmUgPSBjb21wYXJlO1xuICAgIGNvbXBhcmVCeS5ieSA9IGJ5O1xuICAgIHJldHVybiBjb21wYXJlQnk7XG59O1xuXG4vLyBUT0RPIGRvY3VtZW50XG5GdW5jdGlvbi5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXQob2JqZWN0LCBrZXkpO1xuICAgIH07XG59O1xuXG52YXIgZ2VuZXJpY0NvbGxlY3Rpb24gPSBHZW5lcmljQ29sbGVjdGlvbjtcbmZ1bmN0aW9uIEdlbmVyaWNDb2xsZWN0aW9uKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbnN0cnVjdC4gR2VuZXJpY0NvbGxlY3Rpb24gaXMgYSBtaXhpbi5cIik7XG59XG5cbnZhciBET01Ub2tlbkxpc3QgPSBjb21tb25qc0dsb2JhbC5ET01Ub2tlbkxpc3QgfHwgZnVuY3Rpb24oKXt9O1xuXG5HZW5lcmljQ29sbGVjdGlvbi5FbXB0eUFycmF5ID0gT2JqZWN0LmZyZWV6ZShbXSk7XG5cbkdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRFYWNoID0gZnVuY3Rpb24gKHZhbHVlcywgbWFwRm4sIHRoaXNwKSB7XG4gICAgLy9XZSB3YW50IHRvIGVsaW1pbmF0ZSBldmVyeXRoaW5nIGJ1dCBhcnJheSBsaWtlOiBTdHJpbmdzLCBBcnJheXMsIERPTVRva2VuTGlzdFxuICAgIGlmKHZhbHVlcyAmJiAodmFsdWVzIGluc3RhbmNlb2YgQXJyYXkgfHwgKHZhbHVlcyBpbnN0YW5jZW9mIERPTVRva2VuTGlzdCkgfHwgdmFsdWVzIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICBpZihtYXBGbikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChtYXBGbi5jYWxsKHRoaXNwLHZhbHVlc1tpXSksIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZCh2YWx1ZXNbaV0sIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlcyAmJiBPYmplY3QodmFsdWVzKSA9PT0gdmFsdWVzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWVzLmZvckVhY2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgaWYobWFwRm4pIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXMubWFwKG1hcEZuLCB0aGlzcCkuZm9yRWFjaCh0aGlzLmFkZCwgdGhpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKHRoaXMuYWRkLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmKHR5cGVvZiB2YWx1ZXMubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUsIGk9MDtcbiAgICAgICAgICAgIGlmKG1hcEZuKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKCh2YWx1ZSA9IHZhbHVlcy5uZXh0KCkudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkKG1hcEZuLmNhbGwodGhpc3AsdmFsdWUpLCBpKyspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHdoaWxlICgodmFsdWUgPSB2YWx1ZXMubmV4dCgpLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZCh2YWx1ZSwgaSsrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlcy5sZW5ndGggPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIC8vIEFycmF5LWxpa2Ugb2JqZWN0cyB0aGF0IGRvIG5vdCBpbXBsZW1lbnQgZm9yRWFjaCwgZXJnbyxcbiAgICAgICAgICAgIC8vIEFyZ3VtZW50c1xuICAgICAgICAgICAgaWYobWFwRm4pIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZChtYXBGbi5jYWxsKHRoaXNwLHZhbHVlc1tpXSksIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkKHZhbHVlc1tpXSwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYobWFwRm4pIHtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh2YWx1ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZChtYXBGbi5jYWxsKHRoaXNwLHZhbHVlc1trZXldKSwga2V5KTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModmFsdWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGQodmFsdWVzW2tleV0sIGtleSk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBUaGlzIGlzIHN1ZmZpY2llbnRseSBnZW5lcmljIGZvciBNYXAgKHNpbmNlIHRoZSB2YWx1ZSBtYXkgYmUgYSBrZXkpXG4vLyBhbmQgb3JkZXJlZCBjb2xsZWN0aW9ucyAoc2luY2UgaXQgZm9yd2FyZHMgdGhlIGVxdWFscyBhcmd1bWVudClcbkdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5kZWxldGVFYWNoID0gZnVuY3Rpb24gKHZhbHVlcywgZXF1YWxzKSB7XG4gICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXNbXCJkZWxldGVcIl0odmFsdWUsIGVxdWFscyk7XG4gICAgfSwgdGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBhbGwgb2YgdGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIGluIHRlcm1zIG9mIFwicmVkdWNlXCIuXG4vLyBzb21lIG5lZWQgXCJjb25zdHJ1Y3RDbG9uZVwiLlxuXG5HZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjayAvKiwgdGhpc3AqLykge1xuICAgIHZhciB0aGlzcCA9IGFyZ3VtZW50c1sxXTtcbiAgICByZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24gKHVuZGVmaW5lZCQxLCB2YWx1ZSwga2V5LCBvYmplY3QsIGRlcHRoKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc3AsIHZhbHVlLCBrZXksIG9iamVjdCwgZGVwdGgpO1xuICAgIH0sIHVuZGVmaW5lZCk7XG59O1xuXG5HZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGNhbGxiYWNrIC8qLCB0aGlzcCovKSB7XG4gICAgdmFyIHRoaXNwID0gYXJndW1lbnRzWzFdO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB0aGlzLnJlZHVjZShmdW5jdGlvbiAodW5kZWZpbmVkJDEsIHZhbHVlLCBrZXksIG9iamVjdCwgZGVwdGgpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goY2FsbGJhY2suY2FsbCh0aGlzcCwgdmFsdWUsIGtleSwgb2JqZWN0LCBkZXB0aCkpO1xuICAgIH0sIHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbkdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5lbnVtZXJhdGUgPSBmdW5jdGlvbiAoc3RhcnQpIHtcbiAgICBpZiAoc3RhcnQgPT0gbnVsbCkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB0aGlzLnJlZHVjZShmdW5jdGlvbiAodW5kZWZpbmVkJDEsIHZhbHVlKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKFtzdGFydCsrLCB2YWx1ZV0pO1xuICAgIH0sIHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbkdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5ncm91cCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgdGhpc3AsIGVxdWFscykge1xuICAgIGVxdWFscyA9IGVxdWFscyB8fCBPYmplY3QuZXF1YWxzO1xuICAgIHZhciBncm91cHMgPSBbXTtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIHZhciBrZXkgPSBjYWxsYmFjay5jYWxsKHRoaXNwLCB2YWx1ZSwga2V5LCBvYmplY3QpO1xuICAgICAgICB2YXIgaW5kZXggPSBrZXlzLmluZGV4T2Yoa2V5LCBlcXVhbHMpO1xuICAgICAgICB2YXIgZ3JvdXA7XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIGdyb3VwID0gW107XG4gICAgICAgICAgICBncm91cHMucHVzaChba2V5LCBncm91cF0pO1xuICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBncm91cCA9IGdyb3Vwc1tpbmRleF1bMV07XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXAucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGdyb3Vwcztcbn07XG5cbkdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChGdW5jdGlvbi5pZGVudGl0eSk7XG59O1xuXG4vLyB0aGlzIGRlcGVuZHMgb24gc3RyaW5nYWJsZSBrZXlzLCB3aGljaCBhcHBseSB0byBBcnJheSBhbmQgSXRlcmF0b3Jcbi8vIGJlY2F1c2UgdGhleSBoYXZlIG51bWVyaWMga2V5cyBhbmQgYWxsIE1hcHMgc2luY2UgdGhleSBtYXkgdXNlXG4vLyBzdHJpbmdzIGFzIGtleXMuICBMaXN0LCBTZXQsIGFuZCBTb3J0ZWRTZXQgaGF2ZSBub2RlcyBmb3Iga2V5cywgc29cbi8vIHRvT2JqZWN0IHdvdWxkIG5vdCBiZSBtZWFuaW5nZnVsLlxuR2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvYmplY3QgPSB7fTtcbiAgICB0aGlzLnJlZHVjZShmdW5jdGlvbiAodW5kZWZpbmVkJDEsIHZhbHVlLCBrZXkpIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICB9LCB1bmRlZmluZWQpO1xuICAgIHJldHVybiBvYmplY3Q7XG59O1xuXG5HZW5lcmljQ29sbGVjdGlvbi5mcm9tID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcbn07XG5cbkdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbiAoY2FsbGJhY2sgLyosIHRoaXNwKi8pIHtcbiAgICB2YXIgdGhpc3AgPSBhcmd1bWVudHNbMV07XG4gICAgdmFyIHJlc3VsdCA9IHRoaXMuY29uc3RydWN0Q2xvbmUoKTtcbiAgICB0aGlzLnJlZHVjZShmdW5jdGlvbiAodW5kZWZpbmVkJDEsIHZhbHVlLCBrZXksIG9iamVjdCwgZGVwdGgpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrLmNhbGwodGhpc3AsIHZhbHVlLCBrZXksIG9iamVjdCwgZGVwdGgpKSB7XG4gICAgICAgICAgICByZXN1bHQuYWRkKHZhbHVlLCBrZXkpO1xuICAgICAgICB9XG4gICAgfSwgdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuR2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLmV2ZXJ5ID0gZnVuY3Rpb24gKGNhbGxiYWNrIC8qLCB0aGlzcCovKSB7XG4gICAgdmFyIHRoaXNwID0gYXJndW1lbnRzWzFdO1xuICAgIHJldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCB2YWx1ZSwga2V5LCBvYmplY3QsIGRlcHRoKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQgJiYgY2FsbGJhY2suY2FsbCh0aGlzcCwgdmFsdWUsIGtleSwgb2JqZWN0LCBkZXB0aCk7XG4gICAgfSwgdHJ1ZSk7XG59O1xuXG5HZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUuc29tZSA9IGZ1bmN0aW9uIChjYWxsYmFjayAvKiwgdGhpc3AqLykge1xuICAgIHZhciB0aGlzcCA9IGFyZ3VtZW50c1sxXTtcbiAgICByZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwgdmFsdWUsIGtleSwgb2JqZWN0LCBkZXB0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0IHx8IGNhbGxiYWNrLmNhbGwodGhpc3AsIHZhbHVlLCBrZXksIG9iamVjdCwgZGVwdGgpO1xuICAgIH0sIGZhbHNlKTtcbn07XG5cbkdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5hbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXZlcnkoQm9vbGVhbik7XG59O1xuXG5HZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUuYW55ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnNvbWUoQm9vbGVhbik7XG59O1xuXG5HZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUubWluID0gZnVuY3Rpb24gKGNvbXBhcmUpIHtcbiAgICBjb21wYXJlID0gY29tcGFyZSB8fCB0aGlzLmNvbnRlbnRDb21wYXJlIHx8IE9iamVjdC5jb21wYXJlO1xuICAgIHZhciBmaXJzdCA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIHZhbHVlKSB7XG4gICAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wYXJlKHZhbHVlLCByZXN1bHQpIDwgMCA/IHZhbHVlIDogcmVzdWx0O1xuICAgICAgICB9XG4gICAgfSwgdW5kZWZpbmVkKTtcbn07XG5cbkdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5tYXggPSBmdW5jdGlvbiAoY29tcGFyZSkge1xuICAgIGNvbXBhcmUgPSBjb21wYXJlIHx8IHRoaXMuY29udGVudENvbXBhcmUgfHwgT2JqZWN0LmNvbXBhcmU7XG4gICAgdmFyIGZpcnN0ID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGZpcnN0KSB7XG4gICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmUodmFsdWUsIHJlc3VsdCkgPiAwID8gdmFsdWUgOiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9LCB1bmRlZmluZWQpO1xufTtcblxuR2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLnN1bSA9IGZ1bmN0aW9uICh6ZXJvKSB7XG4gICAgemVybyA9IHplcm8gPT09IHVuZGVmaW5lZCA/IDAgOiB6ZXJvO1xuICAgIHJldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYSArIGI7XG4gICAgfSwgemVybyk7XG59O1xuXG5HZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUuYXZlcmFnZSA9IGZ1bmN0aW9uICh6ZXJvKSB7XG4gICAgdmFyIHN1bSA9IHplcm8gPT09IHVuZGVmaW5lZCA/IDAgOiB6ZXJvO1xuICAgIHZhciBjb3VudCA9IHplcm8gPT09IHVuZGVmaW5lZCA/IDAgOiB6ZXJvO1xuICAgIHRoaXMucmVkdWNlKGZ1bmN0aW9uICh1bmRlZmluZWQkMSwgdmFsdWUpIHtcbiAgICAgICAgc3VtICs9IHZhbHVlO1xuICAgICAgICBjb3VudCArPSAxO1xuICAgIH0sIHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIHN1bSAvIGNvdW50O1xufTtcblxuR2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLmNvbmNhdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5jb25zdHJ1Y3RDbG9uZSh0aGlzKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXN1bHQuYWRkRWFjaChhcmd1bWVudHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuR2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLmZsYXR0ZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBhcnJheSkge1xuICAgICAgICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfSwgcmVzdWx0LCBzZWxmKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCBbXSk7XG59O1xuXG5HZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUuemlwID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0YWJsZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgdGFibGUudW5zaGlmdCh0aGlzKTtcbiAgICByZXR1cm4gQXJyYXkudW56aXAodGFibGUpO1xufTtcblxuR2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLmpvaW4gPSBmdW5jdGlvbiAoZGVsaW1pdGVyKSB7XG4gICAgcmV0dXJuIHRoaXMucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIHN0cmluZykge1xuICAgICAgICAvLyB3b3JrLWFyb3VuZCBmb3IgcmVkdWNlIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCBuby1iYXNpcyBmb3JtXG4gICAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQgKyBkZWxpbWl0ZXIgKyBzdHJpbmc7XG4gICAgICAgIH1cbiAgICB9LCB2b2lkIDApO1xufTtcblxuR2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLnNvcnRlZCA9IGZ1bmN0aW9uIChjb21wYXJlLCBieSwgb3JkZXIpIHtcbiAgICBjb21wYXJlID0gY29tcGFyZSB8fCB0aGlzLmNvbnRlbnRDb21wYXJlIHx8IE9iamVjdC5jb21wYXJlO1xuICAgIC8vIGFjY291bnQgZm9yIGNvbXBhcmF0b3JzIGdlbmVyYXRlZCBieSBGdW5jdGlvbi5ieVxuICAgIGlmIChjb21wYXJlLmJ5KSB7XG4gICAgICAgIGJ5ID0gY29tcGFyZS5ieTtcbiAgICAgICAgY29tcGFyZSA9IGNvbXBhcmUuY29tcGFyZSB8fCB0aGlzLmNvbnRlbnRDb21wYXJlIHx8IE9iamVjdC5jb21wYXJlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGJ5ID0gYnkgfHwgRnVuY3Rpb24uaWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChvcmRlciA9PT0gdW5kZWZpbmVkKVxuICAgICAgICBvcmRlciA9IDE7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBieTogYnkoaXRlbSksXG4gICAgICAgICAgICB2YWx1ZTogaXRlbVxuICAgICAgICB9O1xuICAgIH0pXG4gICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmUoYS5ieSwgYi5ieSkgKiBvcmRlcjtcbiAgICB9KVxuICAgIC5tYXAoZnVuY3Rpb24gKHBhaXIpIHtcbiAgICAgICAgcmV0dXJuIHBhaXIudmFsdWU7XG4gICAgfSk7XG59O1xuXG5HZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUucmV2ZXJzZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0Q2xvbmUodGhpcykucmV2ZXJzZSgpO1xufTtcblxuR2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKGRlcHRoLCBtZW1vKSB7XG4gICAgaWYgKGRlcHRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGVwdGggPSBJbmZpbml0eTtcbiAgICB9IGVsc2UgaWYgKGRlcHRoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB2YXIgY2xvbmUgPSB0aGlzLmNvbnN0cnVjdENsb25lKCk7XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgIGNsb25lLmFkZChPYmplY3QuY2xvbmUodmFsdWUsIGRlcHRoIC0gMSwgbWVtbyksIGtleSk7XG4gICAgfSwgdGhpcyk7XG4gICAgcmV0dXJuIGNsb25lO1xufTtcblxuR2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLm9ubHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9uZSgpO1xuICAgIH1cbn07XG5cbkdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVyYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG5HZW5lcmljQ29sbGVjdGlvbi5fc2l6ZVByb3BlcnR5RGVzY3JpcHRvciA9IHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGg7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShHZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUsXCJzaXplXCIsR2VuZXJpY0NvbGxlY3Rpb24uX3NpemVQcm9wZXJ0eURlc2NyaXB0b3IpO1xuXG52YXIgd2Vha01hcCA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcbi8vIENvcHlyaWdodCAoQykgMjAxMSBHb29nbGUgSW5jLlxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgSW5zdGFsbCBhIGxlYWt5IFdlYWtNYXAgZW11bGF0aW9uIG9uIHBsYXRmb3JtcyB0aGF0XG4gKiBkb24ndCBwcm92aWRlIGEgYnVpbHQtaW4gb25lLlxuICpcbiAqIDxwPkFzc3VtZXMgdGhhdCBhbiBFUzUgcGxhdGZvcm0gd2hlcmUsIGlmIHtAY29kZSBXZWFrTWFwfSBpc1xuICogYWxyZWFkeSBwcmVzZW50LCB0aGVuIGl0IGNvbmZvcm1zIHRvIHRoZSBhbnRpY2lwYXRlZCBFUzZcbiAqIHNwZWNpZmljYXRpb24uIFRvIHJ1biB0aGlzIGZpbGUgb24gYW4gRVM1IG9yIGFsbW9zdCBFUzVcbiAqIGltcGxlbWVudGF0aW9uIHdoZXJlIHRoZSB7QGNvZGUgV2Vha01hcH0gc3BlY2lmaWNhdGlvbiBkb2VzIG5vdFxuICogcXVpdGUgY29uZm9ybSwgcnVuIDxjb2RlPnJlcGFpckVTNS5qczwvY29kZT4gZmlyc3QuXG4gKlxuICogPHA+RXZlbiB0aG91Z2ggV2Vha01hcE1vZHVsZSBpcyBub3QgZ2xvYmFsLCB0aGUgbGludGVyIHRoaW5rcyBpdFxuICogaXMsIHdoaWNoIGlzIHdoeSBpdCBpcyBpbiB0aGUgb3ZlcnJpZGVzIGxpc3QgYmVsb3cuXG4gKlxuICogPHA+Tk9URTogQmVmb3JlIHVzaW5nIHRoaXMgV2Vha01hcCBlbXVsYXRpb24gaW4gYSBub24tU0VTXG4gKiBlbnZpcm9ubWVudCwgc2VlIHRoZSBub3RlIGJlbG93IGFib3V0IGhpZGRlblJlY29yZC5cbiAqXG4gKiBAYXV0aG9yIE1hcmsgUy4gTWlsbGVyXG4gKiBAcmVxdWlyZXMgY3J5cHRvLCBBcnJheUJ1ZmZlciwgVWludDhBcnJheSwgbmF2aWdhdG9yLCBjb25zb2xlXG4gKiBAb3ZlcnJpZGVzIFdlYWtNYXAsIHNlcywgUHJveHlcbiAqIEBvdmVycmlkZXMgV2Vha01hcE1vZHVsZVxuICovXG5cbi8qKlxuICogVGhpcyB7QGNvZGUgV2Vha01hcH0gZW11bGF0aW9uIGlzIG9ic2VydmFibHkgZXF1aXZhbGVudCB0byB0aGVcbiAqIEVTLUhhcm1vbnkgV2Vha01hcCwgYnV0IHdpdGggbGVha2llciBnYXJiYWdlIGNvbGxlY3Rpb24gcHJvcGVydGllcy5cbiAqXG4gKiA8cD5BcyB3aXRoIHRydWUgV2Vha01hcHMsIGluIHRoaXMgZW11bGF0aW9uLCBhIGtleSBkb2VzIG5vdFxuICogcmV0YWluIG1hcHMgaW5kZXhlZCBieSB0aGF0IGtleSBhbmQgKGNydWNpYWxseSkgYSBtYXAgZG9lcyBub3RcbiAqIHJldGFpbiB0aGUga2V5cyBpdCBpbmRleGVzLiBBIG1hcCBieSBpdHNlbGYgYWxzbyBkb2VzIG5vdCByZXRhaW5cbiAqIHRoZSB2YWx1ZXMgYXNzb2NpYXRlZCB3aXRoIHRoYXQgbWFwLlxuICpcbiAqIDxwPkhvd2V2ZXIsIHRoZSB2YWx1ZXMgYXNzb2NpYXRlZCB3aXRoIGEga2V5IGluIHNvbWUgbWFwIGFyZVxuICogcmV0YWluZWQgc28gbG9uZyBhcyB0aGF0IGtleSBpcyByZXRhaW5lZCBhbmQgdGhvc2UgYXNzb2NpYXRpb25zIGFyZVxuICogbm90IG92ZXJyaWRkZW4uIEZvciBleGFtcGxlLCB3aGVuIHVzZWQgdG8gc3VwcG9ydCBtZW1icmFuZXMsIGFsbFxuICogdmFsdWVzIGV4cG9ydGVkIGZyb20gYSBnaXZlbiBtZW1icmFuZSB3aWxsIGxpdmUgZm9yIHRoZSBsaWZldGltZVxuICogdGhleSB3b3VsZCBoYXZlIGhhZCBpbiB0aGUgYWJzZW5jZSBvZiBhbiBpbnRlcnBvc2VkIG1lbWJyYW5lLiBFdmVuXG4gKiB3aGVuIHRoZSBtZW1icmFuZSBpcyByZXZva2VkLCBhbGwgb2JqZWN0cyB0aGF0IHdvdWxkIGhhdmUgYmVlblxuICogcmVhY2hhYmxlIGluIHRoZSBhYnNlbmNlIG9mIHJldm9jYXRpb24gd2lsbCBzdGlsbCBiZSByZWFjaGFibGUsIGFzXG4gKiBmYXIgYXMgdGhlIEdDIGNhbiB0ZWxsLCBldmVuIHRob3VnaCB0aGV5IHdpbGwgbm8gbG9uZ2VyIGJlIHJlbGV2YW50XG4gKiB0byBvbmdvaW5nIGNvbXB1dGF0aW9uLlxuICpcbiAqIDxwPlRoZSBBUEkgaW1wbGVtZW50ZWQgaGVyZSBpcyBhcHByb3hpbWF0ZWx5IHRoZSBBUEkgYXMgaW1wbGVtZW50ZWRcbiAqIGluIEZGNi4wYTEgYW5kIGFncmVlZCB0byBieSBNYXJrTSwgQW5kcmVhcyBHYWwsIGFuZCBEYXZlIEhlcm1hbixcbiAqIHJhdGhlciB0aGFuIHRoZSBvZmZpYWxseSBhcHByb3ZlZCBwcm9wb3NhbCBwYWdlLiBUT0RPKGVyaWdodHMpOlxuICogdXBncmFkZSB0aGUgZWNtYXNjcmlwdCBXZWFrTWFwIHByb3Bvc2FsIHBhZ2UgdG8gZXhwbGFpbiB0aGlzIEFQSVxuICogY2hhbmdlIGFuZCBwcmVzZW50IHRvIEVjbWFTY3JpcHQgY29tbWl0dGVlIGZvciB0aGVpciBhcHByb3ZhbC5cbiAqXG4gKiA8cD5UaGUgZmlyc3QgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBlbXVsYXRpb24gaGVyZSBhbmQgdGhhdCBpblxuICogRkY2LjBhMSBpcyB0aGUgcHJlc2VuY2Ugb2Ygbm9uIGVudW1lcmFibGUge0Bjb2RlIGdldF9fXywgaGFzX19fLFxuICogc2V0X19fLCBhbmQgZGVsZXRlX19ffSBtZXRob2RzIG9uIFdlYWtNYXAgaW5zdGFuY2VzIHRvIHJlcHJlc2VudFxuICogd2hhdCB3b3VsZCBiZSB0aGUgaGlkZGVuIGludGVybmFsIHByb3BlcnRpZXMgb2YgYSBwcmltaXRpdmVcbiAqIGltcGxlbWVudGF0aW9uLiBXaGVyZWFzIHRoZSBGRjYuMGExIFdlYWtNYXAucHJvdG90eXBlIG1ldGhvZHNcbiAqIHJlcXVpcmUgdGhlaXIge0Bjb2RlIHRoaXN9IHRvIGJlIGEgZ2VudWluZSBXZWFrTWFwIGluc3RhbmNlIChpLmUuLFxuICogYW4gb2JqZWN0IG9mIHtAY29kZSBbW0NsYXNzXV19IFwiV2Vha01hcH0pLCBzaW5jZSB0aGVyZSBpcyBub3RoaW5nXG4gKiB1bmZvcmdlYWJsZSBhYm91dCB0aGUgcHNldWRvLWludGVybmFsIG1ldGhvZCBuYW1lcyB1c2VkIGhlcmUsXG4gKiBub3RoaW5nIHByZXZlbnRzIHRoZXNlIGVtdWxhdGVkIHByb3RvdHlwZSBtZXRob2RzIGZyb20gYmVpbmdcbiAqIGFwcGxpZWQgdG8gbm9uLVdlYWtNYXBzIHdpdGggcHNldWRvLWludGVybmFsIG1ldGhvZHMgb2YgdGhlIHNhbWVcbiAqIG5hbWVzLlxuICpcbiAqIDxwPkFub3RoZXIgZGlmZmVyZW5jZSBpcyB0aGF0IG91ciBlbXVsYXRlZCB7QGNvZGVcbiAqIFdlYWtNYXAucHJvdG90eXBlfSBpcyBub3QgaXRzZWxmIGEgV2Vha01hcC4gQSBwcm9ibGVtIHdpdGggdGhlXG4gKiBjdXJyZW50IEZGNi4wYTEgQVBJIGlzIHRoYXQgV2Vha01hcC5wcm90b3R5cGUgaXMgaXRzZWxmIGEgV2Vha01hcFxuICogcHJvdmlkaW5nIGFtYmllbnQgbXV0YWJpbGl0eSBhbmQgYW4gYW1iaWVudCBjb21tdW5pY2F0aW9uc1xuICogY2hhbm5lbC4gVGh1cywgaWYgYSBXZWFrTWFwIGlzIGFscmVhZHkgcHJlc2VudCBhbmQgaGFzIHRoaXNcbiAqIHByb2JsZW0sIHJlcGFpckVTNS5qcyB3cmFwcyBpdCBpbiBhIHNhZmUgd3JhcHBwZXIgaW4gb3JkZXIgdG9cbiAqIHByZXZlbnQgYWNjZXNzIHRvIHRoaXMgY2hhbm5lbC4gKFNlZVxuICogUEFUQ0hfTVVUQUJMRV9GUk9aRU5fV0VBS01BUF9QUk9UTyBpbiByZXBhaXJFUzUuanMpLlxuICovXG5cbi8qKlxuICogSWYgdGhpcyBpcyBhIGZ1bGwgPGEgaHJlZj1cbiAqIFwiaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2VzLWxhYi93aWtpL1NlY3VyZWFibGVFUzVcIlxuICogPnNlY3VyZWFibGUgRVM1PC9hPiBwbGF0Zm9ybSBhbmQgdGhlIEVTLUhhcm1vbnkge0Bjb2RlIFdlYWtNYXB9IGlzXG4gKiBhYnNlbnQsIGluc3RhbGwgYW4gYXBwcm94aW1hdGUgZW11bGF0aW9uLlxuICpcbiAqIDxwPklmIFdlYWtNYXAgaXMgcHJlc2VudCBidXQgY2Fubm90IHN0b3JlIHNvbWUgb2JqZWN0cywgdXNlIG91ciBhcHByb3hpbWF0ZVxuICogZW11bGF0aW9uIGFzIGEgd3JhcHBlci5cbiAqXG4gKiA8cD5JZiB0aGlzIGlzIGFsbW9zdCBhIHNlY3VyZWFibGUgRVM1IHBsYXRmb3JtLCB0aGVuIFdlYWtNYXAuanNcbiAqIHNob3VsZCBiZSBydW4gYWZ0ZXIgcmVwYWlyRVM1LmpzLlxuICpcbiAqIDxwPlNlZSB7QGNvZGUgV2Vha01hcH0gZm9yIGRvY3VtZW50YXRpb24gb2YgdGhlIGdhcmJhZ2UgY29sbGVjdGlvblxuICogcHJvcGVydGllcyBvZiB0aGlzIFdlYWtNYXAgZW11bGF0aW9uLlxuICovXG4oZnVuY3Rpb24gV2Vha01hcE1vZHVsZSgpIHtcblxuICBpZiAodHlwZW9mIHNlcyAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VzLm9rICYmICFzZXMub2soKSkge1xuICAgIC8vIGFscmVhZHkgdG9vIGJyb2tlbiwgc28gZ2l2ZSB1cFxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbiBzb21lIGNhc2VzIChjdXJyZW50IEZpcmVmb3gpLCB3ZSBtdXN0IG1ha2UgYSBjaG9pY2UgYmV0d2VlZW4gYVxuICAgKiBXZWFrTWFwIHdoaWNoIGlzIGNhcGFibGUgb2YgdXNpbmcgYWxsIHZhcmlldGllcyBvZiBob3N0IG9iamVjdHMgYXNcbiAgICoga2V5cyBhbmQgb25lIHdoaWNoIGlzIGNhcGFibGUgb2Ygc2FmZWx5IHVzaW5nIHByb3hpZXMgYXMga2V5cy4gU2VlXG4gICAqIGNvbW1lbnRzIGJlbG93IGFib3V0IEhvc3RXZWFrTWFwIGFuZCBEb3VibGVXZWFrTWFwIGZvciBkZXRhaWxzLlxuICAgKlxuICAgKiBUaGlzIGZ1bmN0aW9uICh3aGljaCBpcyBhIGdsb2JhbCwgbm90IGV4cG9zZWQgdG8gZ3Vlc3RzKSBtYXJrcyBhXG4gICAqIFdlYWtNYXAgYXMgcGVybWl0dGVkIHRvIGRvIHdoYXQgaXMgbmVjZXNzYXJ5IHRvIGluZGV4IGFsbCBob3N0XG4gICAqIG9iamVjdHMsIGF0IHRoZSBjb3N0IG9mIG1ha2luZyBpdCB1bnNhZmUgZm9yIHByb3hpZXMuXG4gICAqXG4gICAqIERvIG5vdCBhcHBseSB0aGlzIGZ1bmN0aW9uIHRvIGFueXRoaW5nIHdoaWNoIGlzIG5vdCBhIGdlbnVpbmVcbiAgICogZnJlc2ggV2Vha01hcC5cbiAgICovXG4gIGZ1bmN0aW9uIHdlYWtNYXBQZXJtaXRIb3N0T2JqZWN0cyhtYXApIHtcbiAgICAvLyBpZGVudGl0eSBvZiBmdW5jdGlvbiB1c2VkIGFzIGEgc2VjcmV0IC0tIGdvb2QgZW5vdWdoIGFuZCBjaGVhcFxuICAgIGlmIChtYXAucGVybWl0SG9zdE9iamVjdHNfX18pIHtcbiAgICAgIG1hcC5wZXJtaXRIb3N0T2JqZWN0c19fXyh3ZWFrTWFwUGVybWl0SG9zdE9iamVjdHMpO1xuICAgIH1cbiAgfVxuICBpZiAodHlwZW9mIHNlcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzZXMud2Vha01hcFBlcm1pdEhvc3RPYmplY3RzID0gd2Vha01hcFBlcm1pdEhvc3RPYmplY3RzO1xuICB9XG5cbiAgLy8gSUUgMTEgaGFzIG5vIFByb3h5IGJ1dCBoYXMgYSBicm9rZW4gV2Vha01hcCBzdWNoIHRoYXQgd2UgbmVlZCB0byBwYXRjaFxuICAvLyBpdCB1c2luZyBEb3VibGVXZWFrTWFwOyB0aGlzIGZsYWcgdGVsbHMgRG91YmxlV2Vha01hcCBzby5cbiAgdmFyIGRvdWJsZVdlYWtNYXBDaGVja1NpbGVudEZhaWx1cmUgPSBmYWxzZTtcblxuICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhbHJlYWR5IGEgZ29vZC1lbm91Z2ggV2Vha01hcCBpbXBsZW1lbnRhdGlvbiwgYW5kIGlmIHNvXG4gIC8vIGV4aXQgd2l0aG91dCByZXBsYWNpbmcgaXQuXG4gIGlmICh0eXBlb2YgV2Vha01hcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBIb3N0V2Vha01hcCA9IFdlYWtNYXA7XG4gICAgLy8gVGhlcmUgaXMgYSBXZWFrTWFwIC0tIGlzIGl0IGdvb2QgZW5vdWdoP1xuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAvRmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkgOyBlbHNlIHtcbiAgICAgIC8vIElFIDExIGJ1ZzogV2Vha01hcHMgc2lsZW50bHkgZmFpbCB0byBzdG9yZSBmcm96ZW4gb2JqZWN0cy5cbiAgICAgIHZhciB0ZXN0TWFwID0gbmV3IEhvc3RXZWFrTWFwKCk7XG4gICAgICB2YXIgdGVzdE9iamVjdCA9IE9iamVjdC5mcmVlemUoe30pO1xuICAgICAgdGVzdE1hcC5zZXQodGVzdE9iamVjdCwgMSk7XG4gICAgICBpZiAodGVzdE1hcC5nZXQodGVzdE9iamVjdCkgIT09IDEpIHtcbiAgICAgICAgZG91YmxlV2Vha01hcENoZWNrU2lsZW50RmFpbHVyZSA9IHRydWU7XG4gICAgICAgIC8vIEZhbGwgdGhyb3VnaCB0byBpbnN0YWxsaW5nIG91ciBXZWFrTWFwLlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBXZWFrTWFwO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHZhciBnb3BuID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG4gIHZhciBkZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuICB2YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZTtcblxuICAvKipcbiAgICogU2VjdXJpdHkgZGVwZW5kcyBvbiBISURERU5fTkFNRSBiZWluZyBib3RoIDxpPnVuZ3Vlc3NhYmxlPC9pPiBhbmRcbiAgICogPGk+dW5kaXNjb3ZlcmFibGU8L2k+IGJ5IHVudHJ1c3RlZCBjb2RlLlxuICAgKlxuICAgKiA8cD5HaXZlbiB0aGUga25vd24gd2Vha25lc3NlcyBvZiBNYXRoLnJhbmRvbSgpIG9uIGV4aXN0aW5nXG4gICAqIGJyb3dzZXJzLCBpdCBkb2VzIG5vdCBnZW5lcmF0ZSB1bmd1ZXNzYWJpbGl0eSB3ZSBjYW4gYmUgY29uZmlkZW50XG4gICAqIG9mLlxuICAgKlxuICAgKiA8cD5JdCBpcyB0aGUgbW9ua2V5IHBhdGNoaW5nIGxvZ2ljIGluIHRoaXMgZmlsZSB0aGF0IGlzIGludGVuZGVkXG4gICAqIHRvIGVuc3VyZSB1bmRpc2NvdmVyYWJpbGl0eS4gVGhlIGJhc2ljIGlkZWEgaXMgdGhhdCB0aGVyZSBhcmVcbiAgICogdGhyZWUgZnVuZGFtZW50YWwgbWVhbnMgb2YgZGlzY292ZXJpbmcgcHJvcGVydGllcyBvZiBhbiBvYmplY3Q6XG4gICAqIFRoZSBmb3IvaW4gbG9vcCwgT2JqZWN0LmtleXMoKSwgYW5kIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKCksXG4gICAqIGFzIHdlbGwgYXMgc29tZSBwcm9wb3NlZCBFUzYgZXh0ZW5zaW9ucyB0aGF0IGFwcGVhciBvbiBvdXJcbiAgICogd2hpdGVsaXN0LiBUaGUgZmlyc3QgdHdvIG9ubHkgZGlzY292ZXIgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLCBhbmRcbiAgICogd2Ugb25seSB1c2UgSElEREVOX05BTUUgdG8gbmFtZSBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5LCBzbyB0aGVcbiAgICogb25seSByZW1haW5pbmcgdGhyZWF0IHNob3VsZCBiZSBnZXRPd25Qcm9wZXJ0eU5hbWVzIGFuZCBzb21lXG4gICAqIHByb3Bvc2VkIEVTNiBleHRlbnNpb25zIHRoYXQgYXBwZWFyIG9uIG91ciB3aGl0ZWxpc3QuIFdlIG1vbmtleVxuICAgKiBwYXRjaCB0aGVtIHRvIHJlbW92ZSBISURERU5fTkFNRSBmcm9tIHRoZSBsaXN0IG9mIHByb3BlcnRpZXMgdGhleVxuICAgKiByZXR1cm5zLlxuICAgKlxuICAgKiA8cD5UT0RPKGVyaWdodHMpOiBPbiBhIHBsYXRmb3JtIHdpdGggYnVpbHQtaW4gUHJveGllcywgcHJveGllc1xuICAgKiBjb3VsZCBiZSB1c2VkIHRvIHRyYXAgYW5kIHRoZXJlYnkgZGlzY292ZXIgdGhlIEhJRERFTl9OQU1FLCBzbyB3ZVxuICAgKiBuZWVkIHRvIG1vbmtleSBwYXRjaCBQcm94eS5jcmVhdGUsIFByb3h5LmNyZWF0ZUZ1bmN0aW9uLCBldGMsIGluXG4gICAqIG9yZGVyIHRvIHdyYXAgdGhlIHByb3ZpZGVkIGhhbmRsZXIgd2l0aCB0aGUgcmVhbCBoYW5kbGVyIHdoaWNoXG4gICAqIGZpbHRlcnMgb3V0IGFsbCB0cmFwcyB1c2luZyBISURERU5fTkFNRS5cbiAgICpcbiAgICogPHA+VE9ETyhlcmlnaHRzKTogUmV2aXNpdCBNaWtlIFN0YXkncyBzdWdnZXN0aW9uIHRoYXQgd2UgdXNlIGFuXG4gICAqIGVuY2Fwc3VsYXRlZCBmdW5jdGlvbiBhdCBhIG5vdC1uZWNlc3NhcmlseS1zZWNyZXQgbmFtZSwgd2hpY2hcbiAgICogdXNlcyB0aGUgU3RpZWdsZXIgc2hhcmVkLXN0YXRlIHJpZ2h0cyBhbXBsaWZpY2F0aW9uIHBhdHRlcm4gdG9cbiAgICogcmV2ZWFsIHRoZSBhc3NvY2lhdGVkIHZhbHVlIG9ubHkgdG8gdGhlIFdlYWtNYXAgaW4gd2hpY2ggdGhpcyBrZXlcbiAgICogaXMgYXNzb2NpYXRlZCB3aXRoIHRoYXQgdmFsdWUuIFNpbmNlIG9ubHkgdGhlIGtleSByZXRhaW5zIHRoZVxuICAgKiBmdW5jdGlvbiwgdGhlIGZ1bmN0aW9uIGNhbiBhbHNvIHJlbWVtYmVyIHRoZSBrZXkgd2l0aG91dCBjYXVzaW5nXG4gICAqIGxlYWthZ2Ugb2YgdGhlIGtleSwgc28gdGhpcyBkb2Vzbid0IHZpb2xhdGUgb3VyIGdlbmVyYWwgZ2NcbiAgICogZ29hbHMuIEluIGFkZGl0aW9uLCBiZWNhdXNlIHRoZSBuYW1lIG5lZWQgbm90IGJlIGEgZ3VhcmRlZFxuICAgKiBzZWNyZXQsIHdlIGNvdWxkIGVmZmljaWVudGx5IGhhbmRsZSBjcm9zcy1mcmFtZSBmcm96ZW4ga2V5cy5cbiAgICovXG4gIHZhciBISURERU5fTkFNRV9QUkVGSVggPSAnd2Vha21hcDonO1xuICB2YXIgSElEREVOX05BTUUgPSBISURERU5fTkFNRV9QUkVGSVggKyAnaWRlbnQ6JyArIE1hdGgucmFuZG9tKCkgKyAnX19fJztcblxuICBpZiAodHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09PSAnZnVuY3Rpb24nICYmXG4gICAgICB0eXBlb2YgQXJyYXlCdWZmZXIgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHR5cGVvZiBVaW50OEFycmF5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIGFiID0gbmV3IEFycmF5QnVmZmVyKDI1KTtcbiAgICB2YXIgdThzID0gbmV3IFVpbnQ4QXJyYXkoYWIpO1xuICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXModThzKTtcbiAgICBISURERU5fTkFNRSA9IEhJRERFTl9OQU1FX1BSRUZJWCArICdyYW5kOicgK1xuICAgICAgQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKHU4cywgZnVuY3Rpb24odTgpIHtcbiAgICAgICAgcmV0dXJuICh1OCAlIDM2KS50b1N0cmluZygzNik7XG4gICAgICB9KS5qb2luKCcnKSArICdfX18nO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNOb3RIaWRkZW5OYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gIShcbiAgICAgICAgbmFtZS5zdWJzdHIoMCwgSElEREVOX05BTUVfUFJFRklYLmxlbmd0aCkgPT0gSElEREVOX05BTUVfUFJFRklYICYmXG4gICAgICAgIG5hbWUuc3Vic3RyKG5hbWUubGVuZ3RoIC0gMykgPT09ICdfX18nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb25rZXkgcGF0Y2ggZ2V0T3duUHJvcGVydHlOYW1lcyB0byBhdm9pZCByZXZlYWxpbmcgdGhlXG4gICAqIEhJRERFTl9OQU1FLlxuICAgKlxuICAgKiA8cD5UaGUgRVM1LjEgc3BlYyByZXF1aXJlcyBlYWNoIG5hbWUgdG8gYXBwZWFyIG9ubHkgb25jZSwgYnV0IGFzXG4gICAqIG9mIHRoaXMgd3JpdGluZywgdGhpcyByZXF1aXJlbWVudCBpcyBjb250cm92ZXJzaWFsIGZvciBFUzYsIHNvIHdlXG4gICAqIG1hZGUgdGhpcyBjb2RlIHJvYnVzdCBhZ2FpbnN0IHRoaXMgY2FzZS4gSWYgdGhlIHJlc3VsdGluZyBleHRyYVxuICAgKiBzZWFyY2ggdHVybnMgb3V0IHRvIGJlIGV4cGVuc2l2ZSwgd2UgY2FuIHByb2JhYmx5IHJlbGF4IHRoaXMgb25jZVxuICAgKiBFUzYgaXMgYWRlcXVhdGVseSBzdXBwb3J0ZWQgb24gYWxsIG1ham9yIGJyb3dzZXJzLCBpZmYgbm8gYnJvd3NlclxuICAgKiB2ZXJzaW9ucyB3ZSBzdXBwb3J0IGF0IHRoYXQgdGltZSBoYXZlIHJlbGF4ZWQgdGhpcyBjb25zdHJhaW50XG4gICAqIHdpdGhvdXQgcHJvdmlkaW5nIGJ1aWx0LWluIEVTNiBXZWFrTWFwcy5cbiAgICovXG4gIGRlZlByb3AoT2JqZWN0LCAnZ2V0T3duUHJvcGVydHlOYW1lcycsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmFrZUdldE93blByb3BlcnR5TmFtZXMob2JqKSB7XG4gICAgICByZXR1cm4gZ29wbihvYmopLmZpbHRlcihpc05vdEhpZGRlbk5hbWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIGdldFByb3BlcnR5TmFtZXMgaXMgbm90IGluIEVTNSBidXQgaXQgaXMgcHJvcG9zZWQgZm9yIEVTNiBhbmRcbiAgICogZG9lcyBhcHBlYXIgaW4gb3VyIHdoaXRlbGlzdCwgc28gd2UgbmVlZCB0byBjbGVhbiBpdCB0b28uXG4gICAqL1xuICBpZiAoJ2dldFByb3BlcnR5TmFtZXMnIGluIE9iamVjdCkge1xuICAgIHZhciBvcmlnaW5hbEdldFByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0UHJvcGVydHlOYW1lcztcbiAgICBkZWZQcm9wKE9iamVjdCwgJ2dldFByb3BlcnR5TmFtZXMnLCB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZmFrZUdldFByb3BlcnR5TmFtZXMob2JqKSB7XG4gICAgICAgIHJldHVybiBvcmlnaW5hbEdldFByb3BlcnR5TmFtZXMob2JqKS5maWx0ZXIoaXNOb3RIaWRkZW5OYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiA8cD5UbyB0cmVhdCBvYmplY3RzIGFzIGlkZW50aXR5LWtleXMgd2l0aCByZWFzb25hYmxlIGVmZmljaWVuY3lcbiAgICogb24gRVM1IGJ5IGl0c2VsZiAoaS5lLiwgd2l0aG91dCBhbnkgb2JqZWN0LWtleWVkIGNvbGxlY3Rpb25zKSwgd2VcbiAgICogbmVlZCB0byBhZGQgYSBoaWRkZW4gcHJvcGVydHkgdG8gc3VjaCBrZXkgb2JqZWN0cyB3aGVuIHdlXG4gICAqIGNhbi4gVGhpcyByYWlzZXMgc2V2ZXJhbCBpc3N1ZXM6XG4gICAqIDx1bD5cbiAgICogPGxpPkFycmFuZ2luZyB0byBhZGQgdGhpcyBwcm9wZXJ0eSB0byBvYmplY3RzIGJlZm9yZSB3ZSBsb3NlIHRoZVxuICAgKiAgICAgY2hhbmNlLCBhbmRcbiAgICogPGxpPkhpZGluZyB0aGUgZXhpc3RlbmNlIG9mIHRoaXMgbmV3IHByb3BlcnR5IGZyb20gbW9zdFxuICAgKiAgICAgSmF2YVNjcmlwdCBjb2RlLlxuICAgKiA8bGk+UHJldmVudGluZyA8aT5jZXJ0aWZpY2F0aW9uIHRoZWZ0PC9pPiwgd2hlcmUgb25lIG9iamVjdCBpc1xuICAgKiAgICAgY3JlYXRlZCBmYWxzZWx5IGNsYWltaW5nIHRvIGJlIHRoZSBrZXkgb2YgYW4gYXNzb2NpYXRpb25cbiAgICogICAgIGFjdHVhbGx5IGtleWVkIGJ5IGFub3RoZXIgb2JqZWN0LlxuICAgKiA8bGk+UHJldmVudGluZyA8aT52YWx1ZSB0aGVmdDwvaT4sIHdoZXJlIHVudHJ1c3RlZCBjb2RlIHdpdGhcbiAgICogICAgIGFjY2VzcyB0byBhIGtleSBvYmplY3QgYnV0IG5vdCBhIHdlYWsgbWFwIG5ldmVydGhlbGVzc1xuICAgKiAgICAgb2J0YWlucyBhY2Nlc3MgdG8gdGhlIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCB0aGF0IGtleSBpbiB0aGF0XG4gICAqICAgICB3ZWFrIG1hcC5cbiAgICogPC91bD5cbiAgICogV2UgZG8gc28gYnlcbiAgICogPHVsPlxuICAgKiA8bGk+TWFraW5nIHRoZSBuYW1lIG9mIHRoZSBoaWRkZW4gcHJvcGVydHkgdW5ndWVzc2FibGUsIHNvIFwiW11cIlxuICAgKiAgICAgaW5kZXhpbmcsIHdoaWNoIHdlIGNhbm5vdCBpbnRlcmNlcHQsIGNhbm5vdCBiZSB1c2VkIHRvIGFjY2Vzc1xuICAgKiAgICAgYSBwcm9wZXJ0eSB3aXRob3V0IGtub3dpbmcgdGhlIG5hbWUuXG4gICAqIDxsaT5NYWtpbmcgdGhlIGhpZGRlbiBwcm9wZXJ0eSBub24tZW51bWVyYWJsZSwgc28gd2UgbmVlZCBub3RcbiAgICogICAgIHdvcnJ5IGFib3V0IGZvci1pbiBsb29wcyBvciB7QGNvZGUgT2JqZWN0LmtleXN9LFxuICAgKiA8bGk+bW9ua2V5IHBhdGNoaW5nIHRob3NlIHJlZmxlY3RpdmUgbWV0aG9kcyB0aGF0IHdvdWxkXG4gICAqICAgICBwcmV2ZW50IGV4dGVuc2lvbnMsIHRvIGFkZCB0aGlzIGhpZGRlbiBwcm9wZXJ0eSBmaXJzdCxcbiAgICogPGxpPm1vbmtleSBwYXRjaGluZyB0aG9zZSBtZXRob2RzIHRoYXQgd291bGQgcmV2ZWFsIHRoaXNcbiAgICogICAgIGhpZGRlbiBwcm9wZXJ0eS5cbiAgICogPC91bD5cbiAgICogVW5mb3J0dW5hdGVseSwgYmVjYXVzZSBvZiBzYW1lLW9yaWdpbiBpZnJhbWVzLCB3ZSBjYW5ub3QgcmVsaWFibHlcbiAgICogYWRkIHRoaXMgaGlkZGVuIHByb3BlcnR5IGJlZm9yZSBhbiBvYmplY3QgYmVjb21lc1xuICAgKiBub24tZXh0ZW5zaWJsZS4gSW5zdGVhZCwgaWYgd2UgZW5jb3VudGVyIGEgbm9uLWV4dGVuc2libGUgb2JqZWN0XG4gICAqIHdpdGhvdXQgYSBoaWRkZW4gcmVjb3JkIHRoYXQgd2UgY2FuIGRldGVjdCAod2hldGhlciBvciBub3QgaXQgaGFzXG4gICAqIGEgaGlkZGVuIHJlY29yZCBzdG9yZWQgdW5kZXIgYSBuYW1lIHNlY3JldCB0byB1cyksIHRoZW4gd2UganVzdFxuICAgKiB1c2UgdGhlIGtleSBvYmplY3QgaXRzZWxmIHRvIHJlcHJlc2VudCBpdHMgaWRlbnRpdHkgaW4gYSBicnV0ZVxuICAgKiBmb3JjZSBsZWFreSBtYXAgc3RvcmVkIGluIHRoZSB3ZWFrIG1hcCwgbG9zaW5nIGFsbCB0aGUgYWR2YW50YWdlc1xuICAgKiBvZiB3ZWFrbmVzcyBmb3IgdGhlc2UuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRIaWRkZW5SZWNvcmQoa2V5KSB7XG4gICAgaWYgKGtleSAhPT0gT2JqZWN0KGtleSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vdCBhbiBvYmplY3Q6ICcgKyBrZXkpO1xuICAgIH1cbiAgICB2YXIgaGlkZGVuUmVjb3JkID0ga2V5W0hJRERFTl9OQU1FXTtcbiAgICBpZiAoaGlkZGVuUmVjb3JkICYmIGhpZGRlblJlY29yZC5rZXkgPT09IGtleSkgeyByZXR1cm4gaGlkZGVuUmVjb3JkOyB9XG4gICAgaWYgKCFpc0V4dGVuc2libGUoa2V5KSkge1xuICAgICAgLy8gV2VhayBtYXAgbXVzdCBicnV0ZSBmb3JjZSwgYXMgZXhwbGFpbmVkIGluIGRvYy1jb21tZW50IGFib3ZlLlxuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG5cbiAgICAvLyBUaGUgaGlkZGVuUmVjb3JkIGFuZCB0aGUga2V5IHBvaW50IGRpcmVjdGx5IGF0IGVhY2ggb3RoZXIsIHZpYVxuICAgIC8vIHRoZSBcImtleVwiIGFuZCBISURERU5fTkFNRSBwcm9wZXJ0aWVzIHJlc3BlY3RpdmVseS4gVGhlIGtleVxuICAgIC8vIGZpZWxkIGlzIGZvciBxdWlja2x5IHZlcmlmeWluZyB0aGF0IHRoaXMgaGlkZGVuIHJlY29yZCBpcyBhblxuICAgIC8vIG93biBwcm9wZXJ0eSwgbm90IGEgaGlkZGVuIHJlY29yZCBmcm9tIHVwIHRoZSBwcm90b3R5cGUgY2hhaW4uXG4gICAgLy9cbiAgICAvLyBOT1RFOiBCZWNhdXNlIHRoaXMgV2Vha01hcCBlbXVsYXRpb24gaXMgbWVhbnQgb25seSBmb3Igc3lzdGVtcyBsaWtlXG4gICAgLy8gU0VTIHdoZXJlIE9iamVjdC5wcm90b3R5cGUgaXMgZnJvemVuIHdpdGhvdXQgYW55IG51bWVyaWNcbiAgICAvLyBwcm9wZXJ0aWVzLCBpdCBpcyBvayB0byB1c2UgYW4gb2JqZWN0IGxpdGVyYWwgZm9yIHRoZSBoaWRkZW5SZWNvcmQuXG4gICAgLy8gVGhpcyBoYXMgdHdvIGFkdmFudGFnZXM6XG4gICAgLy8gKiBJdCBpcyBtdWNoIGZhc3RlciBpbiBhIHBlcmZvcm1hbmNlIGNyaXRpY2FsIHBsYWNlXG4gICAgLy8gKiBJdCBhdm9pZHMgcmVseWluZyBvbiBPYmplY3QuY3JlYXRlKG51bGwpLCB3aGljaCBoYWQgYmVlblxuICAgIC8vICAgcHJvYmxlbWF0aWMgb24gQ2hyb21lIDI4LjAuMTQ4MC4wLiBTZWVcbiAgICAvLyAgIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvZ29vZ2xlLWNhamEvaXNzdWVzL2RldGFpbD9pZD0xNjg3XG4gICAgaGlkZGVuUmVjb3JkID0geyBrZXk6IGtleSB9O1xuXG4gICAgLy8gV2hlbiB1c2luZyB0aGlzIFdlYWtNYXAgZW11bGF0aW9uIG9uIHBsYXRmb3JtcyB3aGVyZVxuICAgIC8vIE9iamVjdC5wcm90b3R5cGUgbWlnaHQgbm90IGJlIGZyb3plbiBhbmQgT2JqZWN0LmNyZWF0ZShudWxsKSBpc1xuICAgIC8vIHJlbGlhYmxlLCB1c2UgdGhlIGZvbGxvd2luZyB0d28gY29tbWVudGVkIG91dCBsaW5lcyBpbnN0ZWFkLlxuICAgIC8vIGhpZGRlblJlY29yZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgLy8gaGlkZGVuUmVjb3JkLmtleSA9IGtleTtcblxuICAgIC8vIFBsZWFzZSBjb250YWN0IHVzIGlmIHlvdSBuZWVkIHRoaXMgdG8gd29yayBvbiBwbGF0Zm9ybXMgd2hlcmVcbiAgICAvLyBPYmplY3QucHJvdG90eXBlIG1pZ2h0IG5vdCBiZSBmcm96ZW4gYW5kXG4gICAgLy8gT2JqZWN0LmNyZWF0ZShudWxsKSBtaWdodCBub3QgYmUgcmVsaWFibGUuXG5cbiAgICB0cnkge1xuICAgICAgZGVmUHJvcChrZXksIEhJRERFTl9OQU1FLCB7XG4gICAgICAgIHZhbHVlOiBoaWRkZW5SZWNvcmQsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGhpZGRlblJlY29yZDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gVW5kZXIgc29tZSBjaXJjdW1zdGFuY2VzLCBpc0V4dGVuc2libGUgc2VlbXMgdG8gbWlzcmVwb3J0IHdoZXRoZXJcbiAgICAgIC8vIHRoZSBISURERU5fTkFNRSBjYW4gYmUgZGVmaW5lZC5cbiAgICAgIC8vIFRoZSBjaXJjdW1zdGFuY2VzIGhhdmUgbm90IGJlZW4gaXNvbGF0ZWQsIGJ1dCBhdCBsZWFzdCBhZmZlY3RcbiAgICAgIC8vIE5vZGUuanMgdjAuMTAuMjYgb24gVHJhdmlzQ0kgLyBMaW51eCwgYnV0IG5vdCB0aGUgc2FtZSB2ZXJzaW9uIG9mXG4gICAgICAvLyBOb2RlLmpzIG9uIE9TIFguXG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNb25rZXkgcGF0Y2ggb3BlcmF0aW9ucyB0aGF0IHdvdWxkIG1ha2UgdGhlaXIgYXJndW1lbnRcbiAgICogbm9uLWV4dGVuc2libGUuXG4gICAqXG4gICAqIDxwPlRoZSBtb25rZXkgcGF0Y2hlZCB2ZXJzaW9ucyB0aHJvdyBhIFR5cGVFcnJvciBpZiB0aGVpclxuICAgKiBhcmd1bWVudCBpcyBub3QgYW4gb2JqZWN0LCBzbyBpdCBzaG91bGQgb25seSBiZSBkb25lIHRvIGZ1bmN0aW9uc1xuICAgKiB0aGF0IHNob3VsZCB0aHJvdyBhIFR5cGVFcnJvciBhbnl3YXkgaWYgdGhlaXIgYXJndW1lbnQgaXMgbm90IGFuXG4gICAqIG9iamVjdC5cbiAgICovXG4gIChmdW5jdGlvbigpe1xuICAgIHZhciBvbGRGcmVlemUgPSBPYmplY3QuZnJlZXplO1xuICAgIGRlZlByb3AoT2JqZWN0LCAnZnJlZXplJywge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlkZW50aWZ5aW5nRnJlZXplKG9iaikge1xuICAgICAgICBnZXRIaWRkZW5SZWNvcmQob2JqKTtcbiAgICAgICAgcmV0dXJuIG9sZEZyZWV6ZShvYmopO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBvbGRTZWFsID0gT2JqZWN0LnNlYWw7XG4gICAgZGVmUHJvcChPYmplY3QsICdzZWFsJywge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlkZW50aWZ5aW5nU2VhbChvYmopIHtcbiAgICAgICAgZ2V0SGlkZGVuUmVjb3JkKG9iaik7XG4gICAgICAgIHJldHVybiBvbGRTZWFsKG9iaik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdmFyIG9sZFByZXZlbnRFeHRlbnNpb25zID0gT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zO1xuICAgIGRlZlByb3AoT2JqZWN0LCAncHJldmVudEV4dGVuc2lvbnMnLCB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaWRlbnRpZnlpbmdQcmV2ZW50RXh0ZW5zaW9ucyhvYmopIHtcbiAgICAgICAgZ2V0SGlkZGVuUmVjb3JkKG9iaik7XG4gICAgICAgIHJldHVybiBvbGRQcmV2ZW50RXh0ZW5zaW9ucyhvYmopO1xuICAgICAgfVxuICAgIH0pO1xuICB9KSgpO1xuXG4gIGZ1bmN0aW9uIGNvbnN0RnVuYyhmdW5jKSB7XG4gICAgZnVuYy5wcm90b3R5cGUgPSBudWxsO1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKGZ1bmMpO1xuICB9XG5cbiAgdmFyIGNhbGxlZEFzRnVuY3Rpb25XYXJuaW5nRG9uZSA9IGZhbHNlO1xuICBmdW5jdGlvbiBjYWxsZWRBc0Z1bmN0aW9uV2FybmluZygpIHtcbiAgICAvLyBGdXR1cmUgRVM2IFdlYWtNYXAgaXMgY3VycmVudGx5ICgyMDEzLTA5LTEwKSBleHBlY3RlZCB0byByZWplY3QgV2Vha01hcCgpXG4gICAgLy8gYnV0IHdlIHVzZWQgdG8gcGVybWl0IGl0IGFuZCBkbyBpdCBvdXJzZWx2ZXMsIHNvIHdhcm4gb25seS5cbiAgICBpZiAoIWNhbGxlZEFzRnVuY3Rpb25XYXJuaW5nRG9uZSAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNhbGxlZEFzRnVuY3Rpb25XYXJuaW5nRG9uZSA9IHRydWU7XG4gICAgICBjb25zb2xlLndhcm4oJ1dlYWtNYXAgc2hvdWxkIGJlIGludm9rZWQgYXMgbmV3IFdlYWtNYXAoKSwgbm90ICcgK1xuICAgICAgICAgICdXZWFrTWFwKCkuIFRoaXMgd2lsbCBiZSBhbiBlcnJvciBpbiB0aGUgZnV0dXJlLicpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBuZXh0SWQgPSAwO1xuXG4gIHZhciBPdXJXZWFrTWFwID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE91cldlYWtNYXApKSB7ICAvLyBhcHByb3hpbWF0ZSB0ZXN0IGZvciBuZXcgLi4uKClcbiAgICAgIGNhbGxlZEFzRnVuY3Rpb25XYXJuaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gV2UgYXJlIGN1cnJlbnRseSAoMTIvMjUvMjAxMikgbmV2ZXIgZW5jb3VudGVyaW5nIGFueSBwcmVtYXR1cmVseVxuICAgIC8vIG5vbi1leHRlbnNpYmxlIGtleXMuXG4gICAgdmFyIGtleXMgPSBbXTsgLy8gYnJ1dGUgZm9yY2UgZm9yIHByZW1hdHVyZWx5IG5vbi1leHRlbnNpYmxlIGtleXMuXG4gICAgdmFyIHZhbHVlcyA9IFtdOyAvLyBicnV0ZSBmb3JjZSBmb3IgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgdmFyIGlkID0gbmV4dElkKys7XG5cbiAgICBmdW5jdGlvbiBnZXRfX18oa2V5LCBvcHRfZGVmYXVsdCkge1xuICAgICAgdmFyIGluZGV4O1xuICAgICAgdmFyIGhpZGRlblJlY29yZCA9IGdldEhpZGRlblJlY29yZChrZXkpO1xuICAgICAgaWYgKGhpZGRlblJlY29yZCkge1xuICAgICAgICByZXR1cm4gaWQgaW4gaGlkZGVuUmVjb3JkID8gaGlkZGVuUmVjb3JkW2lkXSA6IG9wdF9kZWZhdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5kZXggPSBrZXlzLmluZGV4T2Yoa2V5KTtcbiAgICAgICAgcmV0dXJuIGluZGV4ID49IDAgPyB2YWx1ZXNbaW5kZXhdIDogb3B0X2RlZmF1bHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzX19fKGtleSkge1xuICAgICAgdmFyIGhpZGRlblJlY29yZCA9IGdldEhpZGRlblJlY29yZChrZXkpO1xuICAgICAgaWYgKGhpZGRlblJlY29yZCkge1xuICAgICAgICByZXR1cm4gaWQgaW4gaGlkZGVuUmVjb3JkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGtleXMuaW5kZXhPZihrZXkpID49IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0X19fKGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBpbmRleDtcbiAgICAgIHZhciBoaWRkZW5SZWNvcmQgPSBnZXRIaWRkZW5SZWNvcmQoa2V5KTtcbiAgICAgIGlmIChoaWRkZW5SZWNvcmQpIHtcbiAgICAgICAgaGlkZGVuUmVjb3JkW2lkXSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5kZXggPSBrZXlzLmluZGV4T2Yoa2V5KTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gU2luY2Ugc29tZSBicm93c2VycyBwcmVlbXB0aXZlbHkgdGVybWluYXRlIHNsb3cgdHVybnMgYnV0XG4gICAgICAgICAgLy8gdGhlbiBjb250aW51ZSBjb21wdXRpbmcgd2l0aCBwcmVzdW1hYmx5IGNvcnJ1cHRlZCBoZWFwXG4gICAgICAgICAgLy8gc3RhdGUsIHdlIGhlcmUgZGVmZW5zaXZlbHkgZ2V0IGtleXMubGVuZ3RoIGZpcnN0IGFuZCB0aGVuXG4gICAgICAgICAgLy8gdXNlIGl0IHRvIHVwZGF0ZSBib3RoIHRoZSB2YWx1ZXMgYW5kIGtleXMgYXJyYXlzLCBrZWVwaW5nXG4gICAgICAgICAgLy8gdGhlbSBpbiBzeW5jLlxuICAgICAgICAgIGluZGV4ID0ga2V5cy5sZW5ndGg7XG4gICAgICAgICAgdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgIC8vIElmIHdlIGNyYXNoIGhlcmUsIHZhbHVlcyB3aWxsIGJlIG9uZSBsb25nZXIgdGhhbiBrZXlzLlxuICAgICAgICAgIGtleXNbaW5kZXhdID0ga2V5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWxldGVfX18oa2V5KSB7XG4gICAgICB2YXIgaGlkZGVuUmVjb3JkID0gZ2V0SGlkZGVuUmVjb3JkKGtleSk7XG4gICAgICB2YXIgaW5kZXgsIGxhc3RJbmRleDtcbiAgICAgIGlmIChoaWRkZW5SZWNvcmQpIHtcbiAgICAgICAgcmV0dXJuIGlkIGluIGhpZGRlblJlY29yZCAmJiBkZWxldGUgaGlkZGVuUmVjb3JkW2lkXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluZGV4ID0ga2V5cy5pbmRleE9mKGtleSk7XG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2luY2Ugc29tZSBicm93c2VycyBwcmVlbXB0aXZlbHkgdGVybWluYXRlIHNsb3cgdHVybnMgYnV0XG4gICAgICAgIC8vIHRoZW4gY29udGludWUgY29tcHV0aW5nIHdpdGggcG90ZW50aWFsbHkgY29ycnVwdGVkIGhlYXBcbiAgICAgICAgLy8gc3RhdGUsIHdlIGhlcmUgZGVmZW5zaXZlbHkgZ2V0IGtleXMubGVuZ3RoIGZpcnN0IGFuZCB0aGVuIHVzZVxuICAgICAgICAvLyBpdCB0byB1cGRhdGUgYm90aCB0aGUga2V5cyBhbmQgdGhlIHZhbHVlcyBhcnJheSwga2VlcGluZ1xuICAgICAgICAvLyB0aGVtIGluIHN5bmMuIFdlIHVwZGF0ZSB0aGUgdHdvIHdpdGggYW4gb3JkZXIgb2YgYXNzaWdubWVudHMsXG4gICAgICAgIC8vIHN1Y2ggdGhhdCBhbnkgcHJlZml4IG9mIHRoZXNlIGFzc2lnbm1lbnRzIHdpbGwgcHJlc2VydmUgdGhlXG4gICAgICAgIC8vIGtleS92YWx1ZSBjb3JyZXNwb25kZW5jZSwgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgZGVsZXRlLlxuICAgICAgICAvLyBOb3RlIHRoYXQgdGhpcyBuZWVkcyB0byB3b3JrIGNvcnJlY3RseSB3aGVuIGluZGV4ID09PSBsYXN0SW5kZXguXG4gICAgICAgIGxhc3RJbmRleCA9IGtleXMubGVuZ3RoIC0gMTtcbiAgICAgICAga2V5c1tpbmRleF0gPSB2b2lkIDA7XG4gICAgICAgIC8vIElmIHdlIGNyYXNoIGhlcmUsIHRoZXJlJ3MgYSB2b2lkIDAgaW4gdGhlIGtleXMgYXJyYXksIGJ1dFxuICAgICAgICAvLyBubyBvcGVyYXRpb24gd2lsbCBjYXVzZSBhIFwia2V5cy5pbmRleE9mKHZvaWQgMClcIiwgc2luY2VcbiAgICAgICAgLy8gZ2V0SGlkZGVuUmVjb3JkKHZvaWQgMCkgd2lsbCBhbHdheXMgdGhyb3cgYW4gZXJyb3IgZmlyc3QuXG4gICAgICAgIHZhbHVlc1tpbmRleF0gPSB2YWx1ZXNbbGFzdEluZGV4XTtcbiAgICAgICAgLy8gSWYgd2UgY3Jhc2ggaGVyZSwgdmFsdWVzW2luZGV4XSBjYW5ub3QgYmUgZm91bmQgaGVyZSxcbiAgICAgICAgLy8gYmVjYXVzZSBrZXlzW2luZGV4XSBpcyB2b2lkIDAuXG4gICAgICAgIGtleXNbaW5kZXhdID0ga2V5c1tsYXN0SW5kZXhdO1xuICAgICAgICAvLyBJZiBpbmRleCA9PT0gbGFzdEluZGV4IGFuZCB3ZSBjcmFzaCBoZXJlLCB0aGVuIGtleXNbaW5kZXhdXG4gICAgICAgIC8vIGlzIHN0aWxsIHZvaWQgMCwgc2luY2UgdGhlIGFsaWFzaW5nIGtpbGxlZCB0aGUgcHJldmlvdXMga2V5LlxuICAgICAgICBrZXlzLmxlbmd0aCA9IGxhc3RJbmRleDtcbiAgICAgICAgLy8gSWYgd2UgY3Jhc2ggaGVyZSwga2V5cyB3aWxsIGJlIG9uZSBzaG9ydGVyIHRoYW4gdmFsdWVzLlxuICAgICAgICB2YWx1ZXMubGVuZ3RoID0gbGFzdEluZGV4O1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShPdXJXZWFrTWFwLnByb3RvdHlwZSwge1xuICAgICAgZ2V0X19fOiAgICB7IHZhbHVlOiBjb25zdEZ1bmMoZ2V0X19fKSB9LFxuICAgICAgaGFzX19fOiAgICB7IHZhbHVlOiBjb25zdEZ1bmMoaGFzX19fKSB9LFxuICAgICAgc2V0X19fOiAgICB7IHZhbHVlOiBjb25zdEZ1bmMoc2V0X19fKSB9LFxuICAgICAgZGVsZXRlX19fOiB7IHZhbHVlOiBjb25zdEZ1bmMoZGVsZXRlX19fKSB9XG4gICAgfSk7XG4gIH07XG5cbiAgT3VyV2Vha01hcC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE9iamVjdC5wcm90b3R5cGUsIHtcbiAgICBnZXQ6IHtcbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJuIHRoZSB2YWx1ZSBtb3N0IHJlY2VudGx5IGFzc29jaWF0ZWQgd2l0aCBrZXksIG9yXG4gICAgICAgKiBvcHRfZGVmYXVsdCBpZiBub25lLlxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KGtleSwgb3B0X2RlZmF1bHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0X19fKGtleSwgb3B0X2RlZmF1bHQpO1xuICAgICAgfSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSxcblxuICAgIGhhczoge1xuICAgICAgLyoqXG4gICAgICAgKiBJcyB0aGVyZSBhIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBrZXkgaW4gdGhpcyBXZWFrTWFwP1xuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNfX18oa2V5KTtcbiAgICAgIH0sXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0sXG5cbiAgICBzZXQ6IHtcbiAgICAgIC8qKlxuICAgICAgICogQXNzb2NpYXRlIHZhbHVlIHdpdGgga2V5IGluIHRoaXMgV2Vha01hcCwgb3ZlcndyaXRpbmcgYW55XG4gICAgICAgKiBwcmV2aW91cyBhc3NvY2lhdGlvbiBpZiBwcmVzZW50LlxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0X19fKGtleSwgdmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSxcblxuICAgICdkZWxldGUnOiB7XG4gICAgICAvKipcbiAgICAgICAqIFJlbW92ZSBhbnkgYXNzb2NpYXRpb24gZm9yIGtleSBpbiB0aGlzIFdlYWtNYXAsIHJldHVybmluZ1xuICAgICAgICogd2hldGhlciB0aGVyZSB3YXMgb25lLlxuICAgICAgICpcbiAgICAgICAqIDxwPk5vdGUgdGhhdCB0aGUgYm9vbGVhbiByZXR1cm4gaGVyZSBkb2VzIG5vdCB3b3JrIGxpa2UgdGhlXG4gICAgICAgKiB7QGNvZGUgZGVsZXRlfSBvcGVyYXRvci4gVGhlIHtAY29kZSBkZWxldGV9IG9wZXJhdG9yIHJldHVybnNcbiAgICAgICAqIHdoZXRoZXIgdGhlIGRlbGV0aW9uIHN1Y2NlZWRzIGF0IGJyaW5naW5nIGFib3V0IGEgc3RhdGUgaW5cbiAgICAgICAqIHdoaWNoIHRoZSBkZWxldGVkIHByb3BlcnR5IGlzIGFic2VudC4gVGhlIHtAY29kZSBkZWxldGV9XG4gICAgICAgKiBvcGVyYXRvciB0aGVyZWZvcmUgcmV0dXJucyB0cnVlIGlmIHRoZSBwcm9wZXJ0eSB3YXMgYWxyZWFkeVxuICAgICAgICogYWJzZW50LCB3aGVyZWFzIHRoaXMge0Bjb2RlIGRlbGV0ZX0gbWV0aG9kIHJldHVybnMgZmFsc2UgaWZcbiAgICAgICAqIHRoZSBhc3NvY2lhdGlvbiB3YXMgYWxyZWFkeSBhYnNlbnQuXG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlbGV0ZV9fXyhrZXkpO1xuICAgICAgfSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcblxuICBpZiAodHlwZW9mIEhvc3RXZWFrTWFwID09PSAnZnVuY3Rpb24nKSB7XG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgLy8gSWYgd2UgZ290IGhlcmUsIHRoZW4gdGhlIHBsYXRmb3JtIGhhcyBhIFdlYWtNYXAgYnV0IHdlIGFyZSBjb25jZXJuZWRcbiAgICAgIC8vIHRoYXQgaXQgbWF5IHJlZnVzZSB0byBzdG9yZSBzb21lIGtleSB0eXBlcy4gVGhlcmVmb3JlLCBtYWtlIGEgbWFwXG4gICAgICAvLyBpbXBsZW1lbnRhdGlvbiB3aGljaCBtYWtlcyB1c2Ugb2YgYm90aCBhcyBwb3NzaWJsZS5cblxuICAgICAgLy8gSW4gdGhpcyBtb2RlIHdlIGFyZSBhbHdheXMgdXNpbmcgZG91YmxlIG1hcHMsIHNvIHdlIGFyZSBub3QgcHJveHktc2FmZS5cbiAgICAgIC8vIFRoaXMgY29tYmluYXRpb24gZG9lcyBub3Qgb2NjdXIgaW4gYW55IGtub3duIGJyb3dzZXIsIGJ1dCB3ZSBoYWQgYmVzdFxuICAgICAgLy8gYmUgc2FmZS5cbiAgICAgIGlmIChkb3VibGVXZWFrTWFwQ2hlY2tTaWxlbnRGYWlsdXJlICYmIHR5cGVvZiBQcm94eSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgUHJveHkgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIERvdWJsZVdlYWtNYXAoKSB7XG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBPdXJXZWFrTWFwKSkgeyAgLy8gYXBwcm94aW1hdGUgdGVzdCBmb3IgbmV3IC4uLigpXG4gICAgICAgICAgY2FsbGVkQXNGdW5jdGlvbldhcm5pbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByZWZlcmFibGUsIHRydWx5IHdlYWsgbWFwLlxuICAgICAgICB2YXIgaG1hcCA9IG5ldyBIb3N0V2Vha01hcCgpO1xuXG4gICAgICAgIC8vIE91ciBoaWRkZW4tcHJvcGVydHktYmFzZWQgcHNldWRvLXdlYWstbWFwLiBMYXppbHkgaW5pdGlhbGl6ZWQgaW4gdGhlXG4gICAgICAgIC8vICdzZXQnIGltcGxlbWVudGF0aW9uOyB0aHVzIHdlIGNhbiBhdm9pZCBwZXJmb3JtaW5nIGV4dHJhIGxvb2t1cHMgaWZcbiAgICAgICAgLy8gd2Uga25vdyBhbGwgZW50cmllcyBhY3R1YWxseSBzdG9yZWQgYXJlIGVudGVyZWQgaW4gJ2htYXAnLlxuICAgICAgICB2YXIgb21hcCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBIaWRkZW4tcHJvcGVydHkgbWFwcyBhcmUgbm90IGNvbXBhdGlibGUgd2l0aCBwcm94aWVzIGJlY2F1c2UgcHJveGllc1xuICAgICAgICAvLyBjYW4gb2JzZXJ2ZSB0aGUgaGlkZGVuIG5hbWUgYW5kIGVpdGhlciBhY2NpZGVudGFsbHkgZXhwb3NlIGl0IG9yIGZhaWxcbiAgICAgICAgLy8gdG8gYWxsb3cgdGhlIGhpZGRlbiBwcm9wZXJ0eSB0byBiZSBzZXQuIFRoZXJlZm9yZSwgd2UgZG8gbm90IGFsbG93XG4gICAgICAgIC8vIGFyYml0cmFyeSBXZWFrTWFwcyB0byBzd2l0Y2ggdG8gdXNpbmcgaGlkZGVuIHByb3BlcnRpZXMsIGJ1dCBvbmx5XG4gICAgICAgIC8vIHRob3NlIHdoaWNoIG5lZWQgdGhlIGFiaWxpdHksIGFuZCB1bnByaXZpbGVnZWQgY29kZSBpcyBub3QgYWxsb3dlZFxuICAgICAgICAvLyB0byBzZXQgdGhlIGZsYWcuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIChFeGNlcHQgaW4gZG91YmxlV2Vha01hcENoZWNrU2lsZW50RmFpbHVyZSBtb2RlIGluIHdoaWNoIGNhc2Ugd2VcbiAgICAgICAgLy8gZGlzYWJsZSBwcm94aWVzLilcbiAgICAgICAgdmFyIGVuYWJsZVN3aXRjaGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGRnZXQoa2V5LCBvcHRfZGVmYXVsdCkge1xuICAgICAgICAgIGlmIChvbWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gaG1hcC5oYXMoa2V5KSA/IGhtYXAuZ2V0KGtleSlcbiAgICAgICAgICAgICAgICA6IG9tYXAuZ2V0X19fKGtleSwgb3B0X2RlZmF1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaG1hcC5nZXQoa2V5LCBvcHRfZGVmYXVsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZGhhcyhrZXkpIHtcbiAgICAgICAgICByZXR1cm4gaG1hcC5oYXMoa2V5KSB8fCAob21hcCA/IG9tYXAuaGFzX19fKGtleSkgOiBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZHNldDtcbiAgICAgICAgaWYgKGRvdWJsZVdlYWtNYXBDaGVja1NpbGVudEZhaWx1cmUpIHtcbiAgICAgICAgICBkc2V0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgaG1hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIWhtYXAuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgaWYgKCFvbWFwKSB7IG9tYXAgPSBuZXcgT3VyV2Vha01hcCgpOyB9XG4gICAgICAgICAgICAgIG9tYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkc2V0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGVuYWJsZVN3aXRjaGluZykge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGhtYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFvbWFwKSB7IG9tYXAgPSBuZXcgT3VyV2Vha01hcCgpOyB9XG4gICAgICAgICAgICAgICAgb21hcC5zZXRfX18oa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGhtYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGRkZWxldGUoa2V5KSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9ICEhaG1hcFsnZGVsZXRlJ10oa2V5KTtcbiAgICAgICAgICBpZiAob21hcCkgeyByZXR1cm4gb21hcC5kZWxldGVfX18oa2V5KSB8fCByZXN1bHQ7IH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5jcmVhdGUoT3VyV2Vha01hcC5wcm90b3R5cGUsIHtcbiAgICAgICAgICBnZXRfX186ICAgIHsgdmFsdWU6IGNvbnN0RnVuYyhkZ2V0KSB9LFxuICAgICAgICAgIGhhc19fXzogICAgeyB2YWx1ZTogY29uc3RGdW5jKGRoYXMpIH0sXG4gICAgICAgICAgc2V0X19fOiAgICB7IHZhbHVlOiBjb25zdEZ1bmMoZHNldCkgfSxcbiAgICAgICAgICBkZWxldGVfX186IHsgdmFsdWU6IGNvbnN0RnVuYyhkZGVsZXRlKSB9LFxuICAgICAgICAgIHBlcm1pdEhvc3RPYmplY3RzX19fOiB7IHZhbHVlOiBjb25zdEZ1bmMoZnVuY3Rpb24odG9rZW4pIHtcbiAgICAgICAgICAgIGlmICh0b2tlbiA9PT0gd2Vha01hcFBlcm1pdEhvc3RPYmplY3RzKSB7XG4gICAgICAgICAgICAgIGVuYWJsZVN3aXRjaGluZyA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JvZ3VzIGNhbGwgdG8gcGVybWl0SG9zdE9iamVjdHNfX18nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KX1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBEb3VibGVXZWFrTWFwLnByb3RvdHlwZSA9IE91cldlYWtNYXAucHJvdG90eXBlO1xuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBEb3VibGVXZWFrTWFwO1xuXG4gICAgICAvLyBkZWZpbmUgLmNvbnN0cnVjdG9yIHRvIGhpZGUgT3VyV2Vha01hcCBjdG9yXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV2Vha01hcC5wcm90b3R5cGUsICdjb25zdHJ1Y3RvcicsIHtcbiAgICAgICAgdmFsdWU6IFdlYWtNYXAsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLCAgLy8gYXMgZGVmYXVsdCAuY29uc3RydWN0b3IgaXNcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBUaGVyZSBpcyBubyBob3N0IFdlYWtNYXAsIHNvIHdlIG11c3QgdXNlIHRoZSBlbXVsYXRpb24uXG5cbiAgICAvLyBFbXVsYXRlZCBXZWFrTWFwcyBhcmUgaW5jb21wYXRpYmxlIHdpdGggbmF0aXZlIHByb3hpZXMgKGJlY2F1c2UgcHJveGllc1xuICAgIC8vIGNhbiBvYnNlcnZlIHRoZSBoaWRkZW4gbmFtZSksIHNvIHdlIG11c3QgZGlzYWJsZSBQcm94eSB1c2FnZSAoaW5cbiAgICAvLyBBcnJheUxpa2UgYW5kIERvbWFkbywgY3VycmVudGx5KS5cbiAgICBpZiAodHlwZW9mIFByb3h5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgUHJveHkgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBPdXJXZWFrTWFwO1xuICB9XG59KSgpO1xufSk7XG5cbnZhciB3ZWFrTWFwJDEgPSAodHlwZW9mIFdlYWtNYXAgIT09ICd1bmRlZmluZWQnKSA/IFdlYWtNYXAgOiB3ZWFrTWFwO1xuXG52YXIgc2hpbU9iamVjdCA9IE9iamVjdDtcblxuLypcbiAgICBCYXNlZCBpbiBwYXJ0IG9uIGV4dHJhcyBmcm9tIE1vdG9yb2xhIE1vYmlsaXR54oCZcyBNb250YWdlXG4gICAgQ29weXJpZ2h0IChjKSAyMDEyLCBNb3Rvcm9sYSBNb2JpbGl0eSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gICAgMy1DbGF1c2UgQlNEIExpY2Vuc2VcbiAgICBodHRwczovL2dpdGh1Yi5jb20vbW90b3JvbGEtbW9iaWxpdHkvbW9udGFnZS9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXG4qL1xuXG4vKipcbiAgICBEZWZpbmVzIGV4dGVuc2lvbnMgdG8gaW50cmluc2ljIDxjb2RlPk9iamVjdDwvY29kZT4uXG4gICAgQHNlZSBbT2JqZWN0IGNsYXNzXXtAbGluayBleHRlcm5hbDpPYmplY3R9XG4qL1xuXG4vKipcbiAgICBBIHV0aWxpdHkgb2JqZWN0IHRvIGF2b2lkIHVubmVjZXNzYXJ5IGFsbG9jYXRpb25zIG9mIGFuIGVtcHR5IG9iamVjdFxuICAgIDxjb2RlPnt9PC9jb2RlPi4gIFRoaXMgb2JqZWN0IGlzIGZyb3plbiBzbyBpdCBpcyBzYWZlIHRvIHNoYXJlLlxuXG4gICAgQG9iamVjdCBleHRlcm5hbDpPYmplY3QuZW1wdHlcbiovXG5PYmplY3QuZW1wdHkgPSBPYmplY3QuZnJlZXplKE9iamVjdC5jcmVhdGUobnVsbCkpO1xuXG4vKipcbiAgICBSZXR1cm5zIHdoZXRoZXIgdGhlIGdpdmVuIHZhbHVlIGlzIGFuIG9iamVjdCwgYXMgb3Bwb3NlZCB0byBhIHZhbHVlLlxuICAgIFVuYm94ZWQgbnVtYmVycywgc3RyaW5ncywgdHJ1ZSwgZmFsc2UsIHVuZGVmaW5lZCwgYW5kIG51bGwgYXJlIG5vdFxuICAgIG9iamVjdHMuICBBcnJheXMgYXJlIG9iamVjdHMuXG5cbiAgICBAZnVuY3Rpb24gZXh0ZXJuYWw6T2JqZWN0LmlzT2JqZWN0XG4gICAgQHBhcmFtIHtBbnl9IHZhbHVlXG4gICAgQHJldHVybnMge0Jvb2xlYW59IHdoZXRoZXIgdGhlIGdpdmVuIHZhbHVlIGlzIGFuIG9iamVjdFxuKi9cbk9iamVjdC5pc09iamVjdCA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICByZXR1cm4gT2JqZWN0KG9iamVjdCkgPT09IG9iamVjdDtcbn07XG5cbi8qKlxuICAgIFJldHVybnMgdGhlIHZhbHVlIG9mIGFuIGFueSB2YWx1ZSwgcGFydGljdWxhcmx5IG9iamVjdHMgdGhhdFxuICAgIGltcGxlbWVudCA8Y29kZT52YWx1ZU9mPC9jb2RlPi5cblxuICAgIDxwPk5vdGUgdGhhdCwgdW5saWtlIHRoZSBwcmVjZWRlbnQgb2YgbWV0aG9kcyBsaWtlXG4gICAgPGNvZGU+T2JqZWN0LmVxdWFsczwvY29kZT4gYW5kIDxjb2RlPk9iamVjdC5jb21wYXJlPC9jb2RlPiB3b3VsZCBzdWdnZXN0LFxuICAgIHRoaXMgbWV0aG9kIGlzIG5hbWVkIDxjb2RlPk9iamVjdC5nZXRWYWx1ZU9mPC9jb2RlPiBpbnN0ZWFkIG9mXG4gICAgPGNvZGU+dmFsdWVPZjwvY29kZT4uICBUaGlzIGlzIGEgZGVsaWNhdGUgaXNzdWUsIGJ1dCB0aGUgYmFzaXMgb2YgdGhpc1xuICAgIGRlY2lzaW9uIGlzIHRoYXQgdGhlIEphdmFTY3JpcHQgcnVudGltZSB3b3VsZCBiZSBmYXIgbW9yZSBsaWtlbHkgdG9cbiAgICBhY2NpZGVudGFsbHkgY2FsbCB0aGlzIG1ldGhvZCB3aXRoIG5vIGFyZ3VtZW50cywgYXNzdW1pbmcgdGhhdCBpdCB3b3VsZFxuICAgIHJldHVybiB0aGUgdmFsdWUgb2YgPGNvZGU+T2JqZWN0PC9jb2RlPiBpdHNlbGYgaW4gdmFyaW91cyBzaXR1YXRpb25zLFxuICAgIHdoZXJlYXMgPGNvZGU+T2JqZWN0LmVxdWFscyhPYmplY3QsIG51bGwpPC9jb2RlPiBwcm90ZWN0cyBhZ2FpbnN0IHRoaXMgY2FzZVxuICAgIGJ5IG5vdGluZyB0aGF0IDxjb2RlPk9iamVjdDwvY29kZT4gb3ducyB0aGUgPGNvZGU+ZXF1YWxzPC9jb2RlPiBwcm9wZXJ0eVxuICAgIGFuZCB0aGVyZWZvcmUgZG9lcyBub3QgZGVsZWdhdGUgdG8gaXQuXG5cbiAgICBAZnVuY3Rpb24gZXh0ZXJuYWw6T2JqZWN0LmdldFZhbHVlT2ZcbiAgICBAcGFyYW0ge0FueX0gdmFsdWUgYSB2YWx1ZSBvciBvYmplY3Qgd3JhcHBpbmcgYSB2YWx1ZVxuICAgIEByZXR1cm5zIHtBbnl9IHRoZSBwcmltaXRpdmUgdmFsdWUgb2YgdGhhdCBvYmplY3QsIGlmIG9uZSBleGlzdHMsIG9yIHBhc3Nlc1xuICAgIHRoZSB2YWx1ZSB0aHJvdWdoXG4qL1xuT2JqZWN0LmdldFZhbHVlT2YgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnZhbHVlT2YoKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxudmFyIGhhc2hNYXAgPSBuZXcgd2Vha01hcCQxKCk7XG5PYmplY3QuaGFzaCA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QuaGFzaCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBcIlwiICsgb2JqZWN0Lmhhc2goKTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdChvYmplY3QpID09PSBvYmplY3QpIHtcbiAgICAgICAgaWYgKCFoYXNoTWFwLmhhcyhvYmplY3QpKSB7XG4gICAgICAgICAgICBoYXNoTWFwLnNldChvYmplY3QsIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFzaE1hcC5nZXQob2JqZWN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJcIiArIG9iamVjdDtcbiAgICB9XG59O1xuXG4vKipcbiAgICBBIHNob3J0aGFuZCBmb3IgPGNvZGU+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxcbiAgICBrZXkpPC9jb2RlPi4gIFJldHVybnMgd2hldGhlciB0aGUgb2JqZWN0IG93bnMgYSBwcm9wZXJ0eSBmb3IgdGhlIGdpdmVuIGtleS5cbiAgICBJdCBkb2VzIG5vdCBjb25zdWx0IHRoZSBwcm90b3R5cGUgY2hhaW4gYW5kIHdvcmtzIGZvciBhbnkgc3RyaW5nIChpbmNsdWRpbmdcbiAgICBcImhhc093blByb3BlcnR5XCIpIGV4Y2VwdCBcIl9fcHJvdG9fX1wiLlxuXG4gICAgQGZ1bmN0aW9uIGV4dGVybmFsOk9iamVjdC5vd25zXG4gICAgQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICBAcmV0dXJucyB7Qm9vbGVhbn0gd2hldGhlciB0aGUgb2JqZWN0IG93bnMgYSBwcm9wZXJ0eSB3Zm9yIHRoZSBnaXZlbiBrZXkuXG4qL1xudmFyIG93bnMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuT2JqZWN0Lm93bnMgPSBmdW5jdGlvbiAob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gb3ducy5jYWxsKG9iamVjdCwga2V5KTtcbn07XG5cbi8qKlxuICAgIEEgdXRpbGl0eSB0aGF0IGlzIGxpa2UgT2JqZWN0Lm93bnMgYnV0IGlzIGFsc28gdXNlZnVsIGZvciBmaW5kaW5nXG4gICAgcHJvcGVydGllcyBvbiB0aGUgcHJvdG90eXBlIGNoYWluLCBwcm92aWRlZCB0aGF0IHRoZXkgZG8gbm90IHJlZmVyIHRvXG4gICAgbWV0aG9kcyBvbiB0aGUgT2JqZWN0IHByb3RvdHlwZS4gIFdvcmtzIGZvciBhbGwgc3RyaW5ncyBleGNlcHQgXCJfX3Byb3RvX19cIi5cblxuICAgIDxwPkFsdGVybmF0ZWx5LCB5b3UgY291bGQgdXNlIHRoZSBcImluXCIgb3BlcmF0b3IgYXMgbG9uZyBhcyB0aGUgb2JqZWN0XG4gICAgZGVzY2VuZHMgZnJvbSBcIm51bGxcIiBpbnN0ZWFkIG9mIHRoZSBPYmplY3QucHJvdG90eXBlLCBhcyB3aXRoXG4gICAgPGNvZGU+T2JqZWN0LmNyZWF0ZShudWxsKTwvY29kZT4uICBIb3dldmVyLFxuICAgIDxjb2RlPk9iamVjdC5jcmVhdGUobnVsbCk8L2NvZGU+IG9ubHkgd29ya3MgaW4gZnVsbHkgY29tcGxpYW50IEVjbWFTY3JpcHQgNVxuICAgIEphdmFTY3JpcHQgZW5naW5lcyBhbmQgY2Fubm90IGJlIGZhaXRoZnVsbHkgc2hpbW1lZC5cblxuICAgIDxwPklmIHRoZSBnaXZlbiBvYmplY3QgaXMgYW4gaW5zdGFuY2Ugb2YgYSB0eXBlIHRoYXQgaW1wbGVtZW50cyBhIG1ldGhvZFxuICAgIG5hbWVkIFwiaGFzXCIsIHRoaXMgZnVuY3Rpb24gZGVmZXJzIHRvIHRoZSBjb2xsZWN0aW9uLCBzbyB0aGlzIG1ldGhvZCBjYW4gYmVcbiAgICB1c2VkIHRvIGdlbmVyaWNhbGx5IGhhbmRsZSBvYmplY3RzLCBhcnJheXMsIG9yIG90aGVyIGNvbGxlY3Rpb25zLiAgSW4gdGhhdFxuICAgIGNhc2UsIHRoZSBkb21haW4gb2YgdGhlIGtleSBkZXBlbmRzIG9uIHRoZSBpbnN0YW5jZS5cblxuICAgIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgICBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgQHJldHVybnMge0Jvb2xlYW59IHdoZXRoZXIgdGhlIG9iamVjdCwgb3IgYW55IG9mIGl0cyBwcm90b3R5cGVzIGV4Y2VwdFxuICAgIDxjb2RlPk9iamVjdC5wcm90b3R5cGU8L2NvZGU+XG4gICAgQGZ1bmN0aW9uIGV4dGVybmFsOk9iamVjdC5oYXNcbiovXG5PYmplY3QuaGFzID0gZnVuY3Rpb24gKG9iamVjdCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiBvYmplY3QgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT2JqZWN0LmhhcyBjYW4ndCBhY2NlcHQgbm9uLW9iamVjdDogXCIgKyB0eXBlb2Ygb2JqZWN0KTtcbiAgICB9XG4gICAgLy8gZm9yd2FyZCB0byBtYXBwZWQgY29sbGVjdGlvbnMgdGhhdCBpbXBsZW1lbnQgXCJoYXNcIlxuICAgIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdC5oYXMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gb2JqZWN0LmhhcyhrZXkpO1xuICAgIC8vIG90aGVyd2lzZSByZXBvcnQgd2hldGhlciB0aGUga2V5IGlzIG9uIHRoZSBwcm90b3R5cGUgY2hhaW4sXG4gICAgLy8gYXMgbG9uZyBhcyBpdCBpcyBub3Qgb25lIG9mIHRoZSBtZXRob2RzIG9uIG9iamVjdC5wcm90b3R5cGVcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIGtleSBpbiBvYmplY3QgJiYgb2JqZWN0W2tleV0gIT09IE9iamVjdC5wcm90b3R5cGVba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJLZXkgbXVzdCBiZSBhIHN0cmluZyBmb3IgT2JqZWN0LmhhcyBvbiBwbGFpbiBvYmplY3RzXCIpO1xuICAgIH1cbn07XG5cbi8qKlxuICAgIEdldHMgdGhlIHZhbHVlIGZvciBhIGNvcnJlc3BvbmRpbmcga2V5IGZyb20gYW4gb2JqZWN0LlxuXG4gICAgPHA+VXNlcyBPYmplY3QuaGFzIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZXJlIGlzIGEgY29ycmVzcG9uZGluZyB2YWx1ZSBmb3JcbiAgICB0aGUgZ2l2ZW4ga2V5LiAgQXMgc3VjaCwgPGNvZGU+T2JqZWN0LmdldDwvY29kZT4gaXMgY2FwYWJsZSBvZiByZXRyaXZpbmdcbiAgICB2YWx1ZXMgZnJvbSB0aGUgcHJvdG90eXBlIGNoYWluIGFzIGxvbmcgYXMgdGhleSBhcmUgbm90IGZyb20gdGhlXG4gICAgPGNvZGU+T2JqZWN0LnByb3RvdHlwZTwvY29kZT4uXG5cbiAgICA8cD5JZiB0aGVyZSBpcyBubyBjb3JyZXNwb25kaW5nIHZhbHVlLCByZXR1cm5zIHRoZSBnaXZlbiBkZWZhdWx0LCB3aGljaCBtYXlcbiAgICBiZSA8Y29kZT51bmRlZmluZWQ8L2NvZGU+LlxuXG4gICAgPHA+SWYgdGhlIGdpdmVuIG9iamVjdCBpcyBhbiBpbnN0YW5jZSBvZiBhIHR5cGUgdGhhdCBpbXBsZW1lbnRzIGEgbWV0aG9kXG4gICAgbmFtZWQgXCJnZXRcIiwgdGhpcyBmdW5jdGlvbiBkZWZlcnMgdG8gdGhlIGNvbGxlY3Rpb24sIHNvIHRoaXMgbWV0aG9kIGNhbiBiZVxuICAgIHVzZWQgdG8gZ2VuZXJpY2FsbHkgaGFuZGxlIG9iamVjdHMsIGFycmF5cywgb3Igb3RoZXIgY29sbGVjdGlvbnMuICBJbiB0aGF0XG4gICAgY2FzZSwgdGhlIGRvbWFpbiBvZiB0aGUga2V5IGRlcGVuZHMgb24gdGhlIGltcGxlbWVudGF0aW9uLiAgRm9yIGEgYE1hcGAsXG4gICAgZm9yIGV4YW1wbGUsIHRoZSBrZXkgbWlnaHQgYmUgYW55IG9iamVjdC5cblxuICAgIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgICBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgQHBhcmFtIHtBbnl9IHZhbHVlIGEgZGVmYXVsdCB0byByZXR1cm4sIDxjb2RlPnVuZGVmaW5lZDwvY29kZT4gaWYgb21pdHRlZFxuICAgIEByZXR1cm5zIHtBbnl9IHZhbHVlIGZvciBrZXksIG9yIGRlZmF1bHQgdmFsdWVcbiAgICBAZnVuY3Rpb24gZXh0ZXJuYWw6T2JqZWN0LmdldFxuKi9cbk9iamVjdC5nZXQgPSBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBvYmplY3QgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT2JqZWN0LmdldCBjYW4ndCBhY2NlcHQgbm9uLW9iamVjdDogXCIgKyB0eXBlb2Ygb2JqZWN0KTtcbiAgICB9XG4gICAgLy8gZm9yd2FyZCB0byBtYXBwZWQgY29sbGVjdGlvbnMgdGhhdCBpbXBsZW1lbnQgXCJnZXRcIlxuICAgIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdC5nZXQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gb2JqZWN0LmdldChrZXksIHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5oYXMob2JqZWN0LCBrZXkpKSB7XG4gICAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufTtcblxuLyoqXG4gICAgU2V0cyB0aGUgdmFsdWUgZm9yIGEgZ2l2ZW4ga2V5IG9uIGFuIG9iamVjdC5cblxuICAgIDxwPklmIHRoZSBnaXZlbiBvYmplY3QgaXMgYW4gaW5zdGFuY2Ugb2YgYSB0eXBlIHRoYXQgaW1wbGVtZW50cyBhIG1ldGhvZFxuICAgIG5hbWVkIFwic2V0XCIsIHRoaXMgZnVuY3Rpb24gZGVmZXJzIHRvIHRoZSBjb2xsZWN0aW9uLCBzbyB0aGlzIG1ldGhvZCBjYW4gYmVcbiAgICB1c2VkIHRvIGdlbmVyaWNhbGx5IGhhbmRsZSBvYmplY3RzLCBhcnJheXMsIG9yIG90aGVyIGNvbGxlY3Rpb25zLiAgQXMgc3VjaCxcbiAgICB0aGUga2V5IGRvbWFpbiB2YXJpZXMgYnkgdGhlIG9iamVjdCB0eXBlLlxuXG4gICAgQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICBAcGFyYW0ge0FueX0gdmFsdWVcbiAgICBAcmV0dXJucyA8Y29kZT51bmRlZmluZWQ8L2NvZGU+XG4gICAgQGZ1bmN0aW9uIGV4dGVybmFsOk9iamVjdC5zZXRcbiovXG5PYmplY3Quc2V0ID0gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdC5zZXQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBvYmplY3Quc2V0KGtleSwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgfVxufTtcblxuT2JqZWN0LmFkZEVhY2ggPSBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UsIG92ZXJyaWRlcykge1xuICAgIHZhciBvdmVycmlkZXNFeGlzdGluZ1Byb3BlcnR5ID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMyA/IG92ZXJyaWRlcyA6IHRydWU7XG4gICAgaWYgKCFzb3VyY2UpIDsgZWxzZSBpZiAodHlwZW9mIHNvdXJjZS5mb3JFYWNoID09PSBcImZ1bmN0aW9uXCIgJiYgIXNvdXJjZS5oYXNPd25Qcm9wZXJ0eShcImZvckVhY2hcIikpIHtcbiAgICAgICAgLy8gY29weSBtYXAtYWxpa2VzXG4gICAgICAgIGlmIChzb3VyY2UuaXNNYXAgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAvLyBpdGVyYXRlIGtleSB2YWx1ZSBwYWlycyBvZiBvdGhlciBpdGVyYWJsZXNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uIChwYWlyKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W3BhaXJbMF1dID0gcGFpclsxXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc291cmNlLmxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAvLyBhcmd1bWVudHMsIHN0cmluZ3NcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHNvdXJjZS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHRhcmdldFtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29weSBvdGhlciBvYmplY3RzIGFzIG1hcC1hbGlrZXNcbiAgICAgICAgZm9yKHZhciBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKSwgaSA9IDAsIGtleTsoa2V5ID0ga2V5c1tpXSk7IGkrKykge1xuICAgICAgICAgICAgaWYob3ZlcnJpZGVzRXhpc3RpbmdQcm9wZXJ0eSB8fCAhT2JqZWN0Lm93bnModGFyZ2V0LGtleSkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59O1xuXG5cbi8qXG52YXIgZGVmaW5lRWFjaCA9IGZ1bmN0aW9uIGRlZmluZUVhY2godGFyZ2V0LCBwcm90b3R5cGUpIHtcbiAgICAvLyBjb25zb2xlLmxvZyhcIk1hcCBkZWZpbmVFYWNoOiBcIixPYmplY3Qua2V5cyhwcm90b3R5cGUpKTtcbiAgICB2YXIgcHJvdG8gPSBNYXAucHJvdG90eXBlO1xuICAgIGZvciAodmFyIG5hbWUgaW4gcHJvdG90eXBlKSB7XG4gICAgICAgIGlmKCFwcm90by5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCBuYW1lLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHByb3RvdHlwZVtuYW1lXSxcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogd3JpdGFibGUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBjb25maWd1cmFibGUsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZW51bWVyYWJsZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4qL1xuT2JqZWN0LmRlZmluZUVhY2ggPSBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UsIG92ZXJyaWRlcywgY29uZmlndXJhYmxlLCBlbnVtZXJhYmxlLCB3cml0YWJsZSkge1xuICAgIHZhciBvdmVycmlkZXNFeGlzdGluZ1Byb3BlcnR5ID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMyA/IG92ZXJyaWRlcyA6IHRydWU7XG4gICAgaWYgKCFzb3VyY2UpIDsgZWxzZSBpZiAodHlwZW9mIHNvdXJjZS5mb3JFYWNoID09PSBcImZ1bmN0aW9uXCIgJiYgIXNvdXJjZS5oYXNPd25Qcm9wZXJ0eShcImZvckVhY2hcIikpIHtcbiAgICAgICAgLy8gY29weSBtYXAtYWxpa2VzXG4gICAgICAgIGlmIChzb3VyY2UuaXNNYXAgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IHdyaXRhYmxlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IGNvbmZpZ3VyYWJsZSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZW51bWVyYWJsZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIC8vIGl0ZXJhdGUga2V5IHZhbHVlIHBhaXJzIG9mIG90aGVyIGl0ZXJhYmxlc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc291cmNlLmZvckVhY2goZnVuY3Rpb24gKHBhaXIpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwYWlyWzBdLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwYWlyWzFdLFxuICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogd3JpdGFibGUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogY29uZmlndXJhYmxlLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBlbnVtZXJhYmxlXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc291cmNlLmxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAvLyBhcmd1bWVudHMsIHN0cmluZ3NcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHNvdXJjZS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGluZGV4LCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHNvdXJjZVtpbmRleF0sXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHdyaXRhYmxlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogY29uZmlndXJhYmxlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGVudW1lcmFibGVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBjb3B5IG90aGVyIG9iamVjdHMgYXMgbWFwLWFsaWtlc1xuICAgICAgICBmb3IodmFyIGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpLCBpID0gMCwga2V5OyhrZXkgPSBrZXlzW2ldKTsgaSsrKSB7XG4gICAgICAgICAgICBpZihvdmVycmlkZXNFeGlzdGluZ1Byb3BlcnR5IHx8ICFPYmplY3Qub3ducyh0YXJnZXQsa2V5KSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc291cmNlW2tleV0sXG4gICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB3cml0YWJsZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBjb25maWd1cmFibGUsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGVudW1lcmFibGVcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59O1xuXG4vKipcbiAgICBJdGVyYXRlcyBvdmVyIHRoZSBvd25lZCBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdC5cblxuICAgIEBmdW5jdGlvbiBleHRlcm5hbDpPYmplY3QuZm9yRWFjaFxuICAgIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgYW4gb2JqZWN0IHRvIGl0ZXJhdGUuXG4gICAgQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgYSBmdW5jdGlvbiB0byBjYWxsIGZvciBldmVyeSBrZXkgYW5kIHZhbHVlXG4gICAgcGFpciBpbiB0aGUgb2JqZWN0LiAgUmVjZWl2ZXMgPGNvZGU+dmFsdWU8L2NvZGU+LCA8Y29kZT5rZXk8L2NvZGU+LFxuICAgIGFuZCA8Y29kZT5vYmplY3Q8L2NvZGU+IGFzIGFyZ3VtZW50cy5cbiAgICBAcGFyYW0ge09iamVjdH0gdGhpc3AgdGhlIDxjb2RlPnRoaXM8L2NvZGU+IHRvIHBhc3MgdGhyb3VnaCB0byB0aGVcbiAgICBjYWxsYmFja1xuKi9cbk9iamVjdC5mb3JFYWNoID0gZnVuY3Rpb24gKG9iamVjdCwgY2FsbGJhY2ssIHRoaXNwKSB7XG5cbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCksIGkgPSAwLCBpS2V5O1xuICAgIGZvcig7KGlLZXkgPSBrZXlzW2ldKTtpKyspIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzcCwgb2JqZWN0W2lLZXldLCBpS2V5LCBvYmplY3QpO1xuICAgIH1cblxufTtcblxuLyoqXG4gICAgSXRlcmF0ZXMgb3ZlciB0aGUgb3duZWQgcHJvcGVydGllcyBvZiBhIG1hcCwgY29uc3RydWN0aW5nIGEgbmV3IGFycmF5IG9mXG4gICAgbWFwcGVkIHZhbHVlcy5cblxuICAgIEBmdW5jdGlvbiBleHRlcm5hbDpPYmplY3QubWFwXG4gICAgQHBhcmFtIHtPYmplY3R9IG9iamVjdCBhbiBvYmplY3QgdG8gaXRlcmF0ZS5cbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGV2ZXJ5IGtleSBhbmQgdmFsdWVcbiAgICBwYWlyIGluIHRoZSBvYmplY3QuICBSZWNlaXZlcyA8Y29kZT52YWx1ZTwvY29kZT4sIDxjb2RlPmtleTwvY29kZT4sXG4gICAgYW5kIDxjb2RlPm9iamVjdDwvY29kZT4gYXMgYXJndW1lbnRzLlxuICAgIEBwYXJhbSB7T2JqZWN0fSB0aGlzcCB0aGUgPGNvZGU+dGhpczwvY29kZT4gdG8gcGFzcyB0aHJvdWdoIHRvIHRoZVxuICAgIGNhbGxiYWNrXG4gICAgQHJldHVybnMge0FycmF5fSB0aGUgcmVzcGVjdGl2ZSB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZvciBlYWNoXG4gICAgaXRlbSBpbiB0aGUgb2JqZWN0LlxuKi9cbk9iamVjdC5tYXAgPSBmdW5jdGlvbiAob2JqZWN0LCBjYWxsYmFjaywgdGhpc3ApIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCksIGkgPSAwLCByZXN1bHQgPSBbXSwgaUtleTtcbiAgICBmb3IoOyhpS2V5ID0ga2V5c1tpXSk7aSsrKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGNhbGxiYWNrLmNhbGwodGhpc3AsIG9iamVjdFtpS2V5XSwgaUtleSwgb2JqZWN0KSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAgICBSZXR1cm5zIHRoZSB2YWx1ZXMgZm9yIG93bmVkIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0LlxuXG4gICAgQGZ1bmN0aW9uIGV4dGVybmFsOk9iamVjdC5tYXBcbiAgICBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAgQHJldHVybnMge0FycmF5fSB0aGUgcmVzcGVjdGl2ZSB2YWx1ZSBmb3IgZWFjaCBvd25lZCBwcm9wZXJ0eSBvZiB0aGVcbiAgICBvYmplY3QuXG4qL1xuT2JqZWN0LnZhbHVlcyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICByZXR1cm4gT2JqZWN0Lm1hcChvYmplY3QsIEZ1bmN0aW9uLmlkZW50aXR5KTtcbn07XG5cbi8vIFRPRE8gaW5saW5lIGRvY3VtZW50IGNvbmNhdFxuT2JqZWN0LmNvbmNhdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgT2JqZWN0LmFkZEVhY2gob2JqZWN0LCBhcmd1bWVudHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xufTtcblxuT2JqZWN0LmZyb20gPSBPYmplY3QuY29uY2F0O1xuXG4vKipcbiAgICBSZXR1cm5zIHdoZXRoZXIgdHdvIHZhbHVlcyBhcmUgaWRlbnRpY2FsLiAgQW55IHZhbHVlIGlzIGlkZW50aWNhbCB0byBpdHNlbGZcbiAgICBhbmQgb25seSBpdHNlbGYuICBUaGlzIGlzIG11Y2ggbW9yZSByZXN0aWN0aXZlIHRoYW4gZXF1aXZhbGVuY2UgYW5kIHN1YnRseVxuICAgIGRpZmZlcmVudCB0aGFuIHN0cmljdCBlcXVhbGl0eSwgPGNvZGU+PT09PC9jb2RlPiBiZWNhdXNlIG9mIGVkZ2UgY2FzZXNcbiAgICBpbmNsdWRpbmcgbmVnYXRpdmUgemVybyBhbmQgPGNvZGU+TmFOPC9jb2RlPi4gIElkZW50aXR5IGlzIHVzZWZ1bCBmb3JcbiAgICByZXNvbHZpbmcgY29sbGlzaW9ucyBhbW9uZyBrZXlzIGluIGEgbWFwcGluZyB3aGVyZSB0aGUgZG9tYWluIGlzIGFueSB2YWx1ZS5cbiAgICBUaGlzIG1ldGhvZCBkb2VzIG5vdCBkZWxnYXRlIHRvIGFueSBtZXRob2Qgb24gYW4gb2JqZWN0IGFuZCBjYW5ub3QgYmVcbiAgICBvdmVycmlkZGVuLlxuICAgIEBzZWUgaHR0cDovL3dpa2kuZWNtYXNjcmlwdC5vcmcvZG9rdS5waHA/aWQ9aGFybW9ueTplZ2FsXG4gICAgQHBhcmFtIHtBbnl9IHRoaXNcbiAgICBAcGFyYW0ge0FueX0gdGhhdFxuICAgIEByZXR1cm5zIHtCb29sZWFufSB3aGV0aGVyIHRoaXMgYW5kIHRoYXQgYXJlIGlkZW50aWNhbFxuICAgIEBmdW5jdGlvbiBleHRlcm5hbDpPYmplY3QuaXNcbiovXG5PYmplY3QuaXMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAgIC8vIDAgPT09IC0wLCBidXQgdGhleSBhcmUgbm90IGlkZW50aWNhbFxuICAgICAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gICAgfVxuICAgIC8vIE5hTiAhPT0gTmFOLCBidXQgdGhleSBhcmUgaWRlbnRpY2FsLlxuICAgIC8vIE5hTnMgYXJlIHRoZSBvbmx5IG5vbi1yZWZsZXhpdmUgdmFsdWUsIGkuZS4sIGlmIHggIT09IHgsXG4gICAgLy8gdGhlbiB4IGlzIGEgTmFOLlxuICAgIC8vIGlzTmFOIGlzIGJyb2tlbjogaXQgY29udmVydHMgaXRzIGFyZ3VtZW50IHRvIG51bWJlciwgc29cbiAgICAvLyBpc05hTihcImZvb1wiKSA9PiB0cnVlXG4gICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbn07XG5cbi8qKlxuICAgIFBlcmZvcm1zIGEgcG9seW1vcnBoaWMsIHR5cGUtc2Vuc2l0aXZlIGRlZXAgZXF1aXZhbGVuY2UgY29tcGFyaXNvbiBvZiBhbnlcbiAgICB0d28gdmFsdWVzLlxuXG4gICAgPHA+QXMgYSBiYXNpYyBwcmluY2lwbGUsIGFueSB2YWx1ZSBpcyBlcXVpdmFsZW50IHRvIGl0c2VsZiAoYXMgaW5cbiAgICBpZGVudGl0eSksIGFueSBib3hlZCB2ZXJzaW9uIG9mIGl0c2VsZiAoYXMgYSA8Y29kZT5uZXcgTnVtYmVyKDEwKTwvY29kZT4gaXNcbiAgICB0byAxMCksIGFuZCBhbnkgZGVlcCBjbG9uZSBvZiBpdHNlbGYuXG5cbiAgICA8cD5FcXVpdmFsZW5jZSBoYXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuXG4gICAgPHVsPlxuICAgICAgICA8bGk+PHN0cm9uZz5wb2x5bW9ycGhpYzo8L3N0cm9uZz5cbiAgICAgICAgICAgIElmIHRoZSBnaXZlbiBvYmplY3QgaXMgYW4gaW5zdGFuY2Ugb2YgYSB0eXBlIHRoYXQgaW1wbGVtZW50cyBhXG4gICAgICAgICAgICBtZXRob2RzIG5hbWVkIFwiZXF1YWxzXCIsIHRoaXMgZnVuY3Rpb24gZGVmZXJzIHRvIHRoZSBtZXRob2QuICBTbyxcbiAgICAgICAgICAgIHRoaXMgZnVuY3Rpb24gY2FuIHNhZmVseSBjb21wYXJlIGFueSB2YWx1ZXMgcmVnYXJkbGVzcyBvZiB0eXBlLFxuICAgICAgICAgICAgaW5jbHVkaW5nIHVuZGVmaW5lZCwgbnVsbCwgbnVtYmVycywgc3RyaW5ncywgYW55IHBhaXIgb2Ygb2JqZWN0c1xuICAgICAgICAgICAgd2hlcmUgZWl0aGVyIGltcGxlbWVudHMgXCJlcXVhbHNcIiwgb3Igb2JqZWN0IGxpdGVyYWxzIHRoYXQgbWF5IGV2ZW5cbiAgICAgICAgICAgIGNvbnRhaW4gYW4gXCJlcXVhbHNcIiBrZXkuXG4gICAgICAgIDxsaT48c3Ryb25nPnR5cGUtc2Vuc2l0aXZlOjwvc3Ryb25nPlxuICAgICAgICAgICAgSW5jb21wYXJhYmxlIHR5cGVzIGFyZSBub3QgZXF1YWwuICBObyBvYmplY3QgaXMgZXF1aXZhbGVudCB0byBhbnlcbiAgICAgICAgICAgIGFycmF5LiAgTm8gc3RyaW5nIGlzIGVxdWFsIHRvIGFueSBvdGhlciBudW1iZXIuXG4gICAgICAgIDxsaT48c3Ryb25nPmRlZXA6PC9zdHJvbmc+XG4gICAgICAgICAgICBDb2xsZWN0aW9ucyB3aXRoIGVxdWl2YWxlbnQgY29udGVudCBhcmUgZXF1aXZhbGVudCwgcmVjdXJzaXZlbHkuXG4gICAgICAgIDxsaT48c3Ryb25nPmVxdWl2YWxlbmNlOjwvc3Ryb25nPlxuICAgICAgICAgICAgSWRlbnRpY2FsIHZhbHVlcyBhbmQgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgYnV0IHNvIGFyZSBjb2xsZWN0aW9uc1xuICAgICAgICAgICAgdGhhdCBjb250YWluIGVxdWl2YWxlbnQgY29udGVudC4gIFdoZXRoZXIgb3JkZXIgaXMgaW1wb3J0YW50IHZhcmllc1xuICAgICAgICAgICAgYnkgdHlwZS4gIEZvciBBcnJheXMgYW5kIGxpc3RzLCBvcmRlciBpcyBpbXBvcnRhbnQuICBGb3IgT2JqZWN0cyxcbiAgICAgICAgICAgIG1hcHMsIGFuZCBzZXRzLCBvcmRlciBpcyBub3QgaW1wb3J0YW50LiAgQm94ZWQgb2JqZWN0cyBhcmUgbXV0YWxseVxuICAgICAgICAgICAgZXF1aXZhbGVudCB3aXRoIHRoZWlyIHVuYm94ZWQgdmFsdWVzLCBieSB2aXJ0dWUgb2YgdGhlIHN0YW5kYXJkXG4gICAgICAgICAgICA8Y29kZT52YWx1ZU9mPC9jb2RlPiBtZXRob2QuXG4gICAgPC91bD5cbiAgICBAcGFyYW0gdGhpc1xuICAgIEBwYXJhbSB0aGF0XG4gICAgQHJldHVybnMge0Jvb2xlYW59IHdoZXRoZXIgdGhlIHZhbHVlcyBhcmUgZGVlcGx5IGVxdWl2YWxlbnRcbiAgICBAZnVuY3Rpb24gZXh0ZXJuYWw6T2JqZWN0LmVxdWFsc1xuKi9cbk9iamVjdC5lcXVhbHMgPSBmdW5jdGlvbiAoYSwgYiwgZXF1YWxzLCBtZW1vKSB7XG4gICAgZXF1YWxzID0gZXF1YWxzIHx8IE9iamVjdC5lcXVhbHM7XG4gICAgLy9jb25zb2xlLmxvZyhcIk9iamVjdC5lcXVhbHM6IGE6XCIsYSwgXCJiOlwiLGIsIFwiZXF1YWxzOlwiLGVxdWFscyk7XG4gICAgLy8gdW5ib3ggb2JqZWN0cywgYnV0IGRvIG5vdCBjb25mdXNlIG9iamVjdCBsaXRlcmFsc1xuICAgIGEgPSBPYmplY3QuZ2V0VmFsdWVPZihhKTtcbiAgICBiID0gT2JqZWN0LmdldFZhbHVlT2YoYik7XG4gICAgaWYgKGEgPT09IGIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmIChPYmplY3QuaXNPYmplY3QoYSkpIHtcbiAgICAgICAgbWVtbyA9IG1lbW8gfHwgbmV3IHdlYWtNYXAkMSgpO1xuICAgICAgICBpZiAobWVtby5oYXMoYSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIG1lbW8uc2V0KGEsIHRydWUpO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmlzT2JqZWN0KGEpICYmIHR5cGVvZiBhLmVxdWFscyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBhLmVxdWFscyhiLCBlcXVhbHMsIG1lbW8pO1xuICAgIH1cbiAgICAvLyBjb21tdXRhdGl2ZVxuICAgIGlmIChPYmplY3QuaXNPYmplY3QoYikgJiYgdHlwZW9mIGIuZXF1YWxzID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGIuZXF1YWxzKGEsIGVxdWFscywgbWVtbyk7XG4gICAgfVxuICAgIGlmIChPYmplY3QuaXNPYmplY3QoYSkgJiYgT2JqZWN0LmlzT2JqZWN0KGIpKSB7XG4gICAgICAgIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoYSkgPT09IE9iamVjdC5wcm90b3R5cGUgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGIpID09PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVxdWFscyhhW25hbWVdLCBiW25hbWVdLCBlcXVhbHMsIG1lbW8pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIGIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIShuYW1lIGluIGEpIHx8ICFlcXVhbHMoYltuYW1lXSwgYVtuYW1lXSwgZXF1YWxzLCBtZW1vKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTmFOICE9PSBOYU4sIGJ1dCB0aGV5IGFyZSBlcXVhbC5cbiAgICAvLyBOYU5zIGFyZSB0aGUgb25seSBub24tcmVmbGV4aXZlIHZhbHVlLCBpLmUuLCBpZiB4ICE9PSB4LFxuICAgIC8vIHRoZW4geCBpcyBhIE5hTi5cbiAgICAvLyBpc05hTiBpcyBicm9rZW46IGl0IGNvbnZlcnRzIGl0cyBhcmd1bWVudCB0byBudW1iZXIsIHNvXG4gICAgLy8gaXNOYU4oXCJmb29cIikgPT4gdHJ1ZVxuICAgIC8vIFdlIGhhdmUgZXN0YWJsaXNoZWQgdGhhdCBhICE9PSBiLCBidXQgaWYgYSAhPT0gYSAmJiBiICE9PSBiLCB0aGV5IGFyZVxuICAgIC8vIGJvdGggTmFOLlxuICAgIGlmIChhICE9PSBhICYmIGIgIT09IGIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmICghYSB8fCAhYilcbiAgICAgICAgcmV0dXJuIGEgPT09IGI7XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLy8gQmVjYXVzZSBhIHJldHVybiB2YWx1ZSBvZiAwIGZyb20gYSBgY29tcGFyZWAgZnVuY3Rpb24gIG1heSBtZWFuIGVpdGhlclxuLy8gXCJlcXVhbHNcIiBvciBcImlzIGluY29tcGFyYWJsZVwiLCBgZXF1YWxzYCBjYW5ub3QgYmUgZGVmaW5lZCBpbiB0ZXJtcyBvZlxuLy8gYGNvbXBhcmVgLiAgSG93ZXZlciwgYGNvbXBhcmVgICpjYW4qIGJlIGRlZmluZWQgaW4gdGVybXMgb2YgYGVxdWFsc2AgYW5kXG4vLyBgbGVzc1RoYW5gLiAgQWdhaW4gaG93ZXZlciwgbW9yZSBvZnRlbiBpdCB3b3VsZCBiZSBkZXNpcmFibGUgdG8gaW1wbGVtZW50XG4vLyBhbGwgb2YgdGhlIGNvbXBhcmlzb24gZnVuY3Rpb25zIGluIHRlcm1zIG9mIGNvbXBhcmUgcmF0aGVyIHRoYW4gdGhlIG90aGVyXG4vLyB3YXkgYXJvdW5kLlxuXG4vKipcbiAgICBEZXRlcm1pbmVzIHRoZSBvcmRlciBpbiB3aGljaCBhbnkgdHdvIG9iamVjdHMgc2hvdWxkIGJlIHNvcnRlZCBieSByZXR1cm5pbmdcbiAgICBhIG51bWJlciB0aGF0IGhhcyBhbiBhbmFsb2dvdXMgcmVsYXRpb25zaGlwIHRvIHplcm8gYXMgdGhlIGxlZnQgdmFsdWUgdG9cbiAgICB0aGUgcmlnaHQuICBUaGF0IGlzLCBpZiB0aGUgbGVmdCBpcyBcImxlc3MgdGhhblwiIHRoZSByaWdodCwgdGhlIHJldHVybmVkXG4gICAgdmFsdWUgd2lsbCBiZSBcImxlc3MgdGhhblwiIHplcm8sIHdoZXJlIFwibGVzcyB0aGFuXCIgbWF5IGJlIGFueSBvdGhlclxuICAgIHRyYW5zaXRpdmUgcmVsYXRpb25zaGlwLlxuXG4gICAgPHA+QXJyYXlzIGFyZSBjb21wYXJlZCBieSB0aGUgZmlyc3QgZGl2ZXJnaW5nIHZhbHVlcywgb3IgYnkgbGVuZ3RoLlxuXG4gICAgPHA+QW55IHR3byB2YWx1ZXMgdGhhdCBhcmUgaW5jb21wYXJhYmxlIHJldHVybiB6ZXJvLiAgQXMgc3VjaCxcbiAgICA8Y29kZT5lcXVhbHM8L2NvZGU+IHNob3VsZCBub3QgYmUgaW1wbGVtZW50ZWQgd2l0aCA8Y29kZT5jb21wYXJlPC9jb2RlPlxuICAgIHNpbmNlIGluY29tcGFyYWJpbGl0eSBpcyBpbmRpc3Rpbmd1aXNoYWJsZSBmcm9tIGVxdWFsaXR5LlxuXG4gICAgPHA+U29ydHMgc3RyaW5ncyBsZXhpY29ncmFwaGljYWxseS4gIFRoaXMgaXMgbm90IHN1aXRhYmxlIGZvciBhbnlcbiAgICBwYXJ0aWN1bGFyIGludGVybmF0aW9uYWwgc2V0dGluZy4gIERpZmZlcmVudCBsb2NhbGVzIHNvcnQgdGhlaXIgcGhvbmUgYm9va3NcbiAgICBpbiB2ZXJ5IGRpZmZlcmVudCB3YXlzLCBwYXJ0aWN1bGFybHkgcmVnYXJkaW5nIGRpYWNyaXRpY3MgYW5kIGxpZ2F0dXJlcy5cblxuICAgIDxwPklmIHRoZSBnaXZlbiBvYmplY3QgaXMgYW4gaW5zdGFuY2Ugb2YgYSB0eXBlIHRoYXQgaW1wbGVtZW50cyBhIG1ldGhvZFxuICAgIG5hbWVkIFwiY29tcGFyZVwiLCB0aGlzIGZ1bmN0aW9uIGRlZmVycyB0byB0aGUgaW5zdGFuY2UuICBUaGUgbWV0aG9kIGRvZXMgbm90XG4gICAgbmVlZCB0byBiZSBhbiBvd25lZCBwcm9wZXJ0eSB0byBkaXN0aW5ndWlzaCBpdCBmcm9tIGFuIG9iamVjdCBsaXRlcmFsIHNpbmNlXG4gICAgb2JqZWN0IGxpdGVyYWxzIGFyZSBpbmNvbXBhcmFibGUuICBVbmxpa2UgPGNvZGU+T2JqZWN0PC9jb2RlPiBob3dldmVyLFxuICAgIDxjb2RlPkFycmF5PC9jb2RlPiBpbXBsZW1lbnRzIDxjb2RlPmNvbXBhcmU8L2NvZGU+LlxuXG4gICAgQHBhcmFtIHtBbnl9IGxlZnRcbiAgICBAcGFyYW0ge0FueX0gcmlnaHRcbiAgICBAcmV0dXJucyB7TnVtYmVyfSBhIHZhbHVlIGhhdmluZyB0aGUgc2FtZSB0cmFuc2l0aXZlIHJlbGF0aW9uc2hpcCB0byB6ZXJvXG4gICAgYXMgdGhlIGxlZnQgYW5kIHJpZ2h0IHZhbHVlcy5cbiAgICBAZnVuY3Rpb24gZXh0ZXJuYWw6T2JqZWN0LmNvbXBhcmVcbiovXG5PYmplY3QuY29tcGFyZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgLy8gdW5ib3ggb2JqZWN0cywgYnV0IGRvIG5vdCBjb25mdXNlIG9iamVjdCBsaXRlcmFsc1xuICAgIC8vIG1lcmNpZnVsbHkgaGFuZGxlcyB0aGUgRGF0ZSBjYXNlXG4gICAgYSA9IE9iamVjdC5nZXRWYWx1ZU9mKGEpO1xuICAgIGIgPSBPYmplY3QuZ2V0VmFsdWVPZihiKTtcbiAgICBpZiAoYSA9PT0gYilcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgdmFyIGFUeXBlID0gdHlwZW9mIGE7XG4gICAgdmFyIGJUeXBlID0gdHlwZW9mIGI7XG4gICAgaWYgKGFUeXBlID09PSBcIm51bWJlclwiICYmIGJUeXBlID09PSBcIm51bWJlclwiKVxuICAgICAgICByZXR1cm4gYSAtIGI7XG4gICAgaWYgKGFUeXBlID09PSBcInN0cmluZ1wiICYmIGJUeXBlID09PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4gYSA8IGIgPyAtSW5maW5pdHkgOiBJbmZpbml0eTtcbiAgICAgICAgLy8gdGhlIHBvc3NpYmlsaXR5IG9mIGVxdWFsaXR5IGVsaW1pYXRlZCBhYm92ZVxuICAgIGlmIChhICYmIHR5cGVvZiBhLmNvbXBhcmUgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgcmV0dXJuIGEuY29tcGFyZShiKTtcbiAgICAvLyBub3QgY29tbXV0YXRpdmUsIHRoZSByZWxhdGlvbnNoaXAgaXMgcmV2ZXJzZWRcbiAgICBpZiAoYiAmJiB0eXBlb2YgYi5jb21wYXJlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHJldHVybiAtYi5jb21wYXJlKGEpO1xuICAgIHJldHVybiAwO1xufTtcblxuLyoqXG4gICAgQ3JlYXRlcyBhIGRlZXAgY29weSBvZiBhbnkgdmFsdWUuICBWYWx1ZXMsIGJlaW5nIGltbXV0YWJsZSwgYXJlXG4gICAgcmV0dXJuZWQgd2l0aG91dCBhbHRlcm5hdGlvbi4gIEZvcndhcmRzIHRvIDxjb2RlPmNsb25lPC9jb2RlPiBvblxuICAgIG9iamVjdHMgYW5kIGFycmF5cy5cblxuICAgIEBmdW5jdGlvbiBleHRlcm5hbDpPYmplY3QuY2xvbmVcbiAgICBAcGFyYW0ge0FueX0gdmFsdWUgYSB2YWx1ZSB0byBjbG9uZVxuICAgIEBwYXJhbSB7TnVtYmVyfSBkZXB0aCBhbiBvcHRpb25hbCB0cmF2ZXJzYWwgZGVwdGgsIGRlZmF1bHRzIHRvIGluZmluaXR5LlxuICAgIEEgdmFsdWUgb2YgPGNvZGU+MDwvY29kZT4gbWVhbnMgdG8gbWFrZSBubyBjbG9uZSBhbmQgcmV0dXJuIHRoZSB2YWx1ZVxuICAgIGRpcmVjdGx5LlxuICAgIEBwYXJhbSB7TWFwfSBtZW1vIGFuIG9wdGlvbmFsIG1lbW8gb2YgYWxyZWFkeSB2aXNpdGVkIG9iamVjdHMgdG8gcHJlc2VydmVcbiAgICByZWZlcmVuY2UgY3ljbGVzLiAgVGhlIGNsb25lZCBvYmplY3Qgd2lsbCBoYXZlIHRoZSBleGFjdCBzYW1lIHNoYXBlIGFzIHRoZVxuICAgIG9yaWdpbmFsLCBidXQgbm8gaWRlbnRpY2FsIG9iamVjdHMuICBUZSBtYXAgbWF5IGJlIGxhdGVyIHVzZWQgdG8gYXNzb2NpYXRlXG4gICAgYWxsIG9iamVjdHMgaW4gdGhlIG9yaWdpbmFsIG9iamVjdCBncmFwaCB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmcgbWVtYmVyIG9mXG4gICAgdGhlIGNsb25lZCBncmFwaC5cbiAgICBAcmV0dXJucyBhIGNvcHkgb2YgdGhlIHZhbHVlXG4qL1xuT2JqZWN0LmNsb25lID0gZnVuY3Rpb24gKHZhbHVlLCBkZXB0aCwgbWVtbykge1xuICAgIHZhbHVlID0gT2JqZWN0LmdldFZhbHVlT2YodmFsdWUpO1xuICAgIG1lbW8gPSBtZW1vIHx8IG5ldyB3ZWFrTWFwJDEoKTtcbiAgICBpZiAoZGVwdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkZXB0aCA9IEluZmluaXR5O1xuICAgIH0gZWxzZSBpZiAoZGVwdGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICBpZiAoIW1lbW8uaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5jbG9uZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgbWVtby5zZXQodmFsdWUsIHZhbHVlLmNsb25lKGRlcHRoLCBtZW1vKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBwcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChwcm90b3R5cGUgPT09IG51bGwgfHwgcHJvdG90eXBlID09PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjbG9uZSA9IE9iamVjdC5jcmVhdGUocHJvdG90eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgbWVtby5zZXQodmFsdWUsIGNsb25lKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9uZVtrZXldID0gT2JqZWN0LmNsb25lKHZhbHVlW2tleV0sIGRlcHRoIC0gMSwgbWVtbyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBjbG9uZSBcIiArIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lbW8uZ2V0KHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxuLyoqXG4gICAgUmVtb3ZlcyBhbGwgcHJvcGVydGllcyBvd25lZCBieSB0aGlzIG9iamVjdCBtYWtpbmcgdGhlIG9iamVjdCBzdWl0YWJsZSBmb3JcbiAgICByZXVzZS5cblxuICAgIEBmdW5jdGlvbiBleHRlcm5hbDpPYmplY3QuY2xlYXJcbiAgICBAcmV0dXJucyB0aGlzXG4qL1xuT2JqZWN0LmNsZWFyID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdC5jbGVhciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIG9iamVjdC5jbGVhcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KSxcbiAgICAgICAgICAgIGkgPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGkpIHtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmplY3Rba2V5c1tpXV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbn07XG5cbnZhciBnZW5lcmljT3JkZXIgPSBHZW5lcmljT3JkZXI7XG5mdW5jdGlvbiBHZW5lcmljT3JkZXIoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgY29uc3RydWN0LiBHZW5lcmljT3JkZXIgaXMgYSBtaXhpbi5cIik7XG59XG5cbkdlbmVyaWNPcmRlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHRoYXQsIGVxdWFscykge1xuICAgIGVxdWFscyA9IGVxdWFscyB8fCB0aGlzLmNvbnRlbnRFcXVhbHMgfHwgc2hpbU9iamVjdC5lcXVhbHM7XG5cbiAgICBpZiAodGhpcyA9PT0gdGhhdCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCF0aGF0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5sZW5ndGggPT09IHRoYXQubGVuZ3RoICYmXG4gICAgICAgIHRoaXMuemlwKHRoYXQpLmV2ZXJ5KGZ1bmN0aW9uIChwYWlyKSB7XG4gICAgICAgICAgICByZXR1cm4gZXF1YWxzKHBhaXJbMF0sIHBhaXJbMV0pO1xuICAgICAgICB9KVxuICAgICk7XG59O1xuXG5HZW5lcmljT3JkZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiAodGhhdCwgY29tcGFyZSkge1xuICAgIGNvbXBhcmUgPSBjb21wYXJlIHx8IHRoaXMuY29udGVudENvbXBhcmUgfHwgc2hpbU9iamVjdC5jb21wYXJlO1xuXG4gICAgaWYgKHRoaXMgPT09IHRoYXQpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmICghdGhhdCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5taW4odGhpcy5sZW5ndGgsIHRoYXQubGVuZ3RoKTtcbiAgICB2YXIgY29tcGFyaXNvbiA9IHRoaXMuemlwKHRoYXQpLnJlZHVjZShmdW5jdGlvbiAoY29tcGFyaXNvbiwgcGFpciwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGNvbXBhcmlzb24gPT09IDApIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyaXNvbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmUocGFpclswXSwgcGFpclsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcGFyaXNvbjtcbiAgICAgICAgfVxuICAgIH0sIDApO1xuICAgIGlmIChjb21wYXJpc29uID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlbmd0aCAtIHRoYXQubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gY29tcGFyaXNvbjtcbn07XG5cbkdlbmVyaWNPcmRlci5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKTtcbn07XG5cbnZhciBhcnJheV9zcGxpY2UgPSBBcnJheS5wcm90b3R5cGUuc3BsaWNlO1xudmFyIGFycmF5X3NsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG5BcnJheS5lbXB0eSA9IFtdO1xuXG5pZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgIE9iamVjdC5mcmVlemUoQXJyYXkuZW1wdHkpO1xufVxuXG5BcnJheS5uYXRpdmVGcm9tID0gQXJyYXkuZnJvbTtcblxuQXJyYXkuZnJvbSA9IGZ1bmN0aW9uICh2YWx1ZXMsIG1hcEZuLCB0aGlzQXJnKSB7XG4gICAgaWYoU3ltYm9sICYmIHZhbHVlcyAmJiB0eXBlb2YgdmFsdWVzW1N5bWJvbC5pdGVyYXRvcl0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gQXJyYXkubmF0aXZlRnJvbSh2YWx1ZXMsIG1hcEZuLCB0aGlzQXJnKTtcbiAgICB9XG4gICAgLy9Ob3cgd2UgYWRkIHN1cHBvcnQgZm9yIHZhbHVlcyB0aGF0IGltcGxlbWVudCBmb3JFYWNoOlxuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIGFycmF5LmFkZEVhY2godmFsdWVzKTtcbiAgICByZXR1cm4gYXJyYXk7XG59O1xuXG5BcnJheS51bnppcCA9IGZ1bmN0aW9uICh0YWJsZSkge1xuICAgIHZhciB0cmFuc3Bvc2UgPSBbXTtcbiAgICB2YXIgbGVuZ3RoID0gSW5maW5pdHk7XG4gICAgLy8gY29tcHV0ZSBzaG9ydGVzdCByb3dcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhYmxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByb3cgPSB0YWJsZVtpXTtcbiAgICAgICAgdGFibGVbaV0gPSByb3cudG9BcnJheSgpO1xuICAgICAgICBpZiAocm93Lmxlbmd0aCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgbGVuZ3RoID0gcm93Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhYmxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciByb3cgPSB0YWJsZVtpXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByb3cubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChqIDwgbGVuZ3RoICYmIGogaW4gcm93KSB7XG4gICAgICAgICAgICAgICAgdHJhbnNwb3NlW2pdID0gdHJhbnNwb3NlW2pdIHx8IFtdO1xuICAgICAgICAgICAgICAgIHRyYW5zcG9zZVtqXVtpXSA9IHJvd1tqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJhbnNwb3NlO1xufTtcblxuZnVuY3Rpb24gZGVmaW5lKGtleSwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCBrZXksIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgIH0pO1xufVxuXG5kZWZpbmUoXCJhZGRFYWNoXCIsIGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRFYWNoKTtcbmRlZmluZShcImRlbGV0ZUVhY2hcIiwgZ2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLmRlbGV0ZUVhY2gpO1xuZGVmaW5lKFwidG9BcnJheVwiLCBnZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUudG9BcnJheSk7XG5kZWZpbmUoXCJ0b09iamVjdFwiLCBnZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUudG9PYmplY3QpO1xuZGVmaW5lKFwiYWxsXCIsIGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5hbGwpO1xuZGVmaW5lKFwiYW55XCIsIGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5hbnkpO1xuZGVmaW5lKFwibWluXCIsIGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5taW4pO1xuZGVmaW5lKFwibWF4XCIsIGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5tYXgpO1xuZGVmaW5lKFwic3VtXCIsIGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5zdW0pO1xuZGVmaW5lKFwiYXZlcmFnZVwiLCBnZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUuYXZlcmFnZSk7XG5kZWZpbmUoXCJvbmx5XCIsIGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5vbmx5KTtcbmRlZmluZShcImZsYXR0ZW5cIiwgZ2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLmZsYXR0ZW4pO1xuZGVmaW5lKFwiemlwXCIsIGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS56aXApO1xuZGVmaW5lKFwiZW51bWVyYXRlXCIsIGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5lbnVtZXJhdGUpO1xuZGVmaW5lKFwiZ3JvdXBcIiwgZ2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLmdyb3VwKTtcbmRlZmluZShcInNvcnRlZFwiLCBnZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUuc29ydGVkKTtcbmRlZmluZShcInJldmVyc2VkXCIsIGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5yZXZlcnNlZCk7XG5cbmRlZmluZShcImNvbnN0cnVjdENsb25lXCIsIGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICB2YXIgY2xvbmUgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpO1xuICAgIGNsb25lLmFkZEVhY2godmFsdWVzKTtcbiAgICByZXR1cm4gY2xvbmU7XG59KTtcblxuZGVmaW5lKFwiaGFzXCIsIGZ1bmN0aW9uICh2YWx1ZSwgZXF1YWxzKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZFZhbHVlKHZhbHVlLCBlcXVhbHMpICE9PSAtMTtcbn0pO1xuXG5kZWZpbmUoXCJnZXRcIiwgZnVuY3Rpb24gKGluZGV4LCBkZWZhdWx0VmFsdWUpIHtcbiAgICBpZiAoK2luZGV4ICE9PSBpbmRleCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmRpY2llcyBtdXN0IGJlIG51bWJlcnNcIik7XG4gICAgfSBlbHNlIGlmICghaW5kZXggaW4gdGhpcykge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzW2luZGV4XTtcbiAgICB9XG59KTtcblxuZGVmaW5lKFwic2V0XCIsIGZ1bmN0aW9uIChpbmRleCwgdmFsdWUpIHtcbiAgICB0aGlzW2luZGV4XSA9IHZhbHVlO1xuICAgIHJldHVybiB0cnVlO1xufSk7XG5cbmRlZmluZShcImFkZFwiLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLnB1c2godmFsdWUpO1xuICAgIHJldHVybiB0cnVlO1xufSk7XG5cbmRlZmluZShcImRlbGV0ZVwiLCBmdW5jdGlvbiAodmFsdWUsIGVxdWFscykge1xuICAgIHZhciBpbmRleCA9IHRoaXMuZmluZFZhbHVlKHZhbHVlLCBlcXVhbHMpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgdGhpcy5zcGxpY2VPbmUoaW5kZXgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufSk7XG5cbmRlZmluZShcImRlbGV0ZUFsbFwiLCBmdW5jdGlvbiAodmFsdWUsIGVxdWFscykge1xuICAgIGVxdWFscyA9IGVxdWFscyB8fCB0aGlzLmNvbnRlbnRFcXVhbHMgfHwgT2JqZWN0LmVxdWFscztcbiAgICB2YXIgY291bnQgPSAwO1xuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmxlbmd0aDspIHtcbiAgICAgICAgaWYgKGVxdWFscyh2YWx1ZSwgdGhpc1tpbmRleF0pKSB7XG4gICAgICAgICAgICB0aGlzLnN3YXAoaW5kZXgsIDEpO1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvdW50O1xufSk7XG5cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZpbmRcbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5maW5kXG5pZiAoIUFycmF5LnByb3RvdHlwZS5maW5kKSB7XG4gICAgZGVmaW5lKFwiZmluZFwiLCBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgICAgLy8gMS4gTGV0IE8gYmUgPyBUb09iamVjdCh0aGlzIHZhbHVlKS5cbiAgICAgICAgaWYgKHRoaXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ0aGlzXCIgaXMgbnVsbCBvciBub3QgZGVmaW5lZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG8gPSBPYmplY3QodGhpcyk7XG5cbiAgICAgICAgLy8gMi4gTGV0IGxlbiBiZSA/IFRvTGVuZ3RoKD8gR2V0KE8sIFwibGVuZ3RoXCIpKS5cbiAgICAgICAgdmFyIGxlbiA9IG8ubGVuZ3RoID4+PiAwO1xuXG4gICAgICAgIC8vIDMuIElmIElzQ2FsbGFibGUocHJlZGljYXRlKSBpcyBmYWxzZSwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxuICAgICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncHJlZGljYXRlIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNC4gSWYgdGhpc0FyZyB3YXMgc3VwcGxpZWQsIGxldCBUIGJlIHRoaXNBcmc7IGVsc2UgbGV0IFQgYmUgdW5kZWZpbmVkLlxuICAgICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50c1sxXTtcblxuICAgICAgICAvLyA1LiBMZXQgayBiZSAwLlxuICAgICAgICB2YXIgayA9IDA7XG5cbiAgICAgICAgLy8gNi4gUmVwZWF0LCB3aGlsZSBrIDwgbGVuXG4gICAgICAgIHdoaWxlIChrIDwgbGVuKSB7XG4gICAgICAgICAgICAvLyBhLiBMZXQgUGsgYmUgISBUb1N0cmluZyhrKS5cbiAgICAgICAgICAgIC8vIGIuIExldCBrVmFsdWUgYmUgPyBHZXQoTywgUGspLlxuICAgICAgICAgICAgLy8gYy4gTGV0IHRlc3RSZXN1bHQgYmUgVG9Cb29sZWFuKD8gQ2FsbChwcmVkaWNhdGUsIFQsIMKrIGtWYWx1ZSwgaywgTyDCuykpLlxuICAgICAgICAgICAgLy8gZC4gSWYgdGVzdFJlc3VsdCBpcyB0cnVlLCByZXR1cm4ga1ZhbHVlLlxuICAgICAgICAgICAgdmFyIGtWYWx1ZSA9IG9ba107XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwodGhpc0FyZywga1ZhbHVlLCBrLCBvKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBrVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlLiBJbmNyZWFzZSBrIGJ5IDEuXG4gICAgICAgICAgICBrKys7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8gVE9ETyByZW1vdmUgaW4gdjYgKG5vdCBwcmVzZW50IGluIHYyKVxudmFyIGRlcHJlY2F0ZWRXYXJuTm9uY2UgPSB7fTtcbmZ1bmN0aW9uIGRlcHJlY2F0ZWRXYXJuKG1zZywgbm90T25jZSkge1xuICAgIGlmIChcbiAgICAgICAgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICB0eXBlb2YgY29uc29sZS53YXJuID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgICAgICAgKG5vdE9uY2UgIT09IHRydWUgJiYgZGVwcmVjYXRlZFdhcm5Ob25jZS5oYXNPd25Qcm9wZXJ0eShtc2cpID09PSBmYWxzZSlcbiAgICApIHtcbiAgICAgICAgY29uc29sZS53YXJuKG1zZyk7XG4gICAgICAgIGRlcHJlY2F0ZWRXYXJuTm9uY2VbbXNnXSsrO1xuICAgIH1cbn1cblxuLy8gU2F2ZSBBcnJheS5wcm90b3R5cGUuZmluZCBpbiBvcmRlciB0byBzdXBwb3J0IGxlZ2FjeSBhbmQgZGlzcGxheSB3YXJuaW5nLlxuLy8gVE9ETyByZW1vdmUgaW4gdjYgKG5vdCBwcmVzZW50IGluIHYyKVxudmFyIEFycmF5RmluZFByb3RvdHlwZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoQXJyYXkucHJvdG90eXBlLCAnZmluZCcpLnZhbHVlO1xuZGVmaW5lKFwiZmluZFwiLCBmdW5jdGlvbiAodmFsdWUsIGVxdWFscywgaW5kZXgpIHtcbiAgICBpZiAoXG4gICAgICAgIHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgIHRoaXMgaW5zdGFuY2VvZiBBcnJheVxuICAgICkge1xuICAgICAgICByZXR1cm4gQXJyYXlGaW5kUHJvdG90eXBlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGVwcmVjYXRlZFdhcm4oJ0FycmF5I2ZpbmQgdXNhZ2UgaXMgZGVwcmVjYXRlZCBwbGVhc2UgdXNlIEFycmF5I2ZpbmRWYWx1ZScpO1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kVmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG59KTtcblxuZGVmaW5lKFwiZmluZFZhbHVlXCIsIGZ1bmN0aW9uICh2YWx1ZSwgZXF1YWxzLCBpbmRleCkge1xuICAgIGlmIChpbmRleCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBcnJheSNmaW5kVmFsdWUgZG9lcyBub3Qgc3VwcG9ydCB0aGlyZCBhcmd1bWVudDogaW5kZXhcIik7XG4gICAgfVxuICAgIGVxdWFscyA9IGVxdWFscyB8fCB0aGlzLmNvbnRlbnRFcXVhbHMgfHwgT2JqZWN0LmVxdWFscztcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgaWYgKGluZGV4IGluIHRoaXMgJiYgZXF1YWxzKHZhbHVlLCB0aGlzW2luZGV4XSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59KTtcblxuLy8gVE9ETyByZW1vdmUgaW4gdjYgKG5vdCBwcmVzZW50IGluIHYyKVxuZGVmaW5lKFwiZmluZExhc3RcIiwgZnVuY3Rpb24gKHZhbHVlLCBlcXVhbHMpIHtcbiAgICBkZXByZWNhdGVkV2FybignQXJyYXkjZmluZExhc3QgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCBwbGVhc2UgdXNlIEFycmF5I2ZpbmRMYXN0VmFsdWUgaW5zdGVhZC4nKTtcbiAgICByZXR1cm4gdGhpcy5maW5kTGFzdFZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59KTtcblxuZGVmaW5lKFwiZmluZExhc3RWYWx1ZVwiLCBmdW5jdGlvbiAodmFsdWUsIGVxdWFscykge1xuICAgIGVxdWFscyA9IGVxdWFscyB8fCB0aGlzLmNvbnRlbnRFcXVhbHMgfHwgT2JqZWN0LmVxdWFscztcbiAgICB2YXIgaW5kZXggPSB0aGlzLmxlbmd0aDtcbiAgICBkbyB7XG4gICAgICAgIGluZGV4LS07XG4gICAgICAgIGlmIChpbmRleCBpbiB0aGlzICYmIGVxdWFscyh0aGlzW2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICB9IHdoaWxlIChpbmRleCA+IDApO1xuICAgIHJldHVybiAtMTtcbn0pO1xuXG5kZWZpbmUoXCJzd2FwXCIsIGZ1bmN0aW9uIChzdGFydCwgbGVuZ3RoLCBwbHVzKSB7XG4gICAgdmFyIGFyZ3MsIHBsdXNMZW5ndGgsIGksIGosIHJldHVyblZhbHVlO1xuICAgIGlmIChzdGFydCA+IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gc3RhcnQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGx1cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBhcmdzID0gW3N0YXJ0LCBsZW5ndGhdO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocGx1cykpIHtcbiAgICAgICAgICAgIHBsdXMgPSBhcnJheV9zbGljZS5jYWxsKHBsdXMpO1xuICAgICAgICB9XG4gICAgICAgIGkgPSAwO1xuICAgICAgICBwbHVzTGVuZ3RoID0gcGx1cy5sZW5ndGg7XG4gICAgICAgIC8vIDEwMDAgaXMgYSBtYWdpYyBudW1iZXIsIHByZXN1bWVkIHRvIGJlIHNtYWxsZXIgdGhhbiB0aGUgcmVtYWluaW5nXG4gICAgICAgIC8vIHN0YWNrIGxlbmd0aC4gRm9yIHN3YXBzIHRoaXMgc21hbGwsIHdlIHRha2UgdGhlIGZhc3QgcGF0aCBhbmQganVzdFxuICAgICAgICAvLyB1c2UgdGhlIHVuZGVybHlpbmcgQXJyYXkgc3BsaWNlLiBXZSBjb3VsZCBtZWFzdXJlIHRoZSBleGFjdCBzaXplIG9mXG4gICAgICAgIC8vIHRoZSByZW1haW5pbmcgc3RhY2sgdXNpbmcgYSB0cnkvY2F0Y2ggYXJvdW5kIGFuIHVuYm91bmRlZCByZWN1cnNpdmVcbiAgICAgICAgLy8gZnVuY3Rpb24sIGJ1dCB0aGlzIHdvdWxkIGRlZmVhdCB0aGUgcHVycG9zZSBvZiBzaG9ydC1jaXJjdWl0aW5nIGluXG4gICAgICAgIC8vIHRoZSBjb21tb24gY2FzZS5cbiAgICAgICAgaWYgKHBsdXNMZW5ndGggPCAxMDAwKSB7XG4gICAgICAgICAgICBmb3IgKGk7IGkgPCBwbHVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBhcmdzW2krMl0gPSBwbHVzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFycmF5X3NwbGljZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEF2b2lkIG1heGltdW0gY2FsbCBzdGFjayBlcnJvci5cbiAgICAgICAgICAgIC8vIEZpcnN0IGRlbGV0ZSB0aGUgZGVzaXJlZCBlbnRyaWVzLlxuICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBhcnJheV9zcGxpY2UuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAvLyBTZWNvbmQgYmF0Y2ggaW4gMTAwMHMuXG4gICAgICAgICAgICBmb3IgKGk7IGkgPCBwbHVzTGVuZ3RoOykge1xuICAgICAgICAgICAgICAgIGFyZ3MgPSBbc3RhcnQraSwgMF07XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMjsgaiA8IDEwMDIgJiYgaSA8IHBsdXNMZW5ndGg7IGorKywgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3Nbal0gPSBwbHVzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcnJheV9zcGxpY2UuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgICAgIH1cbiAgICAvLyB1c2luZyBjYWxsIHJhdGhlciB0aGFuIGFwcGx5IHRvIGN1dCBkb3duIG9uIHRyYW5zaWVudCBvYmplY3RzXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbGVuZ3RoICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBhcnJheV9zcGxpY2UuY2FsbCh0aGlzLCBzdGFydCwgbGVuZ3RoKTtcbiAgICB9ICBlbHNlIGlmICh0eXBlb2Ygc3RhcnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5X3NwbGljZS5jYWxsKHRoaXMsIHN0YXJ0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufSk7XG5cbmRlZmluZShcInBlZWtcIiwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzWzBdO1xufSk7XG5cbmRlZmluZShcInBva2VcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzWzBdID0gdmFsdWU7XG4gICAgfVxufSk7XG5cbmRlZmluZShcInBlZWtCYWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3RoaXMubGVuZ3RoIC0gMV07XG4gICAgfVxufSk7XG5cbmRlZmluZShcInBva2VCYWNrXCIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpc1t0aGlzLmxlbmd0aCAtIDFdID0gdmFsdWU7XG4gICAgfVxufSk7XG5cbmRlZmluZShcIm9uZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgaSBpbiB0aGlzKSB7XG4gICAgICAgIGlmIChPYmplY3Qub3ducyh0aGlzLCBpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbaV07XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuaWYgKCFBcnJheS5wcm90b3R5cGUuY2xlYXIpIHtcbiAgICBkZWZpbmUoXCJjbGVhclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSk7XG59XG5cbmRlZmluZShcImNvbXBhcmVcIiwgZnVuY3Rpb24gKHRoYXQsIGNvbXBhcmUpIHtcbiAgICBjb21wYXJlID0gY29tcGFyZSB8fCBPYmplY3QuY29tcGFyZTtcbiAgICB2YXIgaTtcbiAgICB2YXIgbGVuZ3RoO1xuICAgIHZhciBsaHM7XG4gICAgdmFyIHJocztcbiAgICB2YXIgcmVsYXRpdmU7XG5cbiAgICBpZiAodGhpcyA9PT0gdGhhdCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBpZiAoIXRoYXQgfHwgIUFycmF5LmlzQXJyYXkodGhhdCkpIHtcbiAgICAgICAgcmV0dXJuIGdlbmVyaWNPcmRlci5wcm90b3R5cGUuY29tcGFyZS5jYWxsKHRoaXMsIHRoYXQsIGNvbXBhcmUpO1xuICAgIH1cblxuICAgIGxlbmd0aCA9ICh0aGlzLmxlbmd0aCA8IHRoYXQubGVuZ3RoKSA/IHRoaXMubGVuZ3RoIDogdGhhdC5sZW5ndGg7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkgaW4gdGhpcykge1xuICAgICAgICAgICAgaWYgKCEoaSBpbiB0aGF0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGhzID0gdGhpc1tpXTtcbiAgICAgICAgICAgICAgICByaHMgPSB0aGF0W2ldO1xuICAgICAgICAgICAgICAgIHJlbGF0aXZlID0gY29tcGFyZShsaHMsIHJocyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWxhdGl2ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaSBpbiB0aGF0KSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmxlbmd0aCAtIHRoYXQubGVuZ3RoO1xufSk7XG5cbmRlZmluZShcImVxdWFsc1wiLCBmdW5jdGlvbiAodGhhdCwgZXF1YWxzKSB7XG4gICAgZXF1YWxzID0gZXF1YWxzIHx8IE9iamVjdC5lcXVhbHM7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aDtcbiAgICB2YXIgbGVmdDtcbiAgICB2YXIgcmlnaHQ7XG5cbiAgICBpZiAodGhpcyA9PT0gdGhhdCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCF0aGF0IHx8ICFBcnJheS5pc0FycmF5KHRoYXQpKSB7XG4gICAgICAgIHJldHVybiBnZW5lcmljT3JkZXIucHJvdG90eXBlLmVxdWFscy5jYWxsKHRoaXMsIHRoYXQpO1xuICAgIH1cblxuICAgIGlmIChsZW5ndGggIT09IHRoYXQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoaSBpbiB0aGlzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoaSBpbiB0aGF0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxlZnQgPSB0aGlzW2ldO1xuICAgICAgICAgICAgICAgIHJpZ2h0ID0gdGhhdFtpXTtcbiAgICAgICAgICAgICAgICBpZiAoIWVxdWFscyhsZWZ0LCByaWdodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgaW4gdGhhdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufSk7XG5cbmRlZmluZShcImNsb25lXCIsIGZ1bmN0aW9uIChkZXB0aCwgbWVtbykge1xuICAgIGlmIChkZXB0aCA9PSBudWxsKSB7XG4gICAgICAgIGRlcHRoID0gSW5maW5pdHk7XG4gICAgfSBlbHNlIGlmIChkZXB0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgbWVtbyA9IG1lbW8gfHwgbmV3IHdlYWtNYXAkMSgpO1xuICAgIGlmIChtZW1vLmhhcyh0aGlzKSkge1xuICAgICAgICByZXR1cm4gbWVtby5nZXQodGhpcyk7XG4gICAgfVxuICAgIHZhciBjbG9uZSA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCk7XG4gICAgbWVtby5zZXQodGhpcywgY2xvbmUpO1xuICAgIGZvciAodmFyIGkgaW4gdGhpcykge1xuICAgICAgICBjbG9uZVtpXSA9IE9iamVjdC5jbG9uZSh0aGlzW2ldLCBkZXB0aCAtIDEsIG1lbW8pO1xuICAgIH0gICAgcmV0dXJuIGNsb25lO1xufSk7XG5cbmRlZmluZShcIml0ZXJhdGVcIiwgZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gbmV3IEFycmF5SXRlcmF0b3IodGhpcywgc3RhcnQsIGVuZCk7XG59KTtcblxuaWYoQXJyYXkucHJvdG90eXBlLnNwbGljZU9uZSA9PT0gdm9pZCAwKSB7XG4gICAgZGVmaW5lKFwic3BsaWNlT25lXCIsIGZ1bmN0aW9uIChpbmRleCxpdGVtVG9BZGQpIHtcbiAgICAgICAgdmFyIGxlbj10aGlzLmxlbmd0aDtcbiAgICAgICAgaWYgKCFsZW4pIHsgcmV0dXJuIH1cbiAgICAgICAgaWYoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgd2hpbGUgKGluZGV4PGxlbikge1xuICAgICAgICAgICAgICAgIHRoaXNbaW5kZXhdID0gdGhpc1tpbmRleCsxXTtcbiAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sZW5ndGgtLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNbaW5kZXhdID0gaXRlbVRvQWRkO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmRlZmluZShcIkl0ZXJhdG9yXCIsIEFycmF5SXRlcmF0b3IpO1xuXG5mdW5jdGlvbiBBcnJheUl0ZXJhdG9yKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xuICAgIHRoaXMuc3RhcnQgPSBzdGFydCA9PSBudWxsID8gMCA6IHN0YXJ0O1xuICAgIHRoaXMuZW5kID0gZW5kO1xufVxuXG5BcnJheUl0ZXJhdG9yLnByb3RvdHlwZS5fX2l0ZXJhdGlvbk9iamVjdCA9IG51bGw7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlJdGVyYXRvci5wcm90b3R5cGUsXCJfaXRlcmF0aW9uT2JqZWN0XCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdGlvbk9iamVjdCB8fCAodGhpcy5fX2l0ZXJhdGlvbk9iamVjdCA9IHsgZG9uZTogZmFsc2UsIHZhbHVlOm51bGx9KTtcbiAgICB9XG59KTtcblxuQXJyYXlJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zdGFydCA9PT0gKHRoaXMuZW5kID09IG51bGwgPyB0aGlzLmFycmF5Lmxlbmd0aCA6IHRoaXMuZW5kKSkge1xuICAgICAgICB0aGlzLl9pdGVyYXRpb25PYmplY3QuZG9uZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2l0ZXJhdGlvbk9iamVjdC52YWx1ZSA9IHZvaWQgMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9pdGVyYXRpb25PYmplY3QudmFsdWUgPSB0aGlzLmFycmF5W3RoaXMuc3RhcnQrK107XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9pdGVyYXRpb25PYmplY3Q7XG59O1xuXG4vKipcbiAgICBhY2NlcHRzIGEgc3RyaW5nOyByZXR1cm5zIHRoZSBzdHJpbmcgd2l0aCByZWdleCBtZXRhY2hhcmFjdGVycyBlc2NhcGVkLlxuICAgIHRoZSByZXR1cm5lZCBzdHJpbmcgY2FuIHNhZmVseSBiZSB1c2VkIHdpdGhpbiBhIHJlZ2V4IHRvIG1hdGNoIGEgbGl0ZXJhbFxuICAgIHN0cmluZy4gZXNjYXBlZCBjaGFyYWN0ZXJzIGFyZSBbLCBdLCB7LCB9LCAoLCApLCAtLCAqLCArLCA/LCAuLCBcXCwgXiwgJCxcbiAgICB8LCAjLCBbY29tbWFdLCBhbmQgd2hpdGVzcGFjZS5cbiovXG5pZiAoIVJlZ0V4cC5lc2NhcGUpIHtcbiAgICB2YXIgc3BlY2lhbCA9IC9bLVtcXF17fSgpKis/LlxcXFxeJHwsI1xcc10vZztcbiAgICBSZWdFeHAuZXNjYXBlID0gZnVuY3Rpb24gKHN0cmluZykge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2Uoc3BlY2lhbCwgXCJcXFxcJCZcIik7XG4gICAgfTtcbn1cblxudmFyIHNoaW1SZWdleHAgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG5cdF9fcHJvdG9fXzogbnVsbFxufSk7XG5cbmdldENqc0V4cG9ydEZyb21OYW1lc3BhY2Uoc2hpbVJlZ2V4cCk7XG5cbnZhciBnZW5lcmljU2V0ID0gR2VuZXJpY1NldDtcbmZ1bmN0aW9uIEdlbmVyaWNTZXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgY29uc3RydWN0LiBHZW5lcmljU2V0IGlzIGEgbWl4aW4uXCIpO1xufVxuXG5HZW5lcmljU2V0LnByb3RvdHlwZS5pc1NldCA9IHRydWU7XG5cbkdlbmVyaWNTZXQucHJvdG90eXBlLnVuaW9uID0gZnVuY3Rpb24gKHRoYXQpIHtcbiAgICB2YXIgdW5pb24gPSAgdGhpcy5jb25zdHJ1Y3RDbG9uZSh0aGlzKTtcbiAgICB1bmlvbi5hZGRFYWNoKHRoYXQpO1xuICAgIHJldHVybiB1bmlvbjtcbn07XG5cbkdlbmVyaWNTZXQucHJvdG90eXBlLmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0Q2xvbmUodGhpcy5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGF0Lmhhcyh2YWx1ZSk7XG4gICAgfSkpO1xufTtcblxuR2VuZXJpY1NldC5wcm90b3R5cGUuZGlmZmVyZW5jZSA9IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgdmFyIHVuaW9uID0gIHRoaXMuY29uc3RydWN0Q2xvbmUodGhpcyk7XG4gICAgdW5pb24uZGVsZXRlRWFjaCh0aGF0KTtcbiAgICByZXR1cm4gdW5pb247XG59O1xuXG5HZW5lcmljU2V0LnByb3RvdHlwZS5zeW1tZXRyaWNEaWZmZXJlbmNlID0gZnVuY3Rpb24gKHRoYXQpIHtcbiAgICB2YXIgdW5pb24gPSB0aGlzLnVuaW9uKHRoYXQpO1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSB0aGlzLmludGVyc2VjdGlvbih0aGF0KTtcbiAgICByZXR1cm4gdW5pb24uZGlmZmVyZW5jZShpbnRlcnNlY3Rpb24pO1xufTtcblxuR2VuZXJpY1NldC5wcm90b3R5cGUuZGVsZXRlQWxsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gZGVsZXRlQWxsIGlzIGVxdWl2YWxlbnQgdG8gZGVsZXRlIGZvciBzZXRzIHNpbmNlIHRoZXkgZ3VhcmFudGVlIHRoYXRcbiAgICAvLyBvbmx5IG9uZSB2YWx1ZSBleGlzdHMgZm9yIGFuIGVxdWl2YWxlbmNlIGNsYXNzLCBidXQgZGVsZXRlQWxsIHJldHVybnNcbiAgICAvLyB0aGUgY291bnQgb2YgZGVsZXRlZCB2YWx1ZXMgaW5zdGVhZCBvZiB3aGV0aGVyIGEgdmFsdWUgd2FzIGRlbGV0ZWQuXG4gICAgcmV0dXJuICt0aGlzW1wiZGVsZXRlXCJdKHZhbHVlKTtcbn07XG5cbkdlbmVyaWNTZXQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uICh0aGF0LCBlcXVhbHMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIChcbiAgICAgICAgdGhhdCAmJiB0eXBlb2YgdGhhdC5yZWR1Y2UgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICB0aGlzLmxlbmd0aCA9PT0gdGhhdC5sZW5ndGggJiZcbiAgICAgICAgdGhhdC5yZWR1Y2UoZnVuY3Rpb24gKGVxdWFsLCB2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGVxdWFsICYmIHNlbGYuaGFzKHZhbHVlLCBlcXVhbHMpO1xuICAgICAgICB9LCB0cnVlKVxuICAgICk7XG59O1xuXG5HZW5lcmljU2V0LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrIC8qLCB0aGlzcCovKSB7XG4gICAgdmFyIHRoaXNwID0gYXJndW1lbnRzWzFdO1xuICAgIHJldHVybiB0aGlzLnJlZHVjZShmdW5jdGlvbiAodW5kZWZpbmVkJDEsIHZhbHVlLCBrZXksIG9iamVjdCwgZGVwdGgpIHtcbiAgICAgICAgLy9FQ01BU0NSSVBUIFNldHMgc2VuZCB2YWx1ZSB0d2ljZSBpbiBjYWxsYmFjayB0byBmb3JFYWNoXG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc3AsIHZhbHVlLCB2YWx1ZSwgb2JqZWN0LCBkZXB0aCk7XG4gICAgfSwgdW5kZWZpbmVkKTtcbn07XG5cblxuR2VuZXJpY1NldC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKTtcbn07XG5cbi8vIFczQyBET01Ub2tlbkxpc3QgQVBJIG92ZXJsYXAgKGRvZXMgbm90IGhhbmRsZSB2YXJpYWRpYyBhcmd1bWVudHMpXG5cbkdlbmVyaWNTZXQucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzKHZhbHVlKTtcbn07XG5cbkdlbmVyaWNTZXQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzW1wiZGVsZXRlXCJdKHZhbHVlKTtcbn07XG5cbkdlbmVyaWNTZXQucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgdGhpc1tcImRlbGV0ZVwiXSh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hZGQodmFsdWUpO1xuICAgIH1cbn07XG5cbnZhciBfdmFsdWVzQXJyYXlGdW5jdGlvbiA9IGZ1bmN0aW9uKHZhbHVlLGtleSkge3JldHVybiB2YWx1ZTt9O1xuR2VuZXJpY1NldC5wcm90b3R5cGUudmFsdWVzQXJyYXkgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoX3ZhbHVlc0FycmF5RnVuY3Rpb24pO1xufTtcbnZhciBfZW50cmllc0FycmF5RnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSxrZXkpIHtyZXR1cm4gW2tleSx2YWx1ZV07fTtcbkdlbmVyaWNTZXQucHJvdG90eXBlLmVudHJpZXNBcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChfZW50cmllc0FycmF5RnVuY3Rpb24pO1xufTtcblxudmFyIF9saXN0ID0gTGlzdDtcblxuXG5cblxuXG5mdW5jdGlvbiBMaXN0KHZhbHVlcywgZXF1YWxzLCBnZXREZWZhdWx0KSB7XG4gICAgcmV0dXJuIExpc3QuX2luaXQoTGlzdCwgdGhpcywgdmFsdWVzLCBlcXVhbHMsIGdldERlZmF1bHQpO1xufVxuXG5MaXN0Ll9pbml0ID0gZnVuY3Rpb24gKGNvbnN0cnVjdG9yLCBvYmplY3QsIHZhbHVlcywgZXF1YWxzLCBnZXREZWZhdWx0KSB7XG4gICAgaWYgKCEob2JqZWN0IGluc3RhbmNlb2YgY29uc3RydWN0b3IpKSB7XG4gICAgICAgIHJldHVybiBuZXcgY29uc3RydWN0b3IodmFsdWVzLCBlcXVhbHMsIGdldERlZmF1bHQpO1xuICAgIH1cbiAgICB2YXIgaGVhZCA9IG9iamVjdC5oZWFkID0gbmV3IG9iamVjdC5Ob2RlKCk7XG4gICAgaGVhZC5uZXh0ID0gaGVhZDtcbiAgICBoZWFkLnByZXYgPSBoZWFkO1xuICAgIG9iamVjdC5jb250ZW50RXF1YWxzID0gZXF1YWxzIHx8IE9iamVjdC5lcXVhbHM7XG4gICAgb2JqZWN0LmdldERlZmF1bHQgPSBnZXREZWZhdWx0IHx8IEZ1bmN0aW9uLm5vb3A7XG4gICAgb2JqZWN0Lmxlbmd0aCA9IDA7XG4gICAgb2JqZWN0LmFkZEVhY2godmFsdWVzKTtcbn07XG5cbkxpc3QuTGlzdCA9IExpc3Q7IC8vIGhhY2sgc28gcmVxdWlyZShcImxpc3RcIikuTGlzdCB3aWxsIHdvcmsgaW4gTW9udGFnZUpTXG5cbk9iamVjdC5hZGRFYWNoKExpc3QucHJvdG90eXBlLCBnZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUpO1xuT2JqZWN0LmFkZEVhY2goTGlzdC5wcm90b3R5cGUsIGdlbmVyaWNPcmRlci5wcm90b3R5cGUpO1xuXG5MaXN0LmZyb20gPSBnZW5lcmljQ29sbGVjdGlvbi5mcm9tO1xuXG5MaXN0LnByb3RvdHlwZS5jb25zdHJ1Y3RDbG9uZSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodmFsdWVzLCB0aGlzLmNvbnRlbnRFcXVhbHMsIHRoaXMuZ2V0RGVmYXVsdCk7XG59O1xuXG5MaXN0LnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKHZhbHVlLCBlcXVhbHMsIGluZGV4KSB7XG4gICAgZXF1YWxzID0gZXF1YWxzIHx8IHRoaXMuY29udGVudEVxdWFscztcbiAgICB2YXIgaGVhZCA9IHRoaXMuaGVhZDtcbiAgICB2YXIgYXQgPSB0aGlzLnNjYW4oaW5kZXgsIGhlYWQubmV4dCk7XG4gICAgd2hpbGUgKGF0ICE9PSBoZWFkKSB7XG4gICAgICAgIGlmIChlcXVhbHMoYXQudmFsdWUsIHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGF0O1xuICAgICAgICB9XG4gICAgICAgIGF0ID0gYXQubmV4dDtcbiAgICB9XG59O1xuXG5MaXN0LnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uICh2YWx1ZSwgZXF1YWxzLCBpbmRleCkge1xuICAgIGVxdWFscyA9IGVxdWFscyB8fCB0aGlzLmNvbnRlbnRFcXVhbHM7XG4gICAgdmFyIGhlYWQgPSB0aGlzLmhlYWQ7XG4gICAgdmFyIGF0ID0gdGhpcy5zY2FuKGluZGV4LCBoZWFkLnByZXYpO1xuICAgIHdoaWxlIChhdCAhPT0gaGVhZCkge1xuICAgICAgICBpZiAoZXF1YWxzKGF0LnZhbHVlLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBhdDtcbiAgICAgICAgfVxuICAgICAgICBhdCA9IGF0LnByZXY7XG4gICAgfVxufTtcblxuTGlzdC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKHZhbHVlLCBlcXVhbHMpIHtcbiAgICByZXR1cm4gISF0aGlzLmZpbmQodmFsdWUsIGVxdWFscyk7XG59O1xuXG5MaXN0LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodmFsdWUsIGVxdWFscykge1xuICAgIHZhciBmb3VuZCA9IHRoaXMuZmluZCh2YWx1ZSwgZXF1YWxzKTtcbiAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgcmV0dXJuIGZvdW5kLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5nZXREZWZhdWx0KHZhbHVlKTtcbn07XG5cbi8vIExJRk8gKGRlbGV0ZSByZW1vdmVzIHRoZSBtb3N0IHJlY2VudGx5IGFkZGVkIGVxdWl2YWxlbnQgdmFsdWUpXG5MaXN0LnByb3RvdHlwZVtcImRlbGV0ZVwiXSA9IGZ1bmN0aW9uICh2YWx1ZSwgZXF1YWxzKSB7XG4gICAgdmFyIGZvdW5kID0gdGhpcy5maW5kTGFzdCh2YWx1ZSwgZXF1YWxzKTtcbiAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgZm91bmRbXCJkZWxldGVcIl0oKTtcbiAgICAgICAgdGhpcy5sZW5ndGgtLTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbkxpc3QucHJvdG90eXBlLmRlbGV0ZUFsbCA9IGZ1bmN0aW9uICh2YWx1ZSwgZXF1YWxzKSB7XG4gICAgZXF1YWxzID0gZXF1YWxzIHx8IHRoaXMuY29udGVudEVxdWFscztcbiAgICB2YXIgaGVhZCA9IHRoaXMuaGVhZDtcbiAgICB2YXIgYXQgPSBoZWFkLm5leHQ7XG4gICAgdmFyIGNvdW50ID0gMDtcbiAgICB3aGlsZSAoYXQgIT09IGhlYWQpIHtcbiAgICAgICAgaWYgKGVxdWFscyh2YWx1ZSwgYXQudmFsdWUpKSB7XG4gICAgICAgICAgICBhdFtcImRlbGV0ZVwiXSgpO1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBhdCA9IGF0Lm5leHQ7XG4gICAgfVxuICAgIHRoaXMubGVuZ3RoIC09IGNvdW50O1xuICAgIHJldHVybiBjb3VudDtcbn07XG5cbkxpc3QucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaGVhZC5uZXh0ID0gdGhpcy5oZWFkLnByZXYgPSB0aGlzLmhlYWQ7XG4gICAgdGhpcy5sZW5ndGggPSAwO1xufTtcblxuTGlzdC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIG5vZGUgPSBuZXcgdGhpcy5Ob2RlKHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcy5fYWRkTm9kZShub2RlKTtcbn07XG5cbkxpc3QucHJvdG90eXBlLl9hZGROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICB0aGlzLmhlYWQuYWRkQmVmb3JlKG5vZGUpO1xuICAgIHRoaXMubGVuZ3RoKys7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5MaXN0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBoZWFkID0gdGhpcy5oZWFkO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgdmFyIG5vZGUgPSBuZXcgdGhpcy5Ob2RlKHZhbHVlKTtcbiAgICAgICAgaGVhZC5hZGRCZWZvcmUobm9kZSk7XG4gICAgfVxuICAgIHRoaXMubGVuZ3RoICs9IGFyZ3VtZW50cy5sZW5ndGg7XG59O1xuXG5MaXN0LnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhdCA9IHRoaXMuaGVhZDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHNbaV07XG4gICAgICAgIHZhciBub2RlID0gbmV3IHRoaXMuTm9kZSh2YWx1ZSk7XG4gICAgICAgIGF0LmFkZEFmdGVyKG5vZGUpO1xuICAgICAgICBhdCA9IG5vZGU7XG4gICAgfVxuICAgIHRoaXMubGVuZ3RoICs9IGFyZ3VtZW50cy5sZW5ndGg7XG59O1xuXG5MaXN0LnByb3RvdHlwZS5fc2hvdWxkUG9wID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB2YWx1ZTtcbiAgICB2YXIgaGVhZCA9IHRoaXMuaGVhZDtcbiAgICBpZiAoaGVhZC5wcmV2ICE9PSBoZWFkKSB7XG4gICAgICAgIHZhbHVlID0gaGVhZC5wcmV2LnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG5MaXN0LnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoX2JlZm9yZSwgX2FmdGVyKSB7XG4gICAgdmFyIHZhbHVlO1xuICAgIHZhciBoZWFkID0gdGhpcy5oZWFkO1xuICAgIGlmIChoZWFkLnByZXYgIT09IGhlYWQpIHtcbiAgICAgICAgdmFsdWUgPSBoZWFkLnByZXYudmFsdWU7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMubGVuZ3RoIC0gMTtcbiAgICAgICAgdmFyIHBvcERpc3BhdGNoVmFsdWVBcnJheSA9IF9iZWZvcmUgPyBfYmVmb3JlLmNhbGwodGhpcyx2YWx1ZSxpbmRleCkgOiB2b2lkIDA7XG4gICAgICAgIGhlYWQucHJldlsnZGVsZXRlJ10oKTtcbiAgICAgICAgdGhpcy5sZW5ndGgtLTtcbiAgICAgICAgX2FmdGVyID8gX2FmdGVyLmNhbGwodGhpcyx2YWx1ZSxpbmRleCwgcG9wRGlzcGF0Y2hWYWx1ZUFycmF5KSA6IHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxuTGlzdC5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbiAoX2JlZm9yZSwgX2FmdGVyKSB7XG4gICAgdmFyIHZhbHVlO1xuICAgIHZhciBoZWFkID0gdGhpcy5oZWFkO1xuICAgIGlmIChoZWFkLnByZXYgIT09IGhlYWQpIHtcbiAgICAgICAgdmFsdWUgPSBoZWFkLm5leHQudmFsdWU7XG4gICAgICAgIHZhciBkaXNwYXRjaFZhbHVlQXJyYXkgPSBfYmVmb3JlID8gX2JlZm9yZS5jYWxsKHRoaXMsdmFsdWUsMCkgOiB2b2lkIDA7XG4gICAgICAgIGhlYWQubmV4dFsnZGVsZXRlJ10oKTtcbiAgICAgICAgdGhpcy5sZW5ndGgtLTtcbiAgICAgICAgX2FmdGVyID8gX2FmdGVyLmNhbGwodGhpcyx2YWx1ZSwwLGRpc3BhdGNoVmFsdWVBcnJheSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbkxpc3QucHJvdG90eXBlLnBlZWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuaGVhZCAhPT0gdGhpcy5oZWFkLm5leHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVhZC5uZXh0LnZhbHVlO1xuICAgIH1cbn07XG5cbkxpc3QucHJvdG90eXBlLnBva2UgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodGhpcy5oZWFkICE9PSB0aGlzLmhlYWQubmV4dCkge1xuICAgICAgICB0aGlzLmhlYWQubmV4dC52YWx1ZSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHVzaCh2YWx1ZSk7XG4gICAgfVxufTtcblxuTGlzdC5wcm90b3R5cGUub25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnBlZWsoKTtcbn07XG5cbi8vIFRPRE9cbi8vIExpc3QucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiAodmFsdWUpIHtcbi8vIH07XG5cbi8vIFRPRE9cbi8vIExpc3QucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4vLyB9O1xuXG4vLyBhbiBpbnRlcm5hbCB1dGlsaXR5IGZvciBjb2VyY2luZyBpbmRleCBvZmZzZXRzIHRvIG5vZGVzXG5MaXN0LnByb3RvdHlwZS5zY2FuID0gZnVuY3Rpb24gKGF0LCBmYWxsYmFjaykge1xuICAgIHZhciBoZWFkID0gdGhpcy5oZWFkO1xuICAgIGlmICh0eXBlb2YgYXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgdmFyIGNvdW50ID0gYXQ7XG4gICAgICAgIGlmIChjb3VudCA+PSAwKSB7XG4gICAgICAgICAgICBhdCA9IGhlYWQubmV4dDtcbiAgICAgICAgICAgIHdoaWxlIChjb3VudCkge1xuICAgICAgICAgICAgICAgIGNvdW50LS07XG4gICAgICAgICAgICAgICAgYXQgPSBhdC5uZXh0O1xuICAgICAgICAgICAgICAgIGlmIChhdCA9PSBoZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF0ID0gaGVhZDtcbiAgICAgICAgICAgIHdoaWxlIChjb3VudCA8IDApIHtcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgIGF0ID0gYXQucHJldjtcbiAgICAgICAgICAgICAgICBpZiAoYXQgPT0gaGVhZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhdCB8fCBmYWxsYmFjaztcbiAgICB9XG59O1xuXG4vLyBhdCBhbmQgZW5kIG1heSBib3RoIGJlIHBvc2l0aXZlIG9yIG5lZ2F0aXZlIG51bWJlcnMgKGluIHdoaWNoIGNhc2VzIHRoZXlcbi8vIGNvcnJlc3BvbmQgdG8gbnVtZXJpYyBpbmRpY2llcywgb3Igbm9kZXMpXG5MaXN0LnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIChhdCwgZW5kKSB7XG4gICAgdmFyIHNsaWNlZCA9IFtdO1xuICAgIHZhciBoZWFkID0gdGhpcy5oZWFkO1xuICAgIGF0ID0gdGhpcy5zY2FuKGF0LCBoZWFkLm5leHQpO1xuICAgIGVuZCA9IHRoaXMuc2NhbihlbmQsIGhlYWQpO1xuXG4gICAgd2hpbGUgKGF0ICE9PSBlbmQgJiYgYXQgIT09IGhlYWQpIHtcbiAgICAgICAgc2xpY2VkLnB1c2goYXQudmFsdWUpO1xuICAgICAgICBhdCA9IGF0Lm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNsaWNlZDtcbn07XG5cbkxpc3QucHJvdG90eXBlLnNwbGljZSA9IGZ1bmN0aW9uIChhdCwgbGVuZ3RoIC8qLi4ucGx1cyovKSB7XG4gICAgcmV0dXJuIHRoaXMuc3dhcChhdCwgbGVuZ3RoLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKTtcbn07XG5cbkxpc3QucHJvdG90eXBlLnN3YXAgPSBmdW5jdGlvbiAoc3RhcnQsIGxlbmd0aCwgcGx1cywgX2JlZm9yZSwgX2FmdGVyKSB7XG4gICAgdmFyIGluaXRpYWwgPSBzdGFydDtcbiAgICAvLyBzdGFydCB3aWxsIGJlIGhlYWQgaWYgc3RhcnQgaXMgbnVsbCBvciAtMSAobWVhbmluZyBmcm9tIHRoZSBlbmQpLCBidXRcbiAgICAvLyB3aWxsIGJlIGhlYWQubmV4dCBpZiBzdGFydCBpcyAwIChtZWFuaW5nIGZyb20gdGhlIGJlZ2lubmluZylcbiAgICBzdGFydCA9IHRoaXMuc2NhbihzdGFydCwgdGhpcy5oZWFkKTtcbiAgICBpZiAobGVuZ3RoID09IG51bGwpIHtcbiAgICAgICAgbGVuZ3RoID0gSW5maW5pdHk7XG4gICAgfVxuICAgIHBsdXMgPSBBcnJheS5mcm9tKHBsdXMpO1xuXG4gICAgLy8gY29sbGVjdCB0aGUgbWludXMgYXJyYXlcbiAgICB2YXIgbWludXMgPSBbXTtcbiAgICB2YXIgYXQgPSBzdGFydDtcbiAgICB3aGlsZSAobGVuZ3RoLS0gJiYgbGVuZ3RoID49IDAgJiYgYXQgIT09IHRoaXMuaGVhZCkge1xuICAgICAgICBtaW51cy5wdXNoKGF0LnZhbHVlKTtcbiAgICAgICAgYXQgPSBhdC5uZXh0O1xuICAgIH1cblxuICAgIC8vIGJlZm9yZSByYW5nZSBjaGFuZ2VcbiAgICB2YXIgaW5kZXg7XG4gICAgaW5kZXggPSBfYmVmb3JlID8gX2JlZm9yZS5jYWxsKHRoaXMsIHN0YXJ0LCBwbHVzLCBtaW51cykgOiB2b2lkIDA7XG5cbiAgICAvLyBkZWxldGUgbWludXNcbiAgICB2YXIgYXQgPSBzdGFydDtcbiAgICBmb3IgKHZhciBpID0gMCwgYXQgPSBzdGFydDsgaSA8IG1pbnVzLmxlbmd0aDsgaSsrLCBhdCA9IGF0Lm5leHQpIHtcbiAgICAgICAgYXRbXCJkZWxldGVcIl0oKTtcbiAgICB9XG4gICAgLy8gYWRkIHBsdXNcbiAgICBpZiAoaW5pdGlhbCA9PSBudWxsICYmIGF0ID09PSB0aGlzLmhlYWQpIHtcbiAgICAgICAgYXQgPSB0aGlzLmhlYWQubmV4dDtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwbHVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBub2RlID0gbmV3IHRoaXMuTm9kZShwbHVzW2ldKTtcbiAgICAgICAgYXQuYWRkQmVmb3JlKG5vZGUpO1xuICAgIH1cbiAgICAvLyBhZGp1c3QgbGVuZ3RoXG4gICAgdGhpcy5sZW5ndGggKz0gcGx1cy5sZW5ndGggLSBtaW51cy5sZW5ndGg7XG5cbiAgICBfYWZ0ZXIgPyBfYWZ0ZXIuY2FsbCh0aGlzLCBzdGFydCwgcGx1cywgbWludXMpIDogdm9pZCAwO1xuXG4gICAgcmV0dXJuIG1pbnVzO1xufTtcblxuTGlzdC5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXQgPSB0aGlzLmhlYWQ7XG4gICAgZG8ge1xuICAgICAgICB2YXIgdGVtcCA9IGF0Lm5leHQ7XG4gICAgICAgIGF0Lm5leHQgPSBhdC5wcmV2O1xuICAgICAgICBhdC5wcmV2ID0gdGVtcDtcbiAgICAgICAgYXQgPSBhdC5uZXh0O1xuICAgIH0gd2hpbGUgKGF0ICE9PSB0aGlzLmhlYWQpO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuTGlzdC5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnN3YXAoMCwgdGhpcy5sZW5ndGgsIHRoaXMuc29ydGVkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xufTtcblxuLy8gVE9ETyBhY2NvdW50IGZvciBtaXNzaW5nIGJhc2lzIGFyZ3VtZW50XG5MaXN0LnByb3RvdHlwZS5yZWR1Y2UgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGJhc2lzIC8qLCB0aGlzcCovKSB7XG4gICAgdmFyIHRoaXNwID0gYXJndW1lbnRzWzJdO1xuICAgIHZhciBoZWFkID0gdGhpcy5oZWFkO1xuICAgIHZhciBhdCA9IGhlYWQubmV4dDtcbiAgICB3aGlsZSAoYXQgIT09IGhlYWQpIHtcbiAgICAgICAgYmFzaXMgPSBjYWxsYmFjay5jYWxsKHRoaXNwLCBiYXNpcywgYXQudmFsdWUsIGF0LCB0aGlzKTtcbiAgICAgICAgYXQgPSBhdC5uZXh0O1xuICAgIH1cbiAgICByZXR1cm4gYmFzaXM7XG59O1xuXG5MaXN0LnByb3RvdHlwZS5yZWR1Y2VSaWdodCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgYmFzaXMgLyosIHRoaXNwKi8pIHtcbiAgICB2YXIgdGhpc3AgPSBhcmd1bWVudHNbMl07XG4gICAgdmFyIGhlYWQgPSB0aGlzLmhlYWQ7XG4gICAgdmFyIGF0ID0gaGVhZC5wcmV2O1xuICAgIHdoaWxlIChhdCAhPT0gaGVhZCkge1xuICAgICAgICBiYXNpcyA9IGNhbGxiYWNrLmNhbGwodGhpc3AsIGJhc2lzLCBhdC52YWx1ZSwgYXQsIHRoaXMpO1xuICAgICAgICBhdCA9IGF0LnByZXY7XG4gICAgfVxuICAgIHJldHVybiBiYXNpcztcbn07XG5cbkxpc3QucHJvdG90eXBlLnVwZGF0ZUluZGV4ZXMgPSBmdW5jdGlvbiAobm9kZSwgaW5kZXgpIHtcbiAgICB3aGlsZSAobm9kZSAhPT0gdGhpcy5oZWFkKSB7XG4gICAgICAgIG5vZGUuaW5kZXggPSBpbmRleCsrO1xuICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xuICAgIH1cbn07XG5cblxuTGlzdC5wcm90b3R5cGUuaXRlcmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IExpc3RJdGVyYXRvcih0aGlzLmhlYWQpO1xufTtcblxuZnVuY3Rpb24gTGlzdEl0ZXJhdG9yKGhlYWQpIHtcbiAgICB0aGlzLmhlYWQgPSBoZWFkO1xuICAgIHRoaXMuYXQgPSBoZWFkLm5leHQ7XG59XG5MaXN0SXRlcmF0b3IucHJvdG90eXBlLl9faXRlcmF0aW9uT2JqZWN0ID0gbnVsbDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaXN0SXRlcmF0b3IucHJvdG90eXBlLFwiX2l0ZXJhdGlvbk9iamVjdFwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19pdGVyYXRpb25PYmplY3QgfHwgKHRoaXMuX19pdGVyYXRpb25PYmplY3QgPSB7IGRvbmU6IGZhbHNlLCB2YWx1ZTpudWxsfSk7XG4gICAgfVxufSk7XG5cblxuTGlzdEl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmF0ID09PSB0aGlzLmhlYWQpIHtcbiAgICAgICAgdGhpcy5faXRlcmF0aW9uT2JqZWN0LmRvbmUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9pdGVyYXRpb25PYmplY3QudmFsdWUgPSB2b2lkIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5hdC52YWx1ZTtcbiAgICAgICAgdGhpcy5hdCA9IHRoaXMuYXQubmV4dDtcbiAgICAgICAgdGhpcy5faXRlcmF0aW9uT2JqZWN0LnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9pdGVyYXRpb25PYmplY3Q7XG59O1xuXG5MaXN0LnByb3RvdHlwZS5Ob2RlID0gTm9kZTtcblxuZnVuY3Rpb24gTm9kZSh2YWx1ZSkge1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLnByZXYgPSBudWxsO1xuICAgIHRoaXMubmV4dCA9IG51bGw7XG59XG5Ob2RlLnByb3RvdHlwZVtcImRlbGV0ZVwiXSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnByZXYubmV4dCA9IHRoaXMubmV4dDtcbiAgICB0aGlzLm5leHQucHJldiA9IHRoaXMucHJldjtcbn07XG5cbk5vZGUucHJvdG90eXBlLmFkZEJlZm9yZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgdmFyIHByZXYgPSB0aGlzLnByZXY7XG4gICAgdGhpcy5wcmV2ID0gbm9kZTtcbiAgICBub2RlLnByZXYgPSBwcmV2O1xuICAgIHByZXYubmV4dCA9IG5vZGU7XG4gICAgbm9kZS5uZXh0ID0gdGhpcztcbn07XG5cbk5vZGUucHJvdG90eXBlLmFkZEFmdGVyID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICB2YXIgbmV4dCA9IHRoaXMubmV4dDtcbiAgICB0aGlzLm5leHQgPSBub2RlO1xuICAgIG5vZGUubmV4dCA9IG5leHQ7XG4gICAgbmV4dC5wcmV2ID0gbm9kZTtcbiAgICBub2RlLnByZXYgPSB0aGlzO1xufTtcblxudmFyIGl0ZXJhdG9yID0gSXRlcmF0b3I7XG5cblxuXG5cbi8vIHVwZ3JhZGVzIGFuIGl0ZXJhYmxlIHRvIGEgSXRlcmF0b3JcbmZ1bmN0aW9uIEl0ZXJhdG9yKGl0ZXJhYmxlLCBzdGFuZGFyZE1vZGUpIHtcblxuICAgIC8qXG4gICAgICAgIHN0YW5kYXJkTW9kZSBzaG91bGQgYmUgcGFzc2VkIGFzIHRydWUgYnkgYSBjb2xsZWN0aW9uIHRoYXQgdXNlcyBJdGVyYXRvclxuICAgICAgICB0byBwcm92aWRlIGEgcG9seWZpbGwgb2Ygc3RhbmRhcmQgaXRlcmF0aW9ucyBtZXRob2RzIGxpa2UgZW50cmllcygpIGFuZCB2YWx1ZXMoKSxcbiAgICAgICAgYXMgQ29sbGVjdGlvbidzIGl0ZXJhdG9yIGJlaGF2ZXMgZGlmZmVyZW50bHkgdGhhbiBzdGFuZGFyZHMgb25lcyB3aGVuIGl0IGNvbWVzIHRvIHNwYXJzZSBhcnJheXMuXG4gICAgICAgIHdpdGhvdXQgcGFzc2luZyBzdGFuZGFyZE1vZGUsIG5ldyBJdGVyYXRvciBpbnN0YW5jZXMgd2lsbCBiZWhhdmUgYXMgaW50ZW5kZWQgaW5kZXBlbmRlbnRseSBvZiBzdGFuZGFyZHMuXG4gICAgKi9cbiAgICB2YXIgdmFsdWVzID0gc3RhbmRhcmRNb2RlICYmIGl0ZXJhYmxlICYmIGl0ZXJhYmxlLnZhbHVlcyAmJiBpdGVyYWJsZS52YWx1ZXMoKTtcbiAgICBpZih2YWx1ZXMgJiYgdHlwZW9mIHZhbHVlcy5uZXh0ID09PSBcImZ1bmN0aW9uXCIgKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEl0ZXJhdG9yKSkge1xuICAgICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGl0ZXJhYmxlKTtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVyYWJsZSkgfHwgdHlwZW9mIGl0ZXJhYmxlID09PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4gSXRlcmF0b3IuaXRlcmF0ZShpdGVyYWJsZSk7XG5cbiAgICBpdGVyYWJsZSA9IHNoaW1PYmplY3QoaXRlcmFibGUpO1xuXG4gICAgaWYgKGl0ZXJhYmxlIGluc3RhbmNlb2YgSXRlcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgIH0gZWxzZSBpZiAoaXRlcmFibGUubmV4dCkge1xuICAgICAgICB0aGlzLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlcmFibGUubmV4dCgpO1xuICAgICAgICB9O1xuICAgIH0gZWxzZSBpZiAoaXRlcmFibGUuaXRlcmF0ZSkge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYWJsZS5pdGVyYXRlKCk7XG4gICAgICAgIHRoaXMubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmIChzaGltT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXJhYmxlKSA9PT0gXCJbb2JqZWN0IEZ1bmN0aW9uXVwiKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGl0ZXJhYmxlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW4ndCBpdGVyYXRlIFwiICsgaXRlcmFibGUpO1xuICAgIH1cblxufVxuXG5JdGVyYXRvci5wcm90b3R5cGUuZm9yRWFjaCA9IGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5mb3JFYWNoO1xuSXRlcmF0b3IucHJvdG90eXBlLm1hcCA9IGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5tYXA7XG5JdGVyYXRvci5wcm90b3R5cGUuZmlsdGVyID0gZ2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlcjtcbkl0ZXJhdG9yLnByb3RvdHlwZS5ldmVyeSA9IGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5ldmVyeTtcbkl0ZXJhdG9yLnByb3RvdHlwZS5zb21lID0gZ2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLnNvbWU7XG5JdGVyYXRvci5wcm90b3R5cGUuYW55ID0gZ2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLmFueTtcbkl0ZXJhdG9yLnByb3RvdHlwZS5hbGwgPSBnZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUuYWxsO1xuSXRlcmF0b3IucHJvdG90eXBlLm1pbiA9IGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5taW47XG5JdGVyYXRvci5wcm90b3R5cGUubWF4ID0gZ2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLm1heDtcbkl0ZXJhdG9yLnByb3RvdHlwZS5zdW0gPSBnZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUuc3VtO1xuSXRlcmF0b3IucHJvdG90eXBlLmF2ZXJhZ2UgPSBnZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUuYXZlcmFnZTtcbkl0ZXJhdG9yLnByb3RvdHlwZS5mbGF0dGVuID0gZ2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLmZsYXR0ZW47XG5JdGVyYXRvci5wcm90b3R5cGUuemlwID0gZ2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLnppcDtcbkl0ZXJhdG9yLnByb3RvdHlwZS5lbnVtZXJhdGUgPSBnZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUuZW51bWVyYXRlO1xuSXRlcmF0b3IucHJvdG90eXBlLnNvcnRlZCA9IGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS5zb3J0ZWQ7XG5JdGVyYXRvci5wcm90b3R5cGUuZ3JvdXAgPSBnZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUuZ3JvdXA7XG5JdGVyYXRvci5wcm90b3R5cGUucmV2ZXJzZWQgPSBnZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUucmV2ZXJzZWQ7XG5JdGVyYXRvci5wcm90b3R5cGUudG9BcnJheSA9IGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZS50b0FycmF5O1xuSXRlcmF0b3IucHJvdG90eXBlLnRvT2JqZWN0ID0gZ2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLnRvT2JqZWN0O1xuSXRlcmF0b3IucHJvdG90eXBlLml0ZXJhdG9yID0gZ2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLml0ZXJhdG9yO1xuXG5JdGVyYXRvci5wcm90b3R5cGUuX19pdGVyYXRpb25PYmplY3QgPSBudWxsO1xuc2hpbU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJdGVyYXRvci5wcm90b3R5cGUsXCJfaXRlcmF0aW9uT2JqZWN0XCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdGlvbk9iamVjdCB8fCAodGhpcy5fX2l0ZXJhdGlvbk9iamVjdCA9IHsgZG9uZTogZmFsc2UsIHZhbHVlOnZvaWQgMH0pO1xuICAgIH1cbn0pO1xuXG5cbi8vIHRoaXMgaXMgYSBiaXQgb2YgYSBjaGVhdCBzbyBmbGF0dGVuIGFuZCBzdWNoIHdvcmsgd2l0aCB0aGUgZ2VuZXJpY1xuLy8gcmVkdWNpYmxlXG5JdGVyYXRvci5wcm90b3R5cGUuY29uc3RydWN0Q2xvbmUgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgdmFyIGNsb25lID0gW107XG4gICAgY2xvbmUuYWRkRWFjaCh2YWx1ZXMpO1xuICAgIHJldHVybiBjbG9uZTtcbn07XG5cbkl0ZXJhdG9yLnByb3RvdHlwZS5tYXBJdGVyYXRvciA9IGZ1bmN0aW9uIChjYWxsYmFjayAvKiwgdGhpc3AqLykge1xuICAgIHZhciBzZWxmID0gSXRlcmF0b3IodGhpcyksXG4gICAgICAgIHRoaXNwID0gYXJndW1lbnRzWzFdLFxuICAgICAgICBpID0gMDtcblxuICAgIGlmIChzaGltT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGNhbGxiYWNrKSAhPSBcIltvYmplY3QgRnVuY3Rpb25dXCIpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcblxuICAgIHJldHVybiBuZXcgc2VsZi5jb25zdHJ1Y3RvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmKHNlbGYuX2l0ZXJhdGlvbk9iamVjdC5kb25lICE9PSB0cnVlKSB7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2tWYWx1ZSA9IGNhbGxiYWNrLmNhbGwodGhpc3AsIHNlbGYubmV4dCgpLnZhbHVlLCBpKyssIHNlbGYpO1xuICAgICAgICAgICAgc2VsZi5faXRlcmF0aW9uT2JqZWN0LnZhbHVlID0gY2FsbGJhY2tWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZi5faXRlcmF0aW9uT2JqZWN0O1xuICAgIH0pO1xufTtcblxuSXRlcmF0b3IucHJvdG90eXBlLmZpbHRlckl0ZXJhdG9yID0gZnVuY3Rpb24gKGNhbGxiYWNrIC8qLCB0aGlzcCovKSB7XG4gICAgdmFyIHNlbGYgPSBJdGVyYXRvcih0aGlzKSxcbiAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMV0sXG4gICAgICAgIGkgPSAwO1xuXG4gICAgaWYgKHNoaW1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoY2FsbGJhY2spICE9IFwiW29iamVjdCBGdW5jdGlvbl1cIilcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuXG4gICAgcmV0dXJuIG5ldyBzZWxmLmNvbnN0cnVjdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5leHRFbnRyeTtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIG5leHRFbnRyeSA9IHNlbGYubmV4dCgpO1xuICAgICAgICAgICAgaWYobmV4dEVudHJ5LmRvbmUgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2suY2FsbCh0aGlzcCwgbmV4dEVudHJ5LnZhbHVlLCBpKyssIHNlbGYpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dEVudHJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9kb25lIHRydWUgYW5kIHZhbHVlIHVuZGVmaW5lZCBhdCB0aGlzIHBvaW50XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHRFbnRyeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuSXRlcmF0b3IucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uIChjYWxsYmFjayAvKiwgaW5pdGlhbCwgdGhpc3AqLykge1xuICAgIHZhciBzZWxmID0gSXRlcmF0b3IodGhpcyksXG4gICAgICAgIHJlc3VsdCA9IGFyZ3VtZW50c1sxXSxcbiAgICAgICAgdGhpc3AgPSBhcmd1bWVudHNbMl0sXG4gICAgICAgIGkgPSAwLFxuICAgICAgICBuZXh0RW50cnk7XG5cbiAgICBpZiAoc2hpbU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjYWxsYmFjaykgIT0gXCJbb2JqZWN0IEZ1bmN0aW9uXVwiKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG5cbiAgICAvLyBmaXJzdCBpdGVyYXRpb24gdW5yb2xsZWRcbiAgICBuZXh0RW50cnkgPSBzZWxmLm5leHQoKTtcbiAgICBpZihuZXh0RW50cnkuZG9uZSA9PT0gdHJ1ZSkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbMV07IC8vIGluaXRpYWxcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcImNhbm5vdCByZWR1Y2UgYSB2YWx1ZSBmcm9tIGFuIGVtcHR5IGl0ZXJhdG9yIHdpdGggbm8gaW5pdGlhbCB2YWx1ZVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgcmVzdWx0ID0gY2FsbGJhY2suY2FsbCh0aGlzcCwgcmVzdWx0LCBuZXh0RW50cnkudmFsdWUsIGksIHNlbGYpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IG5leHRFbnRyeS52YWx1ZTtcbiAgICB9XG4gICAgaSsrO1xuICAgIC8vIHJlbWFpbmluZyBlbnRyaWVzXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgbmV4dEVudHJ5ID0gc2VsZi5uZXh0KCk7XG4gICAgICAgIGlmKG5leHRFbnRyeS5kb25lID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrLmNhbGwodGhpc3AsIHJlc3VsdCwgbmV4dEVudHJ5LnZhbHVlLCBpLCBzZWxmKTtcbiAgICAgICAgaSsrO1xuICAgIH1cblxufTtcblxuSXRlcmF0b3IucHJvdG90eXBlLmNvbmNhdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gSXRlcmF0b3IuY29uY2F0KFxuICAgICAgICBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICApO1xufTtcblxuSXRlcmF0b3IucHJvdG90eXBlLmRyb3BXaGlsZSA9IGZ1bmN0aW9uIChjYWxsYmFjayAvKiwgdGhpc3AgKi8pIHtcbiAgICB2YXIgc2VsZiA9IEl0ZXJhdG9yKHRoaXMpLFxuICAgICAgICB0aGlzcCA9IGFyZ3VtZW50c1sxXSxcbiAgICAgICAgc3RvcHBlZCA9IGZhbHNlLFxuICAgICAgICBzdG9wVmFsdWUsXG4gICAgICAgIG5leHRFbnRyeSxcbiAgICAgICAgaSA9IDA7XG5cbiAgICBpZiAoc2hpbU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjYWxsYmFjaykgIT0gXCJbb2JqZWN0IEZ1bmN0aW9uXVwiKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBuZXh0RW50cnkgPSBzZWxmLm5leHQoKTtcbiAgICAgICAgaWYobmV4dEVudHJ5LmRvbmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2FsbGJhY2suY2FsbCh0aGlzcCwgbmV4dEVudHJ5LnZhbHVlLCBpLCBzZWxmKSkge1xuICAgICAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICBzdG9wVmFsdWUgPSBuZXh0RW50cnkudmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKHN0b3BwZWQpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuY29uc3RydWN0b3IoW3N0b3BWYWx1ZV0pLmNvbmNhdChzZWxmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc2VsZi5jb25zdHJ1Y3RvcihbXSk7XG4gICAgfVxufTtcblxuSXRlcmF0b3IucHJvdG90eXBlLnRha2VXaGlsZSA9IGZ1bmN0aW9uIChjYWxsYmFjayAvKiwgdGhpc3AqLykge1xuICAgIHZhciBzZWxmID0gSXRlcmF0b3IodGhpcyksXG4gICAgICAgIHRoaXNwID0gYXJndW1lbnRzWzFdLFxuICAgICAgICBpID0gMDtcblxuICAgIGlmIChzaGltT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGNhbGxiYWNrKSAhPSBcIltvYmplY3QgRnVuY3Rpb25dXCIpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcblxuICAgIHJldHVybiBuZXcgc2VsZi5jb25zdHJ1Y3RvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmKHNlbGYuX2l0ZXJhdGlvbk9iamVjdC5kb25lICE9PSB0cnVlKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzZWxmLm5leHQoKS52YWx1ZTtcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrLmNhbGwodGhpc3AsIHZhbHVlLCBpKyssIHNlbGYpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5faXRlcmF0aW9uT2JqZWN0LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9pdGVyYXRpb25PYmplY3QuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZi5faXRlcmF0aW9uT2JqZWN0LnZhbHVlID0gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLl9pdGVyYXRpb25PYmplY3Q7XG4gICAgfSk7XG5cbn07XG5cbkl0ZXJhdG9yLnByb3RvdHlwZS56aXBJdGVyYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gSXRlcmF0b3IudW56aXAoXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICk7XG59O1xuXG5JdGVyYXRvci5wcm90b3R5cGUuZW51bWVyYXRlSXRlcmF0b3IgPSBmdW5jdGlvbiAoc3RhcnQpIHtcbiAgICByZXR1cm4gSXRlcmF0b3IuY291bnQoc3RhcnQpLnppcEl0ZXJhdG9yKHRoaXMpO1xufTtcblxuLy8gY3JlYXRlcyBhbiBpdGVyYXRvciBmb3IgQXJyYXkgYW5kIFN0cmluZ1xuSXRlcmF0b3IuaXRlcmF0ZSA9IGZ1bmN0aW9uIChpdGVyYWJsZSkge1xuICAgIHZhciBzdGFydDtcbiAgICBzdGFydCA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGFkdmFuY2UgdG8gbmV4dCBvd25lZCBlbnRyeVxuICAgICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICB3aGlsZSAoIShzdGFydCBpbiBpdGVyYWJsZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBkZWxpYmVyYXRlbHkgbGF0ZSBib3VuZFxuICAgICAgICAgICAgICAgIGlmIChzdGFydCA+PSBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXRlcmF0aW9uT2JqZWN0LmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdGVyYXRpb25PYmplY3QudmFsdWUgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHN0YXJ0ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhcnQgPj0gaXRlcmFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYXRpb25PYmplY3QuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYXRpb25PYmplY3QudmFsdWUgPSB2b2lkIDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZighdGhpcy5faXRlcmF0aW9uT2JqZWN0LmRvbmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2l0ZXJhdGlvbk9iamVjdC52YWx1ZSA9IGl0ZXJhYmxlW3N0YXJ0XTtcbiAgICAgICAgICAgIHN0YXJ0ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZXJhdGlvbk9iamVjdDtcbiAgICB9KTtcbn07XG5cbkl0ZXJhdG9yLmN5Y2xlID0gZnVuY3Rpb24gKGN5Y2xlLCB0aW1lcykge1xuICAgIHZhciBuZXh0O1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMilcbiAgICAgICAgdGltZXMgPSBJbmZpbml0eTtcbiAgICAvL2N5Y2xlID0gSXRlcmF0b3IoY3ljbGUpLnRvQXJyYXkoKTtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGl0ZXJhdGlvbiwgbmV4dEVudHJ5O1xuXG4gICAgICAgIGlmKG5leHQpIHtcbiAgICAgICAgICAgIG5leHRFbnRyeSA9IG5leHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCFuZXh0IHx8IG5leHRFbnRyeS5kb25lID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAodGltZXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGltZXMtLTtcbiAgICAgICAgICAgICAgICBpdGVyYXRpb24gPSBJdGVyYXRvci5pdGVyYXRlKGN5Y2xlKTtcbiAgICAgICAgICAgICAgICBuZXh0RW50cnkgPSAobmV4dCA9IGl0ZXJhdGlvbi5uZXh0LmJpbmQoaXRlcmF0aW9uKSkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2l0ZXJhdGlvbk9iamVjdC5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBuZXh0RW50cnkgPSB0aGlzLl9pdGVyYXRpb25PYmplY3Q7ICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0RW50cnk7XG4gICAgfSk7XG59O1xuXG5JdGVyYXRvci5jb25jYXQgPSBmdW5jdGlvbiAoaXRlcmF0b3JzKSB7XG4gICAgaXRlcmF0b3JzID0gSXRlcmF0b3IoaXRlcmF0b3JzKTtcbiAgICB2YXIgbmV4dDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpe1xuICAgICAgICB2YXIgaXRlcmF0aW9uLCBuZXh0RW50cnk7XG4gICAgICAgIGlmKG5leHQpIG5leHRFbnRyeSA9IG5leHQoKTtcbiAgICAgICAgaWYoIW5leHRFbnRyeSB8fCBuZXh0RW50cnkuZG9uZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbmV4dEVudHJ5ID0gaXRlcmF0b3JzLm5leHQoKTtcbiAgICAgICAgICAgIGlmKG5leHRFbnRyeS5kb25lID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGl0ZXJhdGlvbiA9IEl0ZXJhdG9yKG5leHRFbnRyeS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgbmV4dCA9IGl0ZXJhdGlvbi5uZXh0LmJpbmQoaXRlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHRFbnRyeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHJldHVybiBuZXh0RW50cnk7XG4gICAgfSk7XG59O1xuXG5JdGVyYXRvci51bnppcCA9IGZ1bmN0aW9uIChpdGVyYXRvcnMpIHtcbiAgICBpdGVyYXRvcnMgPSBJdGVyYXRvcihpdGVyYXRvcnMpLm1hcChJdGVyYXRvcik7XG4gICAgaWYgKGl0ZXJhdG9ycy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBuZXcgSXRlcmF0b3IoW10pO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RvcHBlZCwgbmV4dEVudHJ5O1xuICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3JzLm1hcChmdW5jdGlvbiAoaXRlcmF0b3IpIHtcbiAgICAgICAgICAgIG5leHRFbnRyeSA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGlmIChuZXh0RW50cnkuZG9uZSA9PT0gdHJ1ZSApIHtcbiAgICAgICAgICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0RW50cnkudmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5faXRlcmF0aW9uT2JqZWN0LmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5faXRlcmF0aW9uT2JqZWN0LnZhbHVlID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faXRlcmF0aW9uT2JqZWN0LnZhbHVlID0gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVyYXRpb25PYmplY3Q7XG4gICAgfSk7XG59O1xuXG5JdGVyYXRvci56aXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIEl0ZXJhdG9yLnVuemlwKFxuICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpXG4gICAgKTtcbn07XG5cbkl0ZXJhdG9yLmNoYWluID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBJdGVyYXRvci5jb25jYXQoXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cylcbiAgICApO1xufTtcblxuSXRlcmF0b3IucmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQsIHN0b3AsIHN0ZXApIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgc3RlcCA9IDE7XG4gICAgfVxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgICAgICBzdG9wID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgc3RhcnQgPSBzdGFydCB8fCAwO1xuICAgIHN0ZXAgPSBzdGVwIHx8IDE7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChzdGFydCA+PSBzdG9wKSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYXRpb25PYmplY3QuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYXRpb25PYmplY3QudmFsdWUgPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IHN0YXJ0O1xuICAgICAgICBzdGFydCArPSBzdGVwO1xuICAgICAgICB0aGlzLl9pdGVyYXRpb25PYmplY3QudmFsdWUgPSByZXN1bHQ7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZXJhdGlvbk9iamVjdDtcbiAgICB9KTtcbn07XG5cbkl0ZXJhdG9yLmNvdW50ID0gZnVuY3Rpb24gKHN0YXJ0LCBzdGVwKSB7XG4gICAgcmV0dXJuIEl0ZXJhdG9yLnJhbmdlKHN0YXJ0LCBJbmZpbml0eSwgc3RlcCk7XG59O1xuXG5JdGVyYXRvci5yZXBlYXQgPSBmdW5jdGlvbiAodmFsdWUsIHRpbWVzKSB7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvci5yYW5nZSh0aW1lcykubWFwSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG59O1xuXG52YXIgZ2VuZXJpY01hcCA9IEdlbmVyaWNNYXA7XG5mdW5jdGlvbiBHZW5lcmljTWFwKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbnN0cnVjdC4gR2VuZXJpY01hcCBpcyBhIG1peGluLlwiKTtcbn1cblxuLy8gYWxsIG9mIHRoZXNlIG1ldGhvZHMgZGVwZW5kIG9uIHRoZSBjb25zdHJ1Y3RvciBwcm92aWRpbmcgYSBgc3RvcmVgIHNldFxuXG5HZW5lcmljTWFwLnByb3RvdHlwZS5pc01hcCA9IHRydWU7XG5cbkdlbmVyaWNNYXAucHJvdG90eXBlLmFkZEVhY2ggPSBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgdmFyIGk7XG4gICAgaWYgKHZhbHVlcyAmJiBzaGltT2JqZWN0KHZhbHVlcykgPT09IHZhbHVlcykge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlcy5mb3JFYWNoID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIC8vIGNvcHkgbWFwLWFsaWtlc1xuICAgICAgICAgICAgaWYgKHZhbHVlcy5pc01hcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgLy8gaXRlcmF0ZSBrZXkgdmFsdWUgcGFpcnMgb2Ygb3RoZXIgaXRlcmFibGVzXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uIChwYWlyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KHBhaXJbMF0sIHBhaXJbMV0pO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZXMubGVuZ3RoID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAvLyBBcnJheS1saWtlIG9iamVjdHMgdGhhdCBkbyBub3QgaW1wbGVtZW50IGZvckVhY2gsIGVyZ28sXG4gICAgICAgICAgICAvLyBBcmd1bWVudHNcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZCh2YWx1ZXNbaV0sIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY29weSBvdGhlciBvYmplY3RzIGFzIG1hcC1hbGlrZXNcbiAgICAgICAgICAgIHNoaW1PYmplY3Qua2V5cyh2YWx1ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWVzW2tleV0pO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZhbHVlcyAmJiB0eXBlb2YgdmFsdWVzLmxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAvLyBTdHJpbmdcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5hZGQodmFsdWVzW2ldLCBpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbkdlbmVyaWNNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciBpdGVtID0gdGhpcy5zdG9yZS5nZXQobmV3IHRoaXMuSXRlbShrZXkpKTtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS52YWx1ZTtcbiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVXNlIG9mIGEgc2Vjb25kIGFyZ3VtZW50IGFzIGRlZmF1bHQgdmFsdWUgaXMgZGVwcmVjYXRlZCB0byBtYXRjaCBzdGFuZGFyZHNcIik7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVmYXVsdChrZXkpO1xuICAgIH1cbn07XG5cbkdlbmVyaWNNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgdmFyIGl0ZW0gPSBuZXcgdGhpcy5JdGVtKGtleSwgdmFsdWUpO1xuICAgIHZhciBmb3VuZCA9IHRoaXMuc3RvcmUuZ2V0KGl0ZW0pO1xuICAgIGlmIChmb3VuZCkgeyAvLyB1cGRhdGVcbiAgICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hlc01hcENoYW5nZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hCZWZvcmVNYXBDaGFuZ2Uoa2V5LCBmb3VuZC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm91bmQudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hlc01hcENoYW5nZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hNYXBDaGFuZ2Uoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBjcmVhdGVcbiAgICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hlc01hcENoYW5nZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hCZWZvcmVNYXBDaGFuZ2Uoa2V5LCB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0b3JlLmFkZChpdGVtKSkge1xuICAgICAgICAgICAgdGhpcy5sZW5ndGgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kaXNwYXRjaGVzTWFwQ2hhbmdlcykge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaE1hcENoYW5nZShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbkdlbmVyaWNNYXAucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xufTtcblxuR2VuZXJpY01hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiB0aGlzLnN0b3JlLmhhcyhuZXcgdGhpcy5JdGVtKGtleSkpO1xufTtcblxuR2VuZXJpY01hcC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBpdGVtID0gbmV3IHRoaXMuSXRlbShrZXkpO1xuICAgIGlmICh0aGlzLnN0b3JlLmhhcyhpdGVtKSkge1xuICAgICAgICB2YXIgZnJvbSA9IHRoaXMuc3RvcmUuZ2V0KGl0ZW0pLnZhbHVlO1xuICAgICAgICBpZiAodGhpcy5kaXNwYXRjaGVzTWFwQ2hhbmdlcykge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEJlZm9yZU1hcENoYW5nZShrZXksIGZyb20pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RvcmVbXCJkZWxldGVcIl0oaXRlbSk7XG4gICAgICAgIHRoaXMubGVuZ3RoLS07XG4gICAgICAgIGlmICh0aGlzLmRpc3BhdGNoZXNNYXBDaGFuZ2VzKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoTWFwQ2hhbmdlKGtleSwgdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuR2VuZXJpY01hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGtleXMsIGtleTtcbiAgICBpZiAodGhpcy5kaXNwYXRjaGVzTWFwQ2hhbmdlcykge1xuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hCZWZvcmVNYXBDaGFuZ2Uoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICBrZXlzID0gdGhpcy5rZXlzQXJyYXkoKTtcbiAgICB9XG4gICAgdGhpcy5zdG9yZS5jbGVhcigpO1xuICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICBpZiAodGhpcy5kaXNwYXRjaGVzTWFwQ2hhbmdlcykge1xuICAgICAgICBmb3IodmFyIGk9MDsoa2V5ID0ga2V5c1tpXSk7aSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoTWFwQ2hhbmdlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8ga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgLy8gICAgIHRoaXMuZGlzcGF0Y2hNYXBDaGFuZ2Uoa2V5KTtcbiAgICAgICAgLy8gfSwgdGhpcyk7XG4gICAgfVxufTtcblxuR2VuZXJpY01hcC5wcm90b3R5cGUucmVkdWNlID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBiYXNpcywgdGhpc3ApIHtcbiAgICByZXR1cm4gdGhpcy5zdG9yZS5yZWR1Y2UoZnVuY3Rpb24gKGJhc2lzLCBpdGVtKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNwLCBiYXNpcywgaXRlbS52YWx1ZSwgaXRlbS5rZXksIHRoaXMpO1xuICAgIH0sIGJhc2lzLCB0aGlzKTtcbn07XG5cbkdlbmVyaWNNYXAucHJvdG90eXBlLnJlZHVjZVJpZ2h0ID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBiYXNpcywgdGhpc3ApIHtcbiAgICByZXR1cm4gdGhpcy5zdG9yZS5yZWR1Y2VSaWdodChmdW5jdGlvbiAoYmFzaXMsIGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc3AsIGJhc2lzLCBpdGVtLnZhbHVlLCBpdGVtLmtleSwgdGhpcyk7XG4gICAgfSwgYmFzaXMsIHRoaXMpO1xufTtcblxuR2VuZXJpY01hcC5wcm90b3R5cGUua2V5c0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICByZXR1cm4ga2V5O1xuICAgIH0pO1xufTtcbkdlbmVyaWNNYXAucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBpdGVyYXRvcih0aGlzLmtleXNBcnJheSgpLCB0cnVlKTtcbn07XG5cbkdlbmVyaWNNYXAucHJvdG90eXBlLnZhbHVlc0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChGdW5jdGlvbi5pZGVudGl0eSk7XG59O1xuR2VuZXJpY01hcC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgaXRlcmF0b3IodGhpcy52YWx1ZXNBcnJheSgpLCB0cnVlKTtcbn07XG5cbkdlbmVyaWNNYXAucHJvdG90eXBlLmVudHJpZXNBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIFtrZXksIHZhbHVlXTtcbiAgICB9KTtcbn07XG5HZW5lcmljTWFwLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgaXRlcmF0b3IodGhpcy5lbnRyaWVzQXJyYXkoKSwgdHJ1ZSk7XG59O1xuXG4vLyBYWFggZGVwcmVjYXRlZFxuR2VuZXJpY01hcC5wcm90b3R5cGUuaXRlbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZW50cmllc0FycmF5KCk7XG59O1xuXG5HZW5lcmljTWFwLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAodGhhdCwgZXF1YWxzKSB7XG4gICAgZXF1YWxzID0gZXF1YWxzIHx8IHNoaW1PYmplY3QuZXF1YWxzO1xuICAgIGlmICh0aGlzID09PSB0aGF0KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGhhdCAmJiB0eXBlb2YgdGhhdC5ldmVyeSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiB0aGF0Lmxlbmd0aCA9PT0gdGhpcy5sZW5ndGggJiYgdGhhdC5ldmVyeShmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGVxdWFscyh0aGlzLmdldChrZXkpLCB2YWx1ZSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBrZXlzID0gc2hpbU9iamVjdC5rZXlzKHRoYXQpO1xuICAgICAgICByZXR1cm4ga2V5cy5sZW5ndGggPT09IHRoaXMubGVuZ3RoICYmIHNoaW1PYmplY3Qua2V5cyh0aGF0KS5ldmVyeShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZXF1YWxzKHRoaXMuZ2V0KGtleSksIHRoYXRba2V5XSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cbn07XG5cbkdlbmVyaWNNYXAucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5lbnRyaWVzQXJyYXkoKTtcbn07XG5cblxuR2VuZXJpY01hcC5wcm90b3R5cGUuSXRlbSA9IEl0ZW07XG5cbmZ1bmN0aW9uIEl0ZW0oa2V5LCB2YWx1ZSkge1xuICAgIHRoaXMua2V5ID0ga2V5O1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbn1cblxuSXRlbS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHRoYXQpIHtcbiAgICByZXR1cm4gc2hpbU9iamVjdC5lcXVhbHModGhpcy5rZXksIHRoYXQua2V5KSAmJiBzaGltT2JqZWN0LmVxdWFscyh0aGlzLnZhbHVlLCB0aGF0LnZhbHVlKTtcbn07XG5cbkl0ZW0ucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiAodGhhdCkge1xuICAgIHJldHVybiBzaGltT2JqZWN0LmNvbXBhcmUodGhpcy5rZXksIHRoYXQua2V5KTtcbn07XG5cbi8vIEJ1cmdsZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZG9tZW5pYy9kaWN0XG5cbnZhciBfZGljdCA9IERpY3Q7XG5mdW5jdGlvbiBEaWN0KHZhbHVlcywgZ2V0RGVmYXVsdCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEaWN0KSkge1xuICAgICAgICByZXR1cm4gbmV3IERpY3QodmFsdWVzLCBnZXREZWZhdWx0KTtcbiAgICB9XG4gICAgZ2V0RGVmYXVsdCA9IGdldERlZmF1bHQgfHwgRnVuY3Rpb24ubm9vcDtcbiAgICB0aGlzLmdldERlZmF1bHQgPSBnZXREZWZhdWx0O1xuICAgIHRoaXMuc3RvcmUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmFkZEVhY2godmFsdWVzKTtcbn1cblxuRGljdC5EaWN0ID0gRGljdDsgLy8gaGFjayBzbyByZXF1aXJlKFwiZGljdFwiKS5EaWN0IHdpbGwgd29yayBpbiBNb250YWdlSlMuXG5cbk9iamVjdC5hZGRFYWNoKERpY3QucHJvdG90eXBlLCBnZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUpO1xuT2JqZWN0LmFkZEVhY2goRGljdC5wcm90b3R5cGUsIGdlbmVyaWNNYXAucHJvdG90eXBlKTtcblxuRGljdC5mcm9tID0gZ2VuZXJpY0NvbGxlY3Rpb24uZnJvbTtcblxuRGljdC5wcm90b3R5cGUuY29uc3RydWN0Q2xvbmUgPSBmdW5jdGlvbiAodmFsdWVzKSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHZhbHVlcywgdGhpcy5nZXREZWZhdWx0KTtcbn07XG5cbkRpY3QucHJvdG90eXBlLmFzc2VydFN0cmluZyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAodHlwZW9mIGtleSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwia2V5IG11c3QgYmUgYSBzdHJpbmcgYnV0IEdvdCBcIiArIGtleSk7XG4gICAgfVxufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KERpY3QucHJvdG90eXBlLFwiJF9fcHJvdG9fX1wiLHt3cml0YWJsZTp0cnVlfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRGljdC5wcm90b3R5cGUsXCJfaGFzUHJvdG9cIix7XG4gICAgZ2V0OmZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNPd25Qcm9wZXJ0eShcIiRfX3Byb3RvX19cIikgJiYgdHlwZW9mIHRoaXMuX3Byb3RvVmFsdWUgIT09IFwidW5kZWZpbmVkXCI7XG4gICAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRGljdC5wcm90b3R5cGUsXCJfcHJvdG9WYWx1ZVwiLHtcbiAgICBnZXQ6ZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzW1wiJF9fcHJvdG9fX1wiXTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpc1tcIiRfX3Byb3RvX19cIl0gPSB2YWx1ZTtcbiAgICB9XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KERpY3QucHJvdG90eXBlLFwic2l6ZVwiLGdlbmVyaWNDb2xsZWN0aW9uLl9zaXplUHJvcGVydHlEZXNjcmlwdG9yKTtcblxuXG5EaWN0LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5LCBkZWZhdWx0VmFsdWUpIHtcbiAgICB0aGlzLmFzc2VydFN0cmluZyhrZXkpO1xuICAgIGlmIChrZXkgPT09IFwiX19wcm90b19fXCIpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhc1Byb3RvKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvdG9WYWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldERlZmF1bHQoa2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGtleSBpbiB0aGlzLnN0b3JlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdG9yZVtrZXldO1xuICAgICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVmYXVsdChrZXkpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuRGljdC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICB0aGlzLmFzc2VydFN0cmluZyhrZXkpO1xuICAgIHZhciBpc1Byb3RvS2V5ID0gKGtleSA9PT0gXCJfX3Byb3RvX19cIik7XG5cbiAgICBpZiAoaXNQcm90b0tleSA/IHRoaXMuX2hhc1Byb3RvIDoga2V5IGluIHRoaXMuc3RvcmUpIHsgLy8gdXBkYXRlXG4gICAgICAgIGlmICh0aGlzLmRpc3BhdGNoZXNNYXBDaGFuZ2VzKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoQmVmb3JlTWFwQ2hhbmdlKGtleSwgaXNQcm90b0tleSA/IHRoaXMuX3Byb3RvVmFsdWUgOiB0aGlzLnN0b3JlW2tleV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaXNQcm90b0tleVxuICAgICAgICAgICAgPyB0aGlzLl9wcm90b1ZhbHVlID0gdmFsdWVcbiAgICAgICAgICAgIDogdGhpcy5zdG9yZVtrZXldID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hlc01hcENoYW5nZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hNYXBDaGFuZ2Uoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7IC8vIGNyZWF0ZVxuICAgICAgICBpZiAodGhpcy5kaXNwYXRjaGVzTWFwQ2hhbmdlcykge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEJlZm9yZU1hcENoYW5nZShrZXksIHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sZW5ndGgrKztcblxuICAgICAgICBpc1Byb3RvS2V5XG4gICAgICAgICAgICA/IHRoaXMuX3Byb3RvVmFsdWUgPSB2YWx1ZVxuICAgICAgICAgICAgOiB0aGlzLnN0b3JlW2tleV0gPSB2YWx1ZTtcblxuICAgICAgICBpZiAodGhpcy5kaXNwYXRjaGVzTWFwQ2hhbmdlcykge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaE1hcENoYW5nZShrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59O1xuXG5EaWN0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgdGhpcy5hc3NlcnRTdHJpbmcoa2V5KTtcbiAgICByZXR1cm4ga2V5ID09PSBcIl9fcHJvdG9fX1wiID8gdGhpcy5faGFzUHJvdG8gOiBrZXkgaW4gdGhpcy5zdG9yZTtcbn07XG5cbkRpY3QucHJvdG90eXBlW1wiZGVsZXRlXCJdID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHRoaXMuYXNzZXJ0U3RyaW5nKGtleSk7XG4gICAgaWYgKGtleSA9PT0gXCJfX3Byb3RvX19cIikge1xuICAgICAgICBpZiAodGhpcy5faGFzUHJvdG8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc3BhdGNoZXNNYXBDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEJlZm9yZU1hcENoYW5nZShrZXksIHRoaXMuX3Byb3RvVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fcHJvdG9WYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoLS07XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNwYXRjaGVzTWFwQ2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hNYXBDaGFuZ2Uoa2V5LCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGtleSBpbiB0aGlzLnN0b3JlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNwYXRjaGVzTWFwQ2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hCZWZvcmVNYXBDaGFuZ2Uoa2V5LCB0aGlzLnN0b3JlW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc3RvcmVba2V5XTtcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoLS07XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNwYXRjaGVzTWFwQ2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hNYXBDaGFuZ2Uoa2V5LCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG5cbkRpY3QucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBrZXk7XG4gICAgaWYgKHRoaXMuX2hhc1Byb3RvKSB7XG4gICAgICAgIGlmICh0aGlzLmRpc3BhdGNoZXNNYXBDaGFuZ2VzKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoQmVmb3JlTWFwQ2hhbmdlKFwiX19wcm90b19fXCIsIHRoaXMuX3Byb3RvVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Byb3RvVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0aGlzLmRpc3BhdGNoZXNNYXBDaGFuZ2VzKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoTWFwQ2hhbmdlKFwiX19wcm90b19fXCIsIHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChrZXkgaW4gdGhpcy5zdG9yZSkge1xuICAgICAgICBpZiAodGhpcy5kaXNwYXRjaGVzTWFwQ2hhbmdlcykge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEJlZm9yZU1hcENoYW5nZShrZXksIHRoaXMuc3RvcmVba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXMuc3RvcmVba2V5XTtcbiAgICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hlc01hcENoYW5nZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hNYXBDaGFuZ2Uoa2V5LCB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMubGVuZ3RoID0gMDtcbn07XG5cbkRpY3QucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uIChjYWxsYmFjaywgYmFzaXMsIHRoaXNwKSB7XG4gICAgaWYodGhpcy5faGFzUHJvdG8pIHtcbiAgICAgICAgYmFzaXMgPSBjYWxsYmFjay5jYWxsKHRoaXNwLCBiYXNpcywgXCIkX19wcm90b19fXCIsIFwiX19wcm90b19fXCIsIHRoaXMpO1xuICAgIH1cbiAgICB2YXIgc3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLnN0b3JlKSB7XG4gICAgICAgIGJhc2lzID0gY2FsbGJhY2suY2FsbCh0aGlzcCwgYmFzaXMsIHN0b3JlW2tleV0sIGtleSwgdGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBiYXNpcztcbn07XG5cbkRpY3QucHJvdG90eXBlLnJlZHVjZVJpZ2h0ID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBiYXNpcywgdGhpc3ApIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHN0b3JlID0gdGhpcy5zdG9yZTtcbiAgICBiYXNpcyA9IE9iamVjdC5rZXlzKHRoaXMuc3RvcmUpLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uIChiYXNpcywga2V5KSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNwLCBiYXNpcywgc3RvcmVba2V5XSwga2V5LCBzZWxmKTtcbiAgICB9LCBiYXNpcyk7XG5cbiAgICBpZih0aGlzLl9oYXNQcm90bykge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2suY2FsbCh0aGlzcCwgYmFzaXMsIHRoaXMuX3Byb3RvVmFsdWUsIFwiX19wcm90b19fXCIsIHNlbGYpO1xuICAgIH1cbiAgICByZXR1cm4gYmFzaXM7XG59O1xuXG5EaWN0LnByb3RvdHlwZS5vbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGtleTtcbiAgICBmb3IgKGtleSBpbiB0aGlzLnN0b3JlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlW2tleV07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9wcm90b1ZhbHVlO1xufTtcblxuRGljdC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnRvT2JqZWN0KCk7XG59O1xuXG52YXIgdHJlZUxvZyA9IFRyZWVMb2c7XG5cbmZ1bmN0aW9uIFRyZWVMb2coKSB7XG59XG5cblRyZWVMb2cuYXNjaWkgPSB7XG4gICAgaW50ZXJzZWN0aW9uOiBcIitcIixcbiAgICB0aHJvdWdoOiBcIi1cIixcbiAgICBicmFuY2hVcDogXCIrXCIsXG4gICAgYnJhbmNoRG93bjogXCIrXCIsXG4gICAgZnJvbUJlbG93OiBcIi5cIixcbiAgICBmcm9tQWJvdmU6IFwiJ1wiLFxuICAgIGZyb21Cb3RoOiBcIitcIixcbiAgICBzdHJhZmU6IFwifFwiXG59O1xuXG5UcmVlTG9nLnVuaWNvZGVSb3VuZCA9IHtcbiAgICBpbnRlcnNlY3Rpb246IFwiXFx1MjU0YlwiLFxuICAgIHRocm91Z2g6IFwiXFx1MjUwMVwiLFxuICAgIGJyYW5jaFVwOiBcIlxcdTI1M2JcIixcbiAgICBicmFuY2hEb3duOiBcIlxcdTI1MzNcIixcbiAgICBmcm9tQmVsb3c6IFwiXFx1MjU2ZFwiLCAvLyByb3VuZCBjb3JuZXJcbiAgICBmcm9tQWJvdmU6IFwiXFx1MjU3MFwiLCAvLyByb3VuZCBjb3JuZXJcbiAgICBmcm9tQm90aDogXCJcXHUyNTIzXCIsXG4gICAgc3RyYWZlOiBcIlxcdTI1MDNcIlxufTtcblxuVHJlZUxvZy51bmljb2RlU2hhcnAgPSB7XG4gICAgaW50ZXJzZWN0aW9uOiBcIlxcdTI1NGJcIixcbiAgICB0aHJvdWdoOiBcIlxcdTI1MDFcIixcbiAgICBicmFuY2hVcDogXCJcXHUyNTNiXCIsXG4gICAgYnJhbmNoRG93bjogXCJcXHUyNTMzXCIsXG4gICAgZnJvbUJlbG93OiBcIlxcdTI1MGZcIiwgLy8gc2hhcnAgY29ybmVyXG4gICAgZnJvbUFib3ZlOiBcIlxcdTI1MTdcIiwgLy8gc2hhcnAgY29ybmVyXG4gICAgZnJvbUJvdGg6IFwiXFx1MjUyM1wiLFxuICAgIHN0cmFmZTogXCJcXHUyNTAzXCJcbn07XG5cbnZhciBfZmFzdFNldCA9IEZhc3RTZXQ7XG5cbmZ1bmN0aW9uIEZhc3RTZXQodmFsdWVzLCBlcXVhbHMsIGhhc2gsIGdldERlZmF1bHQpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRmFzdFNldCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGYXN0U2V0KHZhbHVlcywgZXF1YWxzLCBoYXNoLCBnZXREZWZhdWx0KTtcbiAgICB9XG4gICAgZXF1YWxzID0gZXF1YWxzIHx8IE9iamVjdC5lcXVhbHM7XG4gICAgaGFzaCA9IGhhc2ggfHwgT2JqZWN0Lmhhc2g7XG4gICAgZ2V0RGVmYXVsdCA9IGdldERlZmF1bHQgfHwgRnVuY3Rpb24ubm9vcDtcbiAgICB0aGlzLmNvbnRlbnRFcXVhbHMgPSBlcXVhbHM7XG4gICAgdGhpcy5jb250ZW50SGFzaCA9IGhhc2g7XG4gICAgdGhpcy5nZXREZWZhdWx0ID0gZ2V0RGVmYXVsdDtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5idWNrZXRzID0gbmV3IHRoaXMuQnVja2V0cyhudWxsLCBmdW5jdGlvbiBnZXREZWZhdWx0QnVja2V0KCkge1xuICAgICAgICByZXR1cm4gbmV3IHNlbGYuQnVja2V0KCk7XG4gICAgfSk7XG4gICAgdGhpcy5sZW5ndGggPSAwO1xuICAgIHRoaXMuYWRkRWFjaCh2YWx1ZXMpO1xufVxuXG5GYXN0U2V0LkZhc3RTZXQgPSBGYXN0U2V0OyAvLyBoYWNrIHNvIHJlcXVpcmUoXCJmYXN0LXNldFwiKS5GYXN0U2V0IHdpbGwgd29yayBpbiBNb250YWdlSlNcblxuT2JqZWN0LmFkZEVhY2goRmFzdFNldC5wcm90b3R5cGUsIGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZSk7XG5PYmplY3QuYWRkRWFjaChGYXN0U2V0LnByb3RvdHlwZSwgZ2VuZXJpY1NldC5wcm90b3R5cGUpO1xuRmFzdFNldC5mcm9tID0gZ2VuZXJpY0NvbGxlY3Rpb24uZnJvbTtcblxuRmFzdFNldC5wcm90b3R5cGUuQnVja2V0cyA9IF9kaWN0O1xuRmFzdFNldC5wcm90b3R5cGUuQnVja2V0ID0gX2xpc3Q7XG5cbkZhc3RTZXQucHJvdG90eXBlLmNvbnN0cnVjdENsb25lID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICB0aGlzLmNvbnRlbnRFcXVhbHMsXG4gICAgICAgIHRoaXMuY29udGVudEhhc2gsXG4gICAgICAgIHRoaXMuZ2V0RGVmYXVsdFxuICAgICk7XG59O1xuXG5GYXN0U2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgaGFzaCA9IHRoaXMuY29udGVudEhhc2godmFsdWUpO1xuICAgIHJldHVybiB0aGlzLmJ1Y2tldHMuZ2V0KGhhc2gpLmhhcyh2YWx1ZSk7XG59O1xuXG5GYXN0U2V0LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodmFsdWUsIGVxdWFscykge1xuICAgIGlmIChlcXVhbHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFzdFNldCNnZXQgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTtcbiAgICB9XG4gICAgdmFyIGhhc2ggPSB0aGlzLmNvbnRlbnRIYXNoKHZhbHVlKTtcbiAgICB2YXIgYnVja2V0cyA9IHRoaXMuYnVja2V0cztcbiAgICBpZiAoYnVja2V0cy5oYXMoaGFzaCkpIHtcbiAgICAgICAgcmV0dXJuIGJ1Y2tldHMuZ2V0KGhhc2gpLmdldCh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVmYXVsdCh2YWx1ZSk7XG4gICAgfVxufTtcblxuRmFzdFNldC5wcm90b3R5cGVbXCJkZWxldGVcIl0gPSBmdW5jdGlvbiAodmFsdWUsIGVxdWFscykge1xuICAgIGlmIChlcXVhbHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFzdFNldCNkZWxldGUgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTtcbiAgICB9XG4gICAgdmFyIGhhc2ggPSB0aGlzLmNvbnRlbnRIYXNoKHZhbHVlKTtcbiAgICB2YXIgYnVja2V0cyA9IHRoaXMuYnVja2V0cztcbiAgICBpZiAoYnVja2V0cy5oYXMoaGFzaCkpIHtcbiAgICAgICAgdmFyIGJ1Y2tldCA9IGJ1Y2tldHMuZ2V0KGhhc2gpO1xuICAgICAgICBpZiAoYnVja2V0W1wiZGVsZXRlXCJdKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5sZW5ndGgtLTtcbiAgICAgICAgICAgIGlmIChidWNrZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnVja2V0c1tcImRlbGV0ZVwiXShoYXNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbkZhc3RTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYnVja2V0cy5jbGVhcigpO1xuICAgIHRoaXMubGVuZ3RoID0gMDtcbn07XG5cbkZhc3RTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciBoYXNoID0gdGhpcy5jb250ZW50SGFzaCh2YWx1ZSk7XG4gICAgdmFyIGJ1Y2tldHMgPSB0aGlzLmJ1Y2tldHM7XG4gICAgaWYgKCFidWNrZXRzLmhhcyhoYXNoKSkge1xuICAgICAgICBidWNrZXRzLnNldChoYXNoLCBuZXcgdGhpcy5CdWNrZXQobnVsbCwgdGhpcy5jb250ZW50RXF1YWxzKSk7XG4gICAgfVxuICAgIGlmICghYnVja2V0cy5nZXQoaGFzaCkuaGFzKHZhbHVlKSkge1xuICAgICAgICBidWNrZXRzLmdldChoYXNoKS5hZGQodmFsdWUpO1xuICAgICAgICB0aGlzLmxlbmd0aCsrO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuRmFzdFNldC5wcm90b3R5cGUucmVkdWNlID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBiYXNpcyAvKiwgdGhpc3AqLykge1xuICAgIHZhciB0aGlzcCA9IGFyZ3VtZW50c1syXTtcbiAgICB2YXIgYnVja2V0cyA9IHRoaXMuYnVja2V0cztcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHJldHVybiBidWNrZXRzLnJlZHVjZShmdW5jdGlvbiAoYmFzaXMsIGJ1Y2tldCkge1xuICAgICAgICByZXR1cm4gYnVja2V0LnJlZHVjZShmdW5jdGlvbiAoYmFzaXMsIHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suY2FsbCh0aGlzcCwgYmFzaXMsIHZhbHVlLCBpbmRleCsrLCB0aGlzKTtcbiAgICAgICAgfSwgYmFzaXMsIHRoaXMpO1xuICAgIH0sIGJhc2lzLCB0aGlzKTtcbn07XG5cbkZhc3RTZXQucHJvdG90eXBlLm9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1Y2tldHMub25lKCkub25lKCk7XG4gICAgfVxufTtcblxuRmFzdFNldC5wcm90b3R5cGUuaXRlcmF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5idWNrZXRzLnZhbHVlc0FycmF5KCkuZmxhdHRlbigpLml0ZXJhdGUoKTtcbn07XG5cbkZhc3RTZXQucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uIChjaGFybWFwLCBsb2dOb2RlLCBjYWxsYmFjaywgdGhpc3ApIHtcbiAgICBjaGFybWFwID0gY2hhcm1hcCB8fCB0cmVlTG9nLnVuaWNvZGVTaGFycDtcbiAgICBsb2dOb2RlID0gbG9nTm9kZSB8fCB0aGlzLmxvZ05vZGU7XG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayA9IGNvbnNvbGUubG9nO1xuICAgICAgICB0aGlzcCA9IGNvbnNvbGU7XG4gICAgfVxuICAgIGNhbGxiYWNrID0gY2FsbGJhY2suYmluZCh0aGlzcCk7XG5cbiAgICB2YXIgYnVja2V0cyA9IHRoaXMuYnVja2V0cywgYnVja2V0c1NpemUgPSBidWNrZXRzLnNpemUsXG4gICAgICAgIG1hcEl0ZXIgPSBidWNrZXRzLmtleXMoKSwgaGFzaCwgaW5kZXggPSAwLFxuICAgICAgICBicmFuY2gsIGxlYWRlciwgYnVja2V0O1xuXG4gICAgd2hpbGUgKGhhc2ggPSBtYXBJdGVyLm5leHQoKS52YWx1ZSkge1xuICAgICAgICBpZiAoaW5kZXggPT09IGJ1Y2tldHNTaXplIC0gMSkge1xuICAgICAgICAgICAgYnJhbmNoID0gY2hhcm1hcC5mcm9tQWJvdmU7XG4gICAgICAgICAgICBsZWFkZXIgPSAnICc7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIGJyYW5jaCA9IGNoYXJtYXAuYnJhbmNoRG93bjtcbiAgICAgICAgICAgIGxlYWRlciA9IGNoYXJtYXAuc3RyYWZlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnJhbmNoID0gY2hhcm1hcC5mcm9tQm90aDtcbiAgICAgICAgICAgIGxlYWRlciA9IGNoYXJtYXAuc3RyYWZlO1xuICAgICAgICB9XG4gICAgICAgIGJ1Y2tldCA9IGJ1Y2tldHMuZ2V0KGhhc2gpO1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNwLCBicmFuY2ggKyBjaGFybWFwLnRocm91Z2ggKyBjaGFybWFwLmJyYW5jaERvd24gKyAnICcgKyBoYXNoKTtcbiAgICAgICAgYnVja2V0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBub2RlKSB7XG4gICAgICAgICAgICB2YXIgYnJhbmNoLCBiZWxvdywgd3JpdHRlbjtcbiAgICAgICAgICAgIGlmIChub2RlID09PSBidWNrZXQuaGVhZC5wcmV2KSB7XG4gICAgICAgICAgICAgICAgYnJhbmNoID0gY2hhcm1hcC5mcm9tQWJvdmU7XG4gICAgICAgICAgICAgICAgYmVsb3cgPSAnICc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyYW5jaCA9IGNoYXJtYXAuZnJvbUJvdGg7XG4gICAgICAgICAgICAgICAgYmVsb3cgPSBjaGFybWFwLnN0cmFmZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ05vZGUoXG4gICAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdyaXR0ZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc3AsIGxlYWRlciArICcgJyArIGJyYW5jaCArIGNoYXJtYXAudGhyb3VnaCArIGNoYXJtYXAudGhyb3VnaCArIGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdHRlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNwLCBsZWFkZXIgKyAnICcgKyBiZWxvdyArICcgICcgKyBsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzcCwgbGVhZGVyICsgJyAnICsgY2hhcm1hcC5zdHJhZmUgKyAnICAnICsgbGluZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGluZGV4Kys7XG4gICAgfVxuXG4gICAgLy92YXIgaGFzaGVzID0gYnVja2V0cy5rZXlzQXJyYXkoKTtcbiAgICAvLyBoYXNoZXMuZm9yRWFjaChmdW5jdGlvbiAoaGFzaCwgaW5kZXgpIHtcbiAgICAvLyAgICAgdmFyIGJyYW5jaDtcbiAgICAvLyAgICAgdmFyIGxlYWRlcjtcbiAgICAvLyAgICAgaWYgKGluZGV4ID09PSBoYXNoZXMubGVuZ3RoIC0gMSkge1xuICAgIC8vICAgICAgICAgYnJhbmNoID0gY2hhcm1hcC5mcm9tQWJvdmU7XG4gICAgLy8gICAgICAgICBsZWFkZXIgPSAnICc7XG4gICAgLy8gICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IDApIHtcbiAgICAvLyAgICAgICAgIGJyYW5jaCA9IGNoYXJtYXAuYnJhbmNoRG93bjtcbiAgICAvLyAgICAgICAgIGxlYWRlciA9IGNoYXJtYXAuc3RyYWZlO1xuICAgIC8vICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgYnJhbmNoID0gY2hhcm1hcC5mcm9tQm90aDtcbiAgICAvLyAgICAgICAgIGxlYWRlciA9IGNoYXJtYXAuc3RyYWZlO1xuICAgIC8vICAgICB9XG4gICAgLy8gICAgIHZhciBidWNrZXQgPSBidWNrZXRzLmdldChoYXNoKTtcbiAgICAvLyAgICAgY2FsbGJhY2suY2FsbCh0aGlzcCwgYnJhbmNoICsgY2hhcm1hcC50aHJvdWdoICsgY2hhcm1hcC5icmFuY2hEb3duICsgJyAnICsgaGFzaCk7XG4gICAgLy8gICAgIGJ1Y2tldC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgbm9kZSkge1xuICAgIC8vICAgICAgICAgdmFyIGJyYW5jaCwgYmVsb3c7XG4gICAgLy8gICAgICAgICBpZiAobm9kZSA9PT0gYnVja2V0LmhlYWQucHJldikge1xuICAgIC8vICAgICAgICAgICAgIGJyYW5jaCA9IGNoYXJtYXAuZnJvbUFib3ZlO1xuICAgIC8vICAgICAgICAgICAgIGJlbG93ID0gJyAnO1xuICAgIC8vICAgICAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICAgICAgICBicmFuY2ggPSBjaGFybWFwLmZyb21Cb3RoO1xuICAgIC8vICAgICAgICAgICAgIGJlbG93ID0gY2hhcm1hcC5zdHJhZmU7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgICAgICB2YXIgd3JpdHRlbjtcbiAgICAvLyAgICAgICAgIGxvZ05vZGUoXG4gICAgLy8gICAgICAgICAgICAgbm9kZSxcbiAgICAvLyAgICAgICAgICAgICBmdW5jdGlvbiAobGluZSkge1xuICAgIC8vICAgICAgICAgICAgICAgICBpZiAoIXdyaXR0ZW4pIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc3AsIGxlYWRlciArICcgJyArIGJyYW5jaCArIGNoYXJtYXAudGhyb3VnaCArIGNoYXJtYXAudGhyb3VnaCArIGxpbmUpO1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgd3JpdHRlbiA9IHRydWU7XG4gICAgLy8gICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNwLCBsZWFkZXIgKyAnICcgKyBiZWxvdyArICcgICcgKyBsaW5lKTtcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgICAgIH0sXG4gICAgLy8gICAgICAgICAgICAgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzcCwgbGVhZGVyICsgJyAnICsgY2hhcm1hcC5zdHJhZmUgKyAnICAnICsgbGluZSk7XG4gICAgLy8gICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgKTtcbiAgICAvLyAgICAgfSk7XG4gICAgLy8gfSk7XG59O1xuXG5GYXN0U2V0LnByb3RvdHlwZS5sb2dOb2RlID0gZnVuY3Rpb24gKG5vZGUsIHdyaXRlKSB7XG4gICAgdmFyIHZhbHVlID0gbm9kZS52YWx1ZTtcbiAgICBpZiAoT2JqZWN0KHZhbHVlKSA9PT0gdmFsdWUpIHtcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkodmFsdWUsIG51bGwsIDQpLnNwbGl0KFwiXFxuXCIpLmZvckVhY2goZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgICAgIHdyaXRlKFwiIFwiICsgbGluZSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHdyaXRlKFwiIFwiICsgdmFsdWUpO1xuICAgIH1cbn07XG5cbnZhciBfc2V0ID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuXG5cblxuXG52YXIgR2xvYmFsU2V0LCBDb2xsZWN0aW9uc1NldDtcblxuXG5pZigoY29tbW9uanNHbG9iYWwuU2V0ICE9PSB2b2lkIDApICYmICh0eXBlb2YgY29tbW9uanNHbG9iYWwuU2V0LnByb3RvdHlwZS52YWx1ZXMgPT09IFwiZnVuY3Rpb25cIikpIHtcblxuICAgIEdsb2JhbFNldCA9IG1vZHVsZS5leHBvcnRzID0gY29tbW9uanNHbG9iYWwuU2V0O1xuICAgIEdsb2JhbFNldC5TZXQgPSBHbG9iYWxTZXQ7IC8vIGhhY2sgc28gcmVxdWlyZShcInNldFwiKS5TZXQgd2lsbCB3b3JrIGluIE1vbnRhZ2VKU1xuXG4gICAgR2xvYmFsU2V0LnByb3RvdHlwZS5yZWR1Y2UgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGJhc2lzIC8qLCB0aGlzcCovKSB7XG4gICAgICAgIHZhciB0aGlzcCA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBiYXNpcyA9IGNhbGxiYWNrLmNhbGwodGhpc3AsIGJhc2lzLCB2YWx1ZSwgdGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYmFzaXM7XG4gICAgfTtcblxuICAgIEdsb2JhbFNldC5wcm90b3R5cGUucmVkdWNlUmlnaHQgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGJhc2lzIC8qLCB0aGlzcCovKSB7XG4gICAgICAgIHZhciB0aGlzcCA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgdmFyIHNldEl0ZXJhdG9yID0gdGhpcy52YWx1ZXMoKTtcbiAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgICAgIHZhciByZXZlcnNlT3JkZXIgPSBuZXcgQXJyYXkodGhpcy5zaXplKTtcbiAgICAgICAgdmFyIHZhbHVlLCBpID0gc2l6ZTtcbiAgICAgICAgLy8gRmlsbCAncmV2ZXJzZU9yZGVyJyB3aXRoIHZhbHVlcyBvZiBTZXQgaW4gaW52ZXJ0ZWQgb3JkZXIuXG4gICAgICAgIHdoaWxlICgodmFsdWUgPSBzZXRJdGVyYXRvci5uZXh0KCkudmFsdWUpKSB7XG4gICAgICAgICAgICByZXZlcnNlT3JkZXJbLS1pXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEl0ZXJhdGUgb3ZlciByZXZlcnNlZCB2YWx1ZXMgYW5kIGNhbGxiYWNrLlxuICAgICAgICB3aGlsZSAoaSA8IHNpemUpIHtcbiAgICAgICAgICAgIGJhc2lzID0gY2FsbGJhY2suY2FsbCh0aGlzcCwgYmFzaXMsIHJldmVyc2VPcmRlcltpKytdLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzaXM7XG4gICAgfTtcblxuICAgIEdsb2JhbFNldC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHRoYXQsIGVxdWFscykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGF0ICYmIHR5cGVvZiB0aGF0LnJlZHVjZSA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICB0aGlzLnNpemUgPT09ICh0aGF0LnNpemUgfHwgdGhhdC5sZW5ndGgpICYmXG4gICAgICAgICAgICB0aGF0LnJlZHVjZShmdW5jdGlvbiAoZXF1YWwsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVxdWFsICYmIHNlbGYuaGFzKHZhbHVlLCBlcXVhbHMpO1xuICAgICAgICAgICAgfSwgdHJ1ZSlcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgR2xvYmFsU2V0LnByb3RvdHlwZS5jb25zdHJ1Y3RDbG9uZSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHZhbHVlcywgdGhpcy5jb250ZW50RXF1YWxzLCB0aGlzLmNvbnRlbnRIYXNoLCB0aGlzLmdldERlZmF1bHQpO1xuICAgIH07XG5cbiAgICBHbG9iYWxTZXQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50cmllc0FycmF5KCk7XG4gICAgfTtcblxuICAgIEdsb2JhbFNldC5wcm90b3R5cGUub25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zaXplID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcblxuICAgIEdsb2JhbFNldC5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zaXplKSB7XG4gICAgICAgICAgICB2YXIgc2V0SXRlcmF0b3IgPSB0aGlzLnZhbHVlcygpLCBhVmFsdWUsIHZhbHVlO1xuICAgICAgICAgICAgd2hpbGUoYVZhbHVlID0gc2V0SXRlcmF0b3IubmV4dCgpLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBhVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzW1wiZGVsZXRlXCJdKHZhbHVlLHRoaXMuc2l6ZS0xKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBHbG9iYWxTZXQucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zaXplKSB7XG4gICAgICAgICAgICB2YXIgZmlyc3RWYWx1ZSA9IHRoaXMudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuICAgICAgICAgICAgdGhpc1tcImRlbGV0ZVwiXShmaXJzdFZhbHVlLDApO1xuICAgICAgICAgICAgcmV0dXJuIGZpcnN0VmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy9CYWNrd2FyZCBjb21wYXRpYmlsaXR5OlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShHbG9iYWxTZXQucHJvdG90eXBlLFwibGVuZ3RoXCIse1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOnRydWVcbiAgICB9KTtcblxuICAgIEdsb2JhbFNldC5mcm9tID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSAobmV3IHRoaXMpO1xuICAgICAgICByZXN1bHQuYWRkRWFjaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIE9iamVjdC5hZGRFYWNoKEdsb2JhbFNldC5wcm90b3R5cGUsIGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZSwgZmFsc2UpO1xuICAgIE9iamVjdC5hZGRFYWNoKEdsb2JhbFNldC5wcm90b3R5cGUsIGdlbmVyaWNTZXQucHJvdG90eXBlLCBmYWxzZSk7XG5cbn1cblxuXG5cbiAgICBcbiAgICBcbiAgICBcblxuICAgIENvbGxlY3Rpb25zU2V0ID0gZnVuY3Rpb24gQ29sbGVjdGlvbnNTZXQodmFsdWVzLCBlcXVhbHMsIGhhc2gsIGdldERlZmF1bHQpIHtcbiAgICAgICAgcmV0dXJuIENvbGxlY3Rpb25zU2V0Ll9pbml0KENvbGxlY3Rpb25zU2V0LCB0aGlzLCB2YWx1ZXMsIGVxdWFscywgaGFzaCwgZ2V0RGVmYXVsdCk7XG4gICAgfTtcblxuICAgIENvbGxlY3Rpb25zU2V0Ll9pbml0ID0gZnVuY3Rpb24gKGNvbnN0cnVjdG9yLCBvYmplY3QsIHZhbHVlcywgZXF1YWxzLCBoYXNoLCBnZXREZWZhdWx0KSB7XG4gICAgICAgIGlmICghKG9iamVjdCBpbnN0YW5jZW9mIGNvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBjb25zdHJ1Y3Rvcih2YWx1ZXMsIGVxdWFscywgaGFzaCwgZ2V0RGVmYXVsdCk7XG4gICAgICAgIH1cbiAgICAgICAgZXF1YWxzID0gZXF1YWxzIHx8IE9iamVjdC5lcXVhbHM7XG4gICAgICAgIGhhc2ggPSBoYXNoIHx8IE9iamVjdC5oYXNoO1xuICAgICAgICBnZXREZWZhdWx0ID0gZ2V0RGVmYXVsdCB8fCBGdW5jdGlvbi5ub29wO1xuICAgICAgICBvYmplY3QuY29udGVudEVxdWFscyA9IGVxdWFscztcbiAgICAgICAgb2JqZWN0LmNvbnRlbnRIYXNoID0gaGFzaDtcbiAgICAgICAgb2JqZWN0LmdldERlZmF1bHQgPSBnZXREZWZhdWx0O1xuICAgICAgICAvLyBhIGxpc3Qgb2YgdmFsdWVzIGluIGluc2VydGlvbiBvcmRlciwgdXNlZCBmb3IgYWxsIG9wZXJhdGlvbnMgdGhhdCBkZXBlbmRcbiAgICAgICAgLy8gb24gaXRlcmF0aW5nIGluIGluc2VydGlvbiBvcmRlclxuICAgICAgICBvYmplY3Qub3JkZXIgPSBuZXcgb2JqZWN0Lk9yZGVyKHVuZGVmaW5lZCwgZXF1YWxzKTtcbiAgICAgICAgLy8gYSBzZXQgb2Ygbm9kZXMgZnJvbSB0aGUgb3JkZXIgbGlzdCwgaW5kZXhlZCBieSB0aGUgY29ycmVzcG9uZGluZyB2YWx1ZSxcbiAgICAgICAgLy8gdXNlZCBmb3IgYWxsIG9wZXJhdGlvbnMgdGhhdCBuZWVkIHRvIHF1aWNrbHkgc2VlayAgdmFsdWUgaW4gdGhlIGxpc3RcbiAgICAgICAgb2JqZWN0LnN0b3JlID0gbmV3IG9iamVjdC5TdG9yZShcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVxdWFscyhhLnZhbHVlLCBiLnZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBoYXNoKG5vZGUudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBvYmplY3QubGVuZ3RoID0gMDtcbiAgICAgICAgb2JqZWN0LmFkZEVhY2godmFsdWVzKTtcblxuICAgIH07XG5cbiAgICBDb2xsZWN0aW9uc1NldC5TZXQgPSBDb2xsZWN0aW9uc1NldDsgLy8gaGFjayBzbyByZXF1aXJlKFwic2V0XCIpLlNldCB3aWxsIHdvcmsgaW4gTW9udGFnZUpTXG4gICAgQ29sbGVjdGlvbnNTZXQuQ29sbGVjdGlvbnNTZXQgPSBDb2xsZWN0aW9uc1NldDtcblxuICAgIE9iamVjdC5hZGRFYWNoKENvbGxlY3Rpb25zU2V0LnByb3RvdHlwZSwgZ2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlKTtcbiAgICBPYmplY3QuYWRkRWFjaChDb2xsZWN0aW9uc1NldC5wcm90b3R5cGUsIGdlbmVyaWNTZXQucHJvdG90eXBlKTtcblxuICAgIENvbGxlY3Rpb25zU2V0LmZyb20gPSBnZW5lcmljQ29sbGVjdGlvbi5mcm9tO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbGxlY3Rpb25zU2V0LnByb3RvdHlwZSxcInNpemVcIixnZW5lcmljQ29sbGVjdGlvbi5fc2l6ZVByb3BlcnR5RGVzY3JpcHRvcik7XG5cbiAgICAvL092ZXJyaWRlcyBmb3IgY29uc2lzdGVuY3k6XG4gICAgLy8gU2V0LnByb3RvdHlwZS5mb3JFYWNoID0gR2VuZXJpY0NvbGxlY3Rpb24ucHJvdG90eXBlLmZvckVhY2g7XG5cblxuICAgIENvbGxlY3Rpb25zU2V0LnByb3RvdHlwZS5PcmRlciA9IF9saXN0O1xuICAgIENvbGxlY3Rpb25zU2V0LnByb3RvdHlwZS5TdG9yZSA9IF9mYXN0U2V0O1xuXG4gICAgQ29sbGVjdGlvbnNTZXQucHJvdG90eXBlLmNvbnN0cnVjdENsb25lID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodmFsdWVzLCB0aGlzLmNvbnRlbnRFcXVhbHMsIHRoaXMuY29udGVudEhhc2gsIHRoaXMuZ2V0RGVmYXVsdCk7XG4gICAgfTtcblxuICAgIENvbGxlY3Rpb25zU2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBuZXcgdGhpcy5vcmRlci5Ob2RlKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuaGFzKG5vZGUpO1xuICAgIH07XG5cbiAgICBDb2xsZWN0aW9uc1NldC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHZhbHVlLCBlcXVhbHMpIHtcbiAgICAgICAgaWYgKGVxdWFscykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2V0I2dldCBkb2VzIG5vdCBzdXBwb3J0IHNlY29uZCBhcmd1bWVudDogZXF1YWxzXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub2RlID0gbmV3IHRoaXMub3JkZXIuTm9kZSh2YWx1ZSk7XG4gICAgICAgIG5vZGUgPSB0aGlzLnN0b3JlLmdldChub2RlKTtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLnZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGVmYXVsdCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQ29sbGVjdGlvbnNTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgbm9kZSA9IG5ldyB0aGlzLm9yZGVyLk5vZGUodmFsdWUpO1xuICAgICAgICBpZiAoIXRoaXMuc3RvcmUuaGFzKG5vZGUpKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMub3JkZXIuYWRkKHZhbHVlKTtcbiAgICAgICAgICAgIG5vZGUgPSB0aGlzLm9yZGVyLmhlYWQucHJldjtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuYWRkKG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5sZW5ndGgrKztcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgQ29sbGVjdGlvbnNTZXQucHJvdG90eXBlW1wiZGVsZXRlXCJdID0gZnVuY3Rpb24gKHZhbHVlLCBlcXVhbHMpIHtcbiAgICAgICAgaWYgKGVxdWFscykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2V0I2RlbGV0ZSBkb2VzIG5vdCBzdXBwb3J0IHNlY29uZCBhcmd1bWVudDogZXF1YWxzXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub2RlID0gbmV3IHRoaXMub3JkZXIuTm9kZSh2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLnN0b3JlLmhhcyhub2RlKSkge1xuICAgICAgICAgICAgbm9kZSA9IHRoaXMuc3RvcmUuZ2V0KG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5zdG9yZVtcImRlbGV0ZVwiXShub2RlKTsgLy8gcmVtb3ZlcyBmcm9tIHRoZSBzZXRcbiAgICAgICAgICAgIHRoaXMub3JkZXIuc3BsaWNlKG5vZGUsIDEpOyAvLyByZW1vdmVzIHRoZSBub2RlIGZyb20gdGhlIGxpc3RcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoLS07XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIENvbGxlY3Rpb25zU2V0LnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMub3JkZXIuaGVhZC5wcmV2LnZhbHVlO1xuICAgICAgICAgICAgdGhpc1tcImRlbGV0ZVwiXShyZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBDb2xsZWN0aW9uc1NldC5wcm90b3R5cGUuc2hpZnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMub3JkZXIuaGVhZC5uZXh0LnZhbHVlO1xuICAgICAgICAgICAgdGhpc1tcImRlbGV0ZVwiXShyZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBDb2xsZWN0aW9uc1NldC5wcm90b3R5cGUub25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5vbmUoKS52YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBDb2xsZWN0aW9uc1NldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RvcmUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5vcmRlci5jbGVhcigpO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29sbGVjdGlvbnNTZXQucHJvdG90eXBlLFwiX2NsZWFyXCIsIHtcbiAgICAgICAgdmFsdWU6IENvbGxlY3Rpb25zU2V0LnByb3RvdHlwZS5jbGVhclxuICAgIH0pO1xuXG4gICAgQ29sbGVjdGlvbnNTZXQucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uIChjYWxsYmFjaywgYmFzaXMgLyosIHRoaXNwKi8pIHtcbiAgICAgICAgdmFyIHRoaXNwID0gYXJndW1lbnRzWzJdO1xuICAgICAgICB2YXIgbGlzdCA9IHRoaXMub3JkZXI7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBsaXN0LnJlZHVjZShmdW5jdGlvbiAoYmFzaXMsIHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suY2FsbCh0aGlzcCwgYmFzaXMsIHZhbHVlLCBpbmRleCsrLCB0aGlzKTtcbiAgICAgICAgfSwgYmFzaXMsIHRoaXMpO1xuICAgIH07XG5cbiAgICBDb2xsZWN0aW9uc1NldC5wcm90b3R5cGUucmVkdWNlUmlnaHQgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGJhc2lzIC8qLCB0aGlzcCovKSB7XG4gICAgICAgIHZhciB0aGlzcCA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgdmFyIGxpc3QgPSB0aGlzLm9yZGVyO1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmxlbmd0aCAtIDE7XG4gICAgICAgIHJldHVybiBsaXN0LnJlZHVjZVJpZ2h0KGZ1bmN0aW9uIChiYXNpcywgdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNwLCBiYXNpcywgdmFsdWUsIGluZGV4LS0sIHRoaXMpO1xuICAgICAgICB9LCBiYXNpcywgdGhpcyk7XG4gICAgfTtcblxuICAgIENvbGxlY3Rpb25zU2V0LnByb3RvdHlwZS5pdGVyYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmRlci5pdGVyYXRlKCk7XG4gICAgfTtcblxuICAgIENvbGxlY3Rpb25zU2V0LnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgaXRlcmF0b3IodGhpcy52YWx1ZXNBcnJheSgpLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgQ29sbGVjdGlvbnNTZXQucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNldCA9IHRoaXMuc3RvcmU7XG4gICAgICAgIHJldHVybiBzZXQubG9nLmFwcGx5KHNldCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG5cblxuaWYoIUdsb2JhbFNldCkge1xuICAgIG1vZHVsZS5leHBvcnRzID0gQ29sbGVjdGlvbnNTZXQ7XG59XG5lbHNlIHtcbiAgICBHbG9iYWxTZXQucHJvdG90eXBlLnZhbHVlc0FycmF5ID0gZ2VuZXJpY1NldC5wcm90b3R5cGUudmFsdWVzQXJyYXk7XG4gICAgR2xvYmFsU2V0LnByb3RvdHlwZS5lbnRyaWVzQXJyYXkgPSBnZW5lcmljU2V0LnByb3RvdHlwZS5lbnRyaWVzQXJyYXk7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBHbG9iYWxTZXQ7XG4gICAgR2xvYmFsU2V0LkNvbGxlY3Rpb25zU2V0ID0gQ29sbGVjdGlvbnNTZXQ7XG59XG59KTtcblxudmFyIF9tYXAgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG5cblxuXG52YXIgTWFwLCBHbG9iYWxNYXAsIENvbGxlY3Rpb25zTWFwO1xuXG5pZigoY29tbW9uanNHbG9iYWwuTWFwICE9PSB2b2lkIDApICYmICh0eXBlb2YgY29tbW9uanNHbG9iYWwuU2V0LnByb3RvdHlwZS52YWx1ZXMgPT09IFwiZnVuY3Rpb25cIikpIHtcblxuICAgIE1hcCA9IG1vZHVsZS5leHBvcnRzID0gY29tbW9uanNHbG9iYWwuTWFwLFxuICAgIEdsb2JhbE1hcCA9IE1hcDtcbiAgICBNYXAuTWFwID0gTWFwOyAvLyBoYWNrIHNvIHJlcXVpcmUoXCJtYXBcIikuTWFwIHdpbGwgd29yayBpbiBNb250YWdlSlNcblxuICAgIC8vIHVzZSBkaWZmZXJlbnQgc3RyYXRlZ2llcyBmb3IgbWFraW5nIHNldHMgb2JzZXJ2YWJsZSBiZXR3ZWVuIEludGVybmV0XG4gICAgLy8gRXhwbG9yZXIgYW5kIG90aGVyIGJyb3dzZXJzLlxuICAgIHZhciBwcm90b0lzU3VwcG9ydGVkID0ge30uX19wcm90b19fID09PSBPYmplY3QucHJvdG90eXBlLFxuICAgICAgICBtYXBfbWFrZU9ic2VydmFibGU7XG5cbiAgICBpZiAocHJvdG9Jc1N1cHBvcnRlZCkge1xuICAgICAgICBtYXBfbWFrZU9ic2VydmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLl9fcHJvdG9fXyA9IENoYW5nZURpc3BhdGNoTWFwO1xuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcF9tYWtlT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMsIG9ic2VydmFibGVTZXRQcm9wZXJ0aWVzKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwLnByb3RvdHlwZSwgXCJtYWtlT2JzZXJ2YWJsZVwiLCB7XG4gICAgICAgIHZhbHVlOiBtYXBfbWFrZU9ic2VydmFibGUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgfSk7XG5cbiAgICAvL1RoaXMgaXMgYSBuby1vcCB0ZXN0IGluIHByb3BlcnR5LWNoYW5nZXMuanMgLSBQcm9wZXJ0eUNoYW5nZXMucHJvdG90eXBlLm1ha2VQcm9wZXJ0eU9ic2VydmFibGUsIHNvIG1pZ2h0IGFzIHdlbGwgbm90IHBheSB0aGUgcHJpY2UgZXZlcnkgdGltZS4uLi5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwLnByb3RvdHlwZSwgXCJtYWtlUHJvcGVydHlPYnNlcnZhYmxlXCIsIHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCl7fSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICB9KTtcblxuXG4gICAgTWFwLnByb3RvdHlwZS5jb25zdHJ1Y3RDbG9uZSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHZhbHVlcyk7XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUuaXNNYXAgPSB0cnVlO1xuICAgIE1hcC5wcm90b3R5cGUuYWRkRWFjaCA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgaWYgKHZhbHVlcyAmJiBPYmplY3QodmFsdWVzKSA9PT0gdmFsdWVzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlcy5mb3JFYWNoID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBjb3B5IG1hcC1hbGlrZXNcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzLmlzTWFwID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgLy8gaXRlcmF0ZSBrZXkgdmFsdWUgcGFpcnMgb2Ygb3RoZXIgaXRlcmFibGVzXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKHBhaXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KHBhaXJbMF0sIHBhaXJbMV0pO1xuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZXMubGVuZ3RoID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgLy8gQXJyYXktbGlrZSBvYmplY3RzIHRoYXQgZG8gbm90IGltcGxlbWVudCBmb3JFYWNoLCBlcmdvLFxuICAgICAgICAgICAgICAgIC8vIEFyZ3VtZW50c1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkKHZhbHVlc1tpXSwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBjb3B5IG90aGVyIG9iamVjdHMgYXMgbWFwLWFsaWtlc1xuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHZhbHVlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWVzW2tleV0pO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlcyAmJiB0eXBlb2YgdmFsdWVzLmxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgLy8gU3RyaW5nXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKHZhbHVlc1tpXSwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBNYXAucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uIChjYWxsYmFjaywgYmFzaXMgLyosIHRoaXNwKi8pIHtcbiAgICAgICAgdmFyIHRoaXNwID0gYXJndW1lbnRzWzJdO1xuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSwgbWFwKSB7XG4gICAgICAgICAgICBiYXNpcyA9IGNhbGxiYWNrLmNhbGwodGhpc3AsIGJhc2lzLCB2YWx1ZSwga2V5LCB0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBiYXNpcztcbiAgICB9O1xuXG4gICAgTWFwLnByb3RvdHlwZS5yZWR1Y2VSaWdodCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgYmFzaXMgLyosIHRoaXNwKi8pIHtcbiAgICAgICAgdmFyIHRoaXNwID0gYXJndW1lbnRzWzJdO1xuICAgICAgICB2YXIga2V5c0l0ZXJhdG9yID0gdGhpcy5rZXlzKCk7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgICAgICB2YXIgcmV2ZXJzZU9yZGVyID0gbmV3IEFycmF5KHRoaXMuc2l6ZSk7XG4gICAgICAgIHZhciBhS2V5LCBpID0gMDtcbiAgICAgICAgd2hpbGUgKChhS2V5ID0ga2V5c0l0ZXJhdG9yLm5leHQoKS52YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldmVyc2VPcmRlclstLXNpemVdID0gYUtleTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaSsrIDwgc2l6ZSkge1xuICAgICAgICAgICAgYmFzaXMgPSBjYWxsYmFjay5jYWxsKHRoaXNwLCBiYXNpcywgdGhpcy5nZXQocmV2ZXJzZU9yZGVyW2ldKSwgcmV2ZXJzZU9yZGVyW2ldLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzaXM7XG4gICAgfTtcblxuICAgIE1hcC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKHRoYXQsIGVxdWFscykge1xuICAgICAgICBlcXVhbHMgPSBlcXVhbHMgfHwgT2JqZWN0LmVxdWFscztcbiAgICAgICAgaWYgKHRoaXMgPT09IHRoYXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoYXQgJiYgdHlwZW9mIHRoYXQuZXZlcnkgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoYXQuc2l6ZSA9PT0gdGhpcy5zaXplICYmIHRoYXQuZXZlcnkoZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXF1YWxzKHRoaXMuZ2V0KGtleSksIHZhbHVlKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0aGF0KTtcbiAgICAgICAgICAgIHJldHVybiBrZXlzLmxlbmd0aCA9PT0gdGhpcy5zaXplICYmIE9iamVjdC5rZXlzKHRoYXQpLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXF1YWxzKHRoaXMuZ2V0KGtleSksIHRoYXRba2V5XSk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgX2tleXNBcnJheUZ1bmN0aW9uID0gZnVuY3Rpb24odmFsdWUsa2V5KSB7cmV0dXJuIGtleTt9O1xuICAgIE1hcC5wcm90b3R5cGUua2V5c0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcChfa2V5c0FycmF5RnVuY3Rpb24pO1xuICAgIH07XG4gICAgdmFyIF92YWx1ZXNBcnJheUZ1bmN0aW9uID0gZnVuY3Rpb24odmFsdWUsa2V5KSB7cmV0dXJuIHZhbHVlO307XG4gICAgTWFwLnByb3RvdHlwZS52YWx1ZXNBcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAoX3ZhbHVlc0FycmF5RnVuY3Rpb24pO1xuICAgIH07XG4gICAgdmFyIF9lbnRyaWVzQXJyYXlGdW5jdGlvbiA9IGZ1bmN0aW9uKHZhbHVlLGtleSkge3JldHVybiBba2V5LHZhbHVlXTt9O1xuICAgIE1hcC5wcm90b3R5cGUuZW50cmllc0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcChfZW50cmllc0FycmF5RnVuY3Rpb24pO1xuICAgIH07XG4gICAgTWFwLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVudHJpZXNBcnJheSgpO1xuICAgIH07XG5cbiAgICAvLyBYWFggZGVwcmVjYXRlZFxuICAgIE1hcC5wcm90b3R5cGUuaXRlbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVudHJpZXNBcnJheSgpO1xuICAgIH07XG5cbiAgICAvLyBNYXAucHJvdG90eXBlLmNvbnRlbnRFcXVhbHMgPSBPYmplY3QuZXF1YWxzO1xuICAgIC8vIE1hcC5wcm90b3R5cGUuY29udGVudEhhc2ggPSBPYmplY3QuaGFzaDtcblxuXG4gICAgTWFwLmZyb20gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyB0aGlzO1xuICAgICAgICByZXN1bHQuYWRkRWFjaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuXG4gICAgLy9CYWNrd2FyZCBjb21wYXRpYmlsaXR5OlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXAucHJvdG90eXBlLFwibGVuZ3RoXCIse1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOnRydWVcbiAgICB9KTtcblxuXG4gICAgdmFyIG1hcF9jbGVhciA9IE1hcC5wcm90b3R5cGUuY2xlYXIsXG4gICAgICAgIG1hcF9zZXQgPSBNYXAucHJvdG90eXBlLnNldCxcbiAgICAgICAgbWFwX2RlbGV0ZSA9IE1hcC5wcm90b3R5cGUuZGVsZXRlO1xuXG4gICAgdmFyIG9ic2VydmFibGVNYXBQcm9wZXJ0aWVzID0ge1xuICAgICAgICBjbGVhciA6IHtcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleXM7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hlc01hcENoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoQmVmb3JlTWFwQ2hhbmdlKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAga2V5cyA9IHRoaXMua2V5c0FycmF5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1hcF9jbGVhci5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpc3BhdGNoZXNNYXBDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoTWFwQ2hhbmdlKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXG4gICAgICAgIH0sXG4gICAgICAgIHNldCA6IHtcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IHRoaXMuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kKSB7IC8vIHVwZGF0ZVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXNwYXRjaGVzTWFwQ2hhbmdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEJlZm9yZU1hcENoYW5nZShrZXksIGZvdW5kKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG1hcF9zZXQuY2FsbCh0aGlzLGtleSwgdmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpc3BhdGNoZXNNYXBDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoTWFwQ2hhbmdlKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gY3JlYXRlXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpc3BhdGNoZXNNYXBDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoQmVmb3JlTWFwQ2hhbmdlKGtleSwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG1hcF9zZXQuY2FsbCh0aGlzLGtleSwgdmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpc3BhdGNoZXNNYXBDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoTWFwQ2hhbmdlKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0sXG5cbiAgICAgICAgXCJkZWxldGVcIjoge1xuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kaXNwYXRjaGVzTWFwQ2hhbmdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEJlZm9yZU1hcENoYW5nZShrZXksIHRoaXMuZ2V0KGtleSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1hcF9kZWxldGUuY2FsbCh0aGlzLGtleSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hlc01hcENoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hNYXBDaGFuZ2Uoa2V5LCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG5cblxuICAgIE9iamVjdC5hZGRFYWNoKE1hcC5wcm90b3R5cGUsIGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZSwgZmFsc2UpO1xuXG4gICAgdmFyIENoYW5nZURpc3BhdGNoTWFwID0gT2JqZWN0LmNyZWF0ZShNYXAucHJvdG90eXBlLCBvYnNlcnZhYmxlTWFwUHJvcGVydGllcyk7XG59XG5cbiAgICB2YXIgU2V0ID0gX3NldC5Db2xsZWN0aW9uc1NldDtcbiAgICBcblxuICAgIENvbGxlY3Rpb25zTWFwID0gTWFwID0gZnVuY3Rpb24gTWFwKHZhbHVlcywgZXF1YWxzLCBoYXNoLCBnZXREZWZhdWx0KSB7XG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBNYXApKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hcCh2YWx1ZXMsIGVxdWFscywgaGFzaCwgZ2V0RGVmYXVsdCk7XG4gICAgICAgIH1cbiAgICAgICAgZXF1YWxzID0gZXF1YWxzIHx8IE9iamVjdC5lcXVhbHM7XG4gICAgICAgIGhhc2ggPSBoYXNoIHx8IE9iamVjdC5oYXNoO1xuICAgICAgICBnZXREZWZhdWx0ID0gZ2V0RGVmYXVsdCB8fCBGdW5jdGlvbi5ub29wO1xuICAgICAgICB0aGlzLmNvbnRlbnRFcXVhbHMgPSBlcXVhbHM7XG4gICAgICAgIHRoaXMuY29udGVudEhhc2ggPSBoYXNoO1xuICAgICAgICB0aGlzLmdldERlZmF1bHQgPSBnZXREZWZhdWx0O1xuICAgICAgICB0aGlzLnN0b3JlID0gbmV3IFNldChcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGZ1bmN0aW9uIGtleXNFcXVhbChhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVxdWFscyhhLmtleSwgYi5rZXkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIGtleUhhc2goaXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBoYXNoKGl0ZW0ua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmFkZEVhY2godmFsdWVzKTtcbiAgICB9O1xuXG4gICAgTWFwLk1hcCA9IE1hcDsgLy8gaGFjayBzbyByZXF1aXJlKFwibWFwXCIpLk1hcCB3aWxsIHdvcmsgaW4gTW9udGFnZUpTXG5cbiAgICBPYmplY3QuYWRkRWFjaChNYXAucHJvdG90eXBlLCBnZW5lcmljQ29sbGVjdGlvbi5wcm90b3R5cGUpO1xuICAgIE9iamVjdC5hZGRFYWNoKE1hcC5wcm90b3R5cGUsIGdlbmVyaWNNYXAucHJvdG90eXBlKTsgLy8gb3ZlcnJpZGVzIEdlbmVyaWNDb2xsZWN0aW9uXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hcC5wcm90b3R5cGUsXCJzaXplXCIsZ2VuZXJpY0NvbGxlY3Rpb24uX3NpemVQcm9wZXJ0eURlc2NyaXB0b3IpO1xuXG4gICAgTWFwLmZyb20gPSBnZW5lcmljQ29sbGVjdGlvbi5mcm9tO1xuXG4gICAgTWFwLnByb3RvdHlwZS5jb25zdHJ1Y3RDbG9uZSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKFxuICAgICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgICAgdGhpcy5jb250ZW50RXF1YWxzLFxuICAgICAgICAgICAgdGhpcy5jb250ZW50SGFzaCxcbiAgICAgICAgICAgIHRoaXMuZ2V0RGVmYXVsdFxuICAgICAgICApO1xuICAgIH07XG5cbiAgICBNYXAucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uIChjaGFybWFwLCBsb2dOb2RlLCBjYWxsYmFjaywgdGhpc3ApIHtcbiAgICAgICAgbG9nTm9kZSA9IGxvZ05vZGUgfHwgdGhpcy5sb2dOb2RlO1xuICAgICAgICB0aGlzLnN0b3JlLmxvZyhjaGFybWFwLCBmdW5jdGlvbiAobm9kZSwgbG9nLCBsb2dCZWZvcmUpIHtcbiAgICAgICAgICAgIGxvZ05vZGUobm9kZS52YWx1ZS52YWx1ZSwgbG9nLCBsb2dCZWZvcmUpO1xuICAgICAgICB9LCBjYWxsYmFjaywgdGhpc3ApO1xuICAgIH07XG5cbiAgICBNYXAucHJvdG90eXBlLmxvZ05vZGUgPSBmdW5jdGlvbiAobm9kZSwgbG9nKSB7XG4gICAgICAgIGxvZygnIGtleTogJyArIG5vZGUua2V5KTtcbiAgICAgICAgbG9nKCcgdmFsdWU6ICcgKyBub2RlLnZhbHVlKTtcbiAgICB9O1xuXG4gICAgaWYoIUdsb2JhbE1hcCkge1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IENvbGxlY3Rpb25zTWFwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBHbG9iYWxNYXA7XG4gICAgICAgIEdsb2JhbE1hcC5Db2xsZWN0aW9uc01hcCA9IENvbGxlY3Rpb25zTWFwO1xuICAgIH1cbn0pO1xuXG52YXIgY2hhbmdlRGVzY3JpcHRvciA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcbi8qXG4gICAgQ29weXJpZ2h0IChjKSAyMDE2LCBNb250YWdlIFN0dWRpbyBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gICAgMy1DbGF1c2UgQlNEIExpY2Vuc2VcbiAgICBodHRwczovL2dpdGh1Yi5jb20vbW9udGFnZWpzL21vbnRhZ2UvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxuKi9cblxuXG5cbnZhciBPYmplY3RDaGFuZ2VEZXNjcmlwdG9yID0gbW9kdWxlLmV4cG9ydHMuT2JqZWN0Q2hhbmdlRGVzY3JpcHRvciA9IGZ1bmN0aW9uIE9iamVjdENoYW5nZURlc2NyaXB0b3IobmFtZSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuX3dpbGxDaGFuZ2VMaXN0ZW5lcnMgPSBudWxsO1xuICAgIHRoaXMuX2NoYW5nZUxpc3RlbmVycyA9IG51bGw7XG5cdHJldHVybiB0aGlzO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoT2JqZWN0Q2hhbmdlRGVzY3JpcHRvci5wcm90b3R5cGUse1xuICAgIG5hbWU6IHtcblx0XHR2YWx1ZTpudWxsLFxuXHRcdHdyaXRhYmxlOiB0cnVlXG5cdH0sXG4gICAgaXNBY3RpdmU6IHtcblx0XHR2YWx1ZTpmYWxzZSxcblx0XHR3cml0YWJsZTogdHJ1ZVxuXHR9LFxuXHRfd2lsbENoYW5nZUxpc3RlbmVyczoge1xuXHRcdHZhbHVlOm51bGwsXG5cdFx0d3JpdGFibGU6IHRydWVcblx0fSxcblx0d2lsbENoYW5nZUxpc3RlbmVyczoge1xuXHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fd2lsbENoYW5nZUxpc3RlbmVycyB8fCAodGhpcy5fd2lsbENoYW5nZUxpc3RlbmVycyA9IG5ldyB0aGlzLndpbGxDaGFuZ2VMaXN0ZW5lcnNSZWNvcmRDb25zdHJ1Y3Rvcih0aGlzLm5hbWUpKTtcblx0XHR9XG5cdH0sXG5cdF9jaGFuZ2VMaXN0ZW5lcnM6IHtcblx0XHR2YWx1ZTpudWxsLFxuXHRcdHdyaXRhYmxlOiB0cnVlXG5cdH0sXG4gICAgY2hhbmdlTGlzdGVuZXJzOiB7XG5cdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLl9jaGFuZ2VMaXN0ZW5lcnMgfHwgKHRoaXMuX2NoYW5nZUxpc3RlbmVycyA9IG5ldyB0aGlzLmNoYW5nZUxpc3RlbmVyc1JlY29yZENvbnN0cnVjdG9yKHRoaXMubmFtZSkpO1xuXHRcdH1cblx0fSxcbiAgICBjaGFuZ2VMaXN0ZW5lcnNSZWNvcmRDb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogQ2hhbmdlTGlzdGVuZXJzUmVjb3JkLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgd2lsbENoYW5nZUxpc3RlbmVyc1JlY29yZENvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBXaWxsQ2hhbmdlTGlzdGVuZXJzUmVjb3JkLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH1cblxufSk7XG5cbnZhciBMaXN0ZW5lckdob3N0ID0gbW9kdWxlLmV4cG9ydHMuTGlzdGVuZXJHaG9zdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG52YXIgQ2hhbmdlTGlzdGVuZXJTcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lID0gbmV3IF9tYXAoKTtcblxuIG1vZHVsZS5leHBvcnRzLkNoYW5nZUxpc3RlbmVyc1JlY29yZCA9IENoYW5nZUxpc3RlbmVyc1JlY29yZDtcbmZ1bmN0aW9uIENoYW5nZUxpc3RlbmVyc1JlY29yZChuYW1lKSB7XG4gICAgdmFyIHNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUgPSBDaGFuZ2VMaXN0ZW5lclNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUuZ2V0KG5hbWUpO1xuICAgIGlmKCFzcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lKSB7XG4gICAgICAgIHNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUgPSBcImhhbmRsZVwiO1xuICAgICAgICBzcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lICs9IG5hbWU7XG4gICAgICAgIHNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUgKz0gXCJDaGFuZ2VcIjtcbiAgICAgICAgQ2hhbmdlTGlzdGVuZXJTcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lLnNldChuYW1lLHNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUpO1xuICAgIH1cbiAgICB0aGlzLl9jdXJyZW50ID0gbnVsbDtcbiAgICB0aGlzLl9jdXJyZW50ID0gbnVsbDtcbiAgICB0aGlzLnNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUgPSBzcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lO1xuICAgIHJldHVybiB0aGlzO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhDaGFuZ2VMaXN0ZW5lcnNSZWNvcmQucHJvdG90eXBlLHtcbiAgICBfY3VycmVudDoge1xuXHRcdHZhbHVlOiBudWxsLFxuXHRcdHdyaXRhYmxlOiB0cnVlXG5cdH0sXG5cdGN1cnJlbnQ6IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gaWYodGhpcy5fY3VycmVudCkge1xuICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHRoaXMuY29uc3RydWN0b3IubmFtZSxcIiB3aXRoIFwiLHRoaXMuX2N1cnJlbnQubGVuZ3RoLFwiIGxpc3RlbmVyczogXCIsIHRoaXMuX2N1cnJlbnQpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnQ7XG4gICAgICAgICAgICAvL3JldHVybiB0aGlzLl9jdXJyZW50IHx8ICh0aGlzLl9jdXJyZW50ID0gW10pO1xuXHRcdH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSB2YWx1ZTtcbiAgICAgICAgfVxuXHR9LFxuICAgIExpc3RlbmVyR2hvc3Q6IHtcbiAgICAgICAgdmFsdWU6TGlzdGVuZXJHaG9zdCxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9LFxuICAgIGdob3N0Q291bnQ6IHtcbiAgICAgICAgdmFsdWU6MCxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9LFxuICAgIG1heExpc3RlbmVyR2hvc3RSYXRpbzoge1xuICAgICAgICB2YWx1ZTowLjMsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBsaXN0ZW5lckdob3N0RmlsdGVyOiB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBsaXN0ZW5lckdob3N0RmlsdGVyKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlICE9PSB0aGlzLkxpc3RlbmVyR2hvc3Q7XG4gICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVDdXJyZW50R29zdExpc3RlbmVyc0lmTmVlZGVkOiB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmKHRoaXMuX2N1cnJlbnQgJiYgdGhpcy5naG9zdENvdW50L3RoaXMuX2N1cnJlbnQubGVuZ3RoPnRoaXMubWF4TGlzdGVuZXJHaG9zdFJhdGlvKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5naG9zdENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gdGhpcy5fY3VycmVudC5maWx0ZXIodGhpcy5saXN0ZW5lckdob3N0RmlsdGVyLHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRpc3BhdGNoQmVmb3JlQ2hhbmdlOiB7XG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9LFxuICAgIGdlbmVyaWNIYW5kbGVyTWV0aG9kTmFtZToge1xuXHRcdHZhbHVlOiBcImhhbmRsZVByb3BlcnR5Q2hhbmdlXCIsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG5cdH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cy5XaWxsQ2hhbmdlTGlzdGVuZXJzUmVjb3JkID0gV2lsbENoYW5nZUxpc3RlbmVyc1JlY29yZDtcbnZhciBXaWxsQ2hhbmdlTGlzdGVuZXJTcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lID0gbmV3IF9tYXAoKTtcbmZ1bmN0aW9uIFdpbGxDaGFuZ2VMaXN0ZW5lcnNSZWNvcmQobmFtZSkge1xuICAgIHZhciBzcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lID0gV2lsbENoYW5nZUxpc3RlbmVyU3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZS5nZXQobmFtZSk7XG4gICAgaWYoIXNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUpIHtcbiAgICAgICAgc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZSA9IFwiaGFuZGxlXCI7XG4gICAgICAgIHNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUgKz0gbmFtZTtcbiAgICAgICAgc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZSArPSBcIldpbGxDaGFuZ2VcIjtcbiAgICAgICAgV2lsbENoYW5nZUxpc3RlbmVyU3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZS5zZXQobmFtZSxzcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lKTtcbiAgICB9XG4gICAgdGhpcy5zcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lID0gc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZTtcblx0cmV0dXJuIHRoaXM7XG59XG5XaWxsQ2hhbmdlTGlzdGVuZXJzUmVjb3JkLnByb3RvdHlwZSA9IG5ldyBDaGFuZ2VMaXN0ZW5lcnNSZWNvcmQoKTtcbldpbGxDaGFuZ2VMaXN0ZW5lcnNSZWNvcmQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gV2lsbENoYW5nZUxpc3RlbmVyc1JlY29yZDtcbldpbGxDaGFuZ2VMaXN0ZW5lcnNSZWNvcmQucHJvdG90eXBlLmdlbmVyaWNIYW5kbGVyTWV0aG9kTmFtZSA9IFwiaGFuZGxlUHJvcGVydHlXaWxsQ2hhbmdlXCI7XG59KTtcbnZhciBjaGFuZ2VEZXNjcmlwdG9yXzEgPSBjaGFuZ2VEZXNjcmlwdG9yLk9iamVjdENoYW5nZURlc2NyaXB0b3I7XG52YXIgY2hhbmdlRGVzY3JpcHRvcl8yID0gY2hhbmdlRGVzY3JpcHRvci5MaXN0ZW5lckdob3N0O1xudmFyIGNoYW5nZURlc2NyaXB0b3JfMyA9IGNoYW5nZURlc2NyaXB0b3IuQ2hhbmdlTGlzdGVuZXJzUmVjb3JkO1xudmFyIGNoYW5nZURlc2NyaXB0b3JfNCA9IGNoYW5nZURlc2NyaXB0b3IuV2lsbENoYW5nZUxpc3RlbmVyc1JlY29yZDtcblxuLy8gT2JqZWN0IHByb3BlcnR5IGRlc2NyaXB0b3JzIGNhcnJ5IGluZm9ybWF0aW9uIG5lY2Vzc2FyeSBmb3IgYWRkaW5nLFxuLy8gcmVtb3ZpbmcsIGRpc3BhdGNoaW5nLCBhbmQgc2hvcnRpbmcgZXZlbnRzIHRvIGxpc3RlbmVycyBmb3IgcHJvcGVydHkgY2hhbmdlc1xuLy8gZm9yIGEgcGFydGljdWxhciBrZXkgb24gYSBwYXJ0aWN1bGFyIG9iamVjdC4gIFRoZXNlIGRlc2NyaXB0b3JzIGFyZSB1c2VkXG4vLyBoZXJlIGZvciBzaGFsbG93IHByb3BlcnR5IGNoYW5nZXMuICBUaGUgY3VycmVudCBsaXN0ZW5lcnMgYXJlIHRoZSBvbmVzXG4vLyBtb2RpZmllZCBieSBhZGQgYW5kIHJlbW92ZSBvd24gcHJvcGVydHkgY2hhbmdlIGxpc3RlbmVyIG1ldGhvZHMuICBEdXJpbmdcbi8vIHByb3BlcnR5IGNoYW5nZSBkaXNwYXRjaCwgd2UgY2FwdHVyZSBhIHNuYXBzaG90IG9mIHRoZSBjdXJyZW50IGxpc3RlbmVycyBpblxuLy8gdGhlIGFjdGl2ZSBjaGFuZ2UgbGlzdGVuZXJzIGFycmF5LiAgVGhlIGRlc2NyaXB0b3IgYWxzbyBrZWVwcyBhIG1lbW8gb2YgdGhlXG4vLyBjb3JyZXNwb25kaW5nIGhhbmRsZXIgbWV0aG9kIG5hbWVzLlxuLy9cbi8vIHtcbi8vICAgICB3aWxsQ2hhbmdlTGlzdGVuZXJzOntjdXJyZW50LCBhY3RpdmU6QXJyYXk8RnVuY3Rpb24+LCAuLi5tZXRob2QgbmFtZXN9XG4vLyAgICAgY2hhbmdlTGlzdGVuZXJzOntjdXJyZW50LCBhY3RpdmU6QXJyYXk8RnVuY3Rpb24+LCAuLi5tZXRob2QgbmFtZXN9XG4vLyB9XG5cbi8vIE1heWJlIHJlbW92ZSBlbnRyaWVzIGZyb20gdGhpcyB0YWJsZSBpZiB0aGUgY29ycmVzcG9uZGluZyBvYmplY3Qgbm8gbG9uZ2VyXG4vLyBoYXMgYW55IHByb3BlcnR5IGNoYW5nZSBsaXN0ZW5lcnMgZm9yIGFueSBrZXkuICBIb3dldmVyLCB0aGUgY29zdCBvZlxuLy8gYm9vay1rZWVwaW5nIGlzIHByb2JhYmx5IG5vdCB3YXJyYW50ZWQgc2luY2UgaXQgd291bGQgYmUgcmFyZSBmb3IgYW5cbi8vIG9ic2VydmVkIG9iamVjdCB0byBubyBsb25nZXIgYmUgb2JzZXJ2ZWQgdW5sZXNzIGl0IHdhcyBhYm91dCB0byBiZSBkaXNwb3NlZFxuLy8gb2Ygb3IgcmV1c2VkIGFzIGFuIG9ic2VydmFibGUuICBUaGUgb25seSBiZW5lZml0IHdvdWxkIGJlIGluIGF2b2lkaW5nIGJ1bGtcbi8vIGNhbGxzIHRvIGRpc3BhdGNoT3duUHJvcGVydHlDaGFuZ2UgZXZlbnRzIG9uIG9iamVjdHMgdGhhdCBoYXZlIG5vIGxpc3RlbmVycy5cblxuLy8gIFRvIG9ic2VydmUgc2hhbGxvdyBwcm9wZXJ0eSBjaGFuZ2VzIGZvciBhIHBhcnRpY3VsYXIga2V5IG9mIGEgcGFydGljdWxhclxuLy8gIG9iamVjdCwgd2UgaW5zdGFsbCBhIHByb3BlcnR5IGRlc2NyaXB0b3Igb24gdGhlIG9iamVjdCB0aGF0IG92ZXJyaWRlcyB0aGUgcHJldmlvdXNcbi8vICBkZXNjcmlwdG9yLiAgVGhlIG92ZXJyaWRkZW4gZGVzY3JpcHRvcnMgYXJlIHN0b3JlZCBpbiB0aGlzIHdlYWsgbWFwLiAgVGhlXG4vLyAgd2VhayBtYXAgYXNzb2NpYXRlcyBhbiBvYmplY3Qgd2l0aCBhbm90aGVyIG9iamVjdCB0aGF0IG1hcHMgcHJvcGVydHkgbmFtZXNcbi8vICB0byBwcm9wZXJ0eSBkZXNjcmlwdG9ycy5cbi8vXG4vLyAgb2JqZWN0Ll9fb3ZlcnJpZGRlblByb3BlcnR5RGVzY3JpcHRvcnNfX1trZXldXG4vL1xuLy8gIFdlIHJldGFpbiB0aGUgb2xkIGRlc2NyaXB0b3IgZm9yIHZhcmlvdXMgcHVycG9zZXMuICBGb3Igb25lLCBpZiB0aGUgcHJvcGVydHlcbi8vICBpcyBubyBsb25nZXIgYmVpbmcgb2JzZXJ2ZWQgYnkgYW55b25lLCB3ZSByZXZlcnQgdGhlIHByb3BlcnR5IGRlc2NyaXB0b3IgdG9cbi8vICB0aGUgb3JpZ2luYWwuICBGb3IgXCJ2YWx1ZVwiIGRlc2NyaXB0b3JzLCB3ZSBzdG9yZSB0aGUgYWN0dWFsIHZhbHVlIG9mIHRoZVxuLy8gIGRlc2NyaXB0b3Igb24gdGhlIG92ZXJyaWRkZW4gZGVzY3JpcHRvciwgc28gd2hlbiB0aGUgcHJvcGVydHkgaXMgcmV2ZXJ0ZWQsIGl0XG4vLyAgcmV0YWlucyB0aGUgbW9zdCByZWNlbnRseSBzZXQgdmFsdWUuICBGb3IgXCJnZXRcIiBhbmQgXCJzZXRcIiBkZXNjcmlwdG9ycyxcbi8vICB3ZSBvYnNlcnZlIHRoZW4gZm9yd2FyZCBcImdldFwiIGFuZCBcInNldFwiIG9wZXJhdGlvbnMgdG8gdGhlIG9yaWdpbmFsIGRlc2NyaXB0b3IuXG5cbnZhciBwcm9wZXJ0eUNoYW5nZXMgPSBQcm9wZXJ0eUNoYW5nZXM7XG5cbmZ1bmN0aW9uIFByb3BlcnR5Q2hhbmdlcygpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGlzIGFuIGFic3RyYWN0IGludGVyZmFjZS4gTWl4IGl0LiBEb24ndCBjb25zdHJ1Y3QgaXRcIik7XG59XG5cblxuXG5cbnZhciBPYmplY3RDaGFuZ2VEZXNjcmlwdG9yID0gY2hhbmdlRGVzY3JpcHRvci5PYmplY3RDaGFuZ2VEZXNjcmlwdG9yLFxuICAgIExpc3RlbmVyR2hvc3QgPSBjaGFuZ2VEZXNjcmlwdG9yLkxpc3RlbmVyR2hvc3Q7XG5cblByb3BlcnR5Q2hhbmdlcy5kZWJ1ZyA9IHRydWU7XG5cbnZhciBPYmplY3RzUHJvcGVydHlDaGFuZ2VMaXN0ZW5lcnMgPSBuZXcgd2Vha01hcCQxKCk7XG5cbnZhciBPYmplY3RDaGFuZ2VEZXNjcmlwdG9yTmFtZSA9IG5ldyBfbWFwKCk7XG5cblByb3BlcnR5Q2hhbmdlcy5PYmplY3RDaGFuZ2VEZXNjcmlwdG9yID0gZnVuY3Rpb24oKSB7XG5cbn07XG5cblByb3BlcnR5Q2hhbmdlcy5wcm90b3R5cGUuZ2V0T3duUHJvcGVydHlDaGFuZ2VEZXNjcmlwdG9yID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBvYmplY3RQcm9wZXJ0eUNoYW5nZURlc2NyaXB0b3JzID0gT2JqZWN0c1Byb3BlcnR5Q2hhbmdlTGlzdGVuZXJzLmdldCh0aGlzKSwga2V5Q2hhbmdlRGVzY3JpcHRvcjtcbiAgICBpZiAoIW9iamVjdFByb3BlcnR5Q2hhbmdlRGVzY3JpcHRvcnMpIHtcbiAgICAgICAgb2JqZWN0UHJvcGVydHlDaGFuZ2VEZXNjcmlwdG9ycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIE9iamVjdHNQcm9wZXJ0eUNoYW5nZUxpc3RlbmVycy5zZXQodGhpcyxvYmplY3RQcm9wZXJ0eUNoYW5nZURlc2NyaXB0b3JzKTtcbiAgICB9XG4gICAgaWYgKCAoa2V5Q2hhbmdlRGVzY3JpcHRvciA9IG9iamVjdFByb3BlcnR5Q2hhbmdlRGVzY3JpcHRvcnNba2V5XSkgPT09IHZvaWQgMCkge1xuICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0gT2JqZWN0Q2hhbmdlRGVzY3JpcHRvck5hbWUuZ2V0KGtleSk7XG4gICAgICAgIGlmKCFwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgIHByb3BlcnR5TmFtZSA9IFN0cmluZyhrZXkpO1xuICAgICAgICAgICAgcHJvcGVydHlOYW1lID0gcHJvcGVydHlOYW1lICYmIHByb3BlcnR5TmFtZVswXS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHlOYW1lLnNsaWNlKDEpO1xuICAgICAgICAgICAgT2JqZWN0Q2hhbmdlRGVzY3JpcHRvck5hbWUuc2V0KGtleSxwcm9wZXJ0eU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3RQcm9wZXJ0eUNoYW5nZURlc2NyaXB0b3JzW2tleV0gPSBuZXcgT2JqZWN0Q2hhbmdlRGVzY3JpcHRvcihwcm9wZXJ0eU5hbWUpO1xuICAgIH1cbiAgICBlbHNlIHJldHVybiBrZXlDaGFuZ2VEZXNjcmlwdG9yO1xufTtcblxuUHJvcGVydHlDaGFuZ2VzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eUNoYW5nZURlc2NyaXB0b3IgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIG9iamVjdFByb3BlcnR5Q2hhbmdlRGVzY3JpcHRvcnMgPSBPYmplY3RzUHJvcGVydHlDaGFuZ2VMaXN0ZW5lcnMuZ2V0KHRoaXMpO1xuICAgIGlmICghb2JqZWN0UHJvcGVydHlDaGFuZ2VEZXNjcmlwdG9ycykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICgha2V5KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAob2JqZWN0UHJvcGVydHlDaGFuZ2VEZXNjcmlwdG9yc1trZXldID09PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cblByb3BlcnR5Q2hhbmdlcy5wcm90b3R5cGUuYWRkT3duUHJvcGVydHlDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uIChrZXksIGxpc3RlbmVyLCBiZWZvcmVDaGFuZ2UpIHtcbiAgICBpZiAodGhpcy5tYWtlT2JzZXJ2YWJsZSAmJiAhdGhpcy5pc09ic2VydmFibGUpIHtcbiAgICAgICAgdGhpcy5tYWtlT2JzZXJ2YWJsZSgpOyAvLyBwYXJ0aWN1bGFybHkgZm9yIG9ic2VydmFibGUgYXJyYXlzLCBmb3JcbiAgICAgICAgLy8gdGhlaXIgbGVuZ3RoIHByb3BlcnR5XG4gICAgfVxuICAgIHZhciBkZXNjcmlwdG9yID0gUHJvcGVydHlDaGFuZ2VzLmdldE93blByb3BlcnR5Q2hhbmdlRGVzY3JpcHRvcih0aGlzLCBrZXkpLFxuICAgICAgICBsaXN0ZW5lcnMgPSBiZWZvcmVDaGFuZ2UgPyBkZXNjcmlwdG9yLndpbGxDaGFuZ2VMaXN0ZW5lcnMgOiBkZXNjcmlwdG9yLmNoYW5nZUxpc3RlbmVycztcblxuICAgIFByb3BlcnR5Q2hhbmdlcy5tYWtlUHJvcGVydHlPYnNlcnZhYmxlKHRoaXMsIGtleSk7XG5cbiAgICBpZighbGlzdGVuZXJzLl9jdXJyZW50KSB7XG4gICAgICAgIGxpc3RlbmVycy5fY3VycmVudCA9IGxpc3RlbmVyO1xuICAgIH1cbiAgICBlbHNlIGlmKCFBcnJheS5pc0FycmF5KGxpc3RlbmVycy5fY3VycmVudCkpIHtcbiAgICAgICAgbGlzdGVuZXJzLl9jdXJyZW50ID0gW2xpc3RlbmVycy5fY3VycmVudCxsaXN0ZW5lcl07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsaXN0ZW5lcnMuX2N1cnJlbnQucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBmdW5jdGlvbiBjYW5jZWxPd25Qcm9wZXJ0eUNoYW5nZUxpc3RlbmVyKCkge1xuICAgICAgICBQcm9wZXJ0eUNoYW5nZXMucmVtb3ZlT3duUHJvcGVydHlDaGFuZ2VMaXN0ZW5lcihzZWxmLCBrZXksIGxpc3RlbmVyLCBiZWZvcmVDaGFuZ2UpO1xuICAgICAgICBzZWxmID0gbnVsbDtcbiAgICB9O1xufTtcblxuUHJvcGVydHlDaGFuZ2VzLnByb3RvdHlwZS5hZGRCZWZvcmVPd25Qcm9wZXJ0eUNoYW5nZUxpc3RlbmVyID0gZnVuY3Rpb24gKGtleSwgbGlzdGVuZXIpIHtcbiAgICByZXR1cm4gUHJvcGVydHlDaGFuZ2VzLmFkZE93blByb3BlcnR5Q2hhbmdlTGlzdGVuZXIodGhpcywga2V5LCBsaXN0ZW5lciwgdHJ1ZSk7XG59O1xuXG5Qcm9wZXJ0eUNoYW5nZXMucHJvdG90eXBlLnJlbW92ZU93blByb3BlcnR5Q2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVPd25Qcm9wZXJ0eUNoYW5nZUxpc3RlbmVyKGtleSwgbGlzdGVuZXIsIGJlZm9yZUNoYW5nZSkge1xuICAgIHZhciBkZXNjcmlwdG9yID0gUHJvcGVydHlDaGFuZ2VzLmdldE93blByb3BlcnR5Q2hhbmdlRGVzY3JpcHRvcih0aGlzLCBrZXkpO1xuXG4gICAgdmFyIGxpc3RlbmVycztcbiAgICBpZiAoYmVmb3JlQ2hhbmdlKSB7XG4gICAgICAgIGxpc3RlbmVycyA9IGRlc2NyaXB0b3IuX3dpbGxDaGFuZ2VMaXN0ZW5lcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbGlzdGVuZXJzID0gZGVzY3JpcHRvci5fY2hhbmdlTGlzdGVuZXJzO1xuICAgIH1cblxuICAgIGlmKGxpc3RlbmVycykge1xuICAgICAgICBpZihsaXN0ZW5lcnMuX2N1cnJlbnQpIHtcbiAgICAgICAgICAgIGlmKGxpc3RlbmVycy5fY3VycmVudCA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuX2N1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuX2N1cnJlbnQubGFzdEluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgcmVtb3ZlIHByb3BlcnR5IGNoYW5nZSBsaXN0ZW5lcjogZG9lcyBub3QgZXhpc3Q6IHByb3BlcnR5IG5hbWVcIiArIEpTT04uc3RyaW5naWZ5KGtleSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihkZXNjcmlwdG9yLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5naG9zdENvdW50ID0gbGlzdGVuZXJzLmdob3N0Q291bnQrMTtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLl9jdXJyZW50W2luZGV4XT1yZW1vdmVPd25Qcm9wZXJ0eUNoYW5nZUxpc3RlbmVyLkxpc3RlbmVyR2hvc3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuX2N1cnJlbnQuc3BsaWNlT25lKGluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuUHJvcGVydHlDaGFuZ2VzLnByb3RvdHlwZS5yZW1vdmVPd25Qcm9wZXJ0eUNoYW5nZUxpc3RlbmVyLkxpc3RlbmVyR2hvc3QgPSBMaXN0ZW5lckdob3N0O1xuXG5Qcm9wZXJ0eUNoYW5nZXMucHJvdG90eXBlLnJlbW92ZUJlZm9yZU93blByb3BlcnR5Q2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbiAoa2V5LCBsaXN0ZW5lcikge1xuICAgIHJldHVybiBQcm9wZXJ0eUNoYW5nZXMucmVtb3ZlT3duUHJvcGVydHlDaGFuZ2VMaXN0ZW5lcih0aGlzLCBrZXksIGxpc3RlbmVyLCB0cnVlKTtcbn07XG5cblByb3BlcnR5Q2hhbmdlcy5wcm90b3R5cGUuZGlzcGF0Y2hPd25Qcm9wZXJ0eUNoYW5nZSA9IGZ1bmN0aW9uIGRpc3BhdGNoT3duUHJvcGVydHlDaGFuZ2Uoa2V5LCB2YWx1ZSwgYmVmb3JlQ2hhbmdlKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBQcm9wZXJ0eUNoYW5nZXMuZ2V0T3duUHJvcGVydHlDaGFuZ2VEZXNjcmlwdG9yKHRoaXMsIGtleSksXG4gICAgICAgIGxpc3RlbmVycztcblxuICAgIGlmICghZGVzY3JpcHRvci5pc0FjdGl2ZSkge1xuICAgICAgICBkZXNjcmlwdG9yLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgbGlzdGVuZXJzID0gYmVmb3JlQ2hhbmdlID8gZGVzY3JpcHRvci5fd2lsbENoYW5nZUxpc3RlbmVyczogZGVzY3JpcHRvci5fY2hhbmdlTGlzdGVuZXJzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGlzcGF0Y2hPd25Qcm9wZXJ0eUNoYW5nZS5kaXNwYXRjaEVhY2gobGlzdGVuZXJzLCBrZXksIHZhbHVlLCB0aGlzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGRlc2NyaXB0b3IuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5Qcm9wZXJ0eUNoYW5nZXMucHJvdG90eXBlLmRpc3BhdGNoT3duUHJvcGVydHlDaGFuZ2UuZGlzcGF0Y2hFYWNoID0gZGlzcGF0Y2hFYWNoO1xuXG5mdW5jdGlvbiBkaXNwYXRjaEVhY2gobGlzdGVuZXJzLCBrZXksIHZhbHVlLCBvYmplY3QpIHtcbiAgICBpZihsaXN0ZW5lcnMgJiYgbGlzdGVuZXJzLl9jdXJyZW50KSB7XG4gICAgICAgIC8vIGNvcHkgc25hcHNob3Qgb2YgY3VycmVudCBsaXN0ZW5lcnMgdG8gYWN0aXZlIGxpc3RlbmVyc1xuICAgICAgICB2YXIgY3VycmVudCxcbiAgICAgICAgICAgIGxpc3RlbmVyLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGNvdW50SSxcbiAgICAgICAgICAgIHRoaXNwLFxuICAgICAgICAgICAgc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZSA9IGxpc3RlbmVycy5zcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lLFxuICAgICAgICAgICAgZ2VuZXJpY0hhbmRsZXJNZXRob2ROYW1lID0gbGlzdGVuZXJzLmdlbmVyaWNIYW5kbGVyTWV0aG9kTmFtZSxcbiAgICAgICAgICAgIEdob3N0ID0gTGlzdGVuZXJHaG9zdDtcblxuICAgICAgICBpZihBcnJheS5pc0FycmF5KGxpc3RlbmVycy5fY3VycmVudCkpIHtcbiAgICAgICAgICAgIC8vcmVtb3ZlR29zdExpc3RlbmVyc0lmTmVlZGVkIHJldHVybnMgbGlzdGVuZXJzLmN1cnJlbnQgb3IgYSBuZXcgZmlsdGVyZWQgb25lIHdoZW4gY29uZGl0aW9ucyBhcmUgbWV0XG4gICAgICAgICAgICBjdXJyZW50ID0gbGlzdGVuZXJzLnJlbW92ZUN1cnJlbnRHb3N0TGlzdGVuZXJzSWZOZWVkZWQoKTtcbiAgICAgICAgICAgIC8vV2UgdXNlIGEgZm9yIHRvIGd1YXJhbnRlZSB3ZSB3b24ndCBkaXNwYXRjaCB0byBsaXN0ZW5lcnMgdGhhdCB3b3VsZCBiZSBhZGRlZCBhZnRlciB3ZSBzdGFydGVkXG4gICAgICAgICAgICBmb3IoaT0wLCBjb3VudEkgPSBjdXJyZW50Lmxlbmd0aDtpPGNvdW50STtpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXNwID0gY3VycmVudFtpXSkgIT09IEdob3N0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vVGhpcyBpcyBmaXhpbmcgdGhlIGlzc3VlIGNhdXNpbmcgYSByZWdyZXNzaW9uIGluIE1vbnRhZ2UncyByZXBldGl0aW9uXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc3Bbc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZV0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNwW2dlbmVyaWNIYW5kbGVyTWV0aG9kTmFtZV0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNwXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbGlzdGVuZXIuY2FsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZXZlbnQgbGlzdGVuZXIgZm9yIFwiICsgbGlzdGVuZXJzLnNwZWNpZmljSGFuZGxlck5hbWUgKyBcIiBvciBcIiArIGxpc3RlbmVycy5nZW5lcmljSGFuZGxlck5hbWUgKyBcIiBvciBjYWxsIG9uIFwiICsgbGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpc3AsIHZhbHVlLCBrZXksIG9iamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpc3AgPSBsaXN0ZW5lcnMuX2N1cnJlbnQ7XG4gICAgICAgICAgICBsaXN0ZW5lciA9IChcbiAgICAgICAgICAgICAgICB0aGlzcFtzcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lXSB8fFxuICAgICAgICAgICAgICAgIHRoaXNwW2dlbmVyaWNIYW5kbGVyTWV0aG9kTmFtZV0gfHxcbiAgICAgICAgICAgICAgICB0aGlzcFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXIuY2FsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGV2ZW50IGxpc3RlbmVyIGZvciBcIiArIGxpc3RlbmVycy5zcGVjaWZpY0hhbmRsZXJOYW1lICsgXCIgb3IgXCIgKyBsaXN0ZW5lcnMuZ2VuZXJpY0hhbmRsZXJOYW1lICsgXCIgb3IgY2FsbCBvbiBcIiArIGxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpc3AsIHZhbHVlLCBrZXksIG9iamVjdCk7XG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuZGlzcGF0Y2hFYWNoLkxpc3RlbmVyR2hvc3QgPSBMaXN0ZW5lckdob3N0O1xuXG5cblByb3BlcnR5Q2hhbmdlcy5wcm90b3R5cGUuZGlzcGF0Y2hCZWZvcmVPd25Qcm9wZXJ0eUNoYW5nZSA9IGZ1bmN0aW9uIChrZXksIGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIFByb3BlcnR5Q2hhbmdlcy5kaXNwYXRjaE93blByb3BlcnR5Q2hhbmdlKHRoaXMsIGtleSwgbGlzdGVuZXIsIHRydWUpO1xufTtcblxudmFyIE9iamVjdHNPdmVycmlkZGVuUHJvcGVydHlEZXNjcmlwdG9ycyA9IG5ldyB3ZWFrTWFwJDEoKSxcbiAgICBPYmplY3RzX19zdGF0ZV9fID0gbmV3IHdlYWtNYXAkMSgpLFxuICAgIHByb3BlcnR5TGlzdGVuZXIgPSB7XG4gICAgICAgIGdldDogdm9pZCAwLFxuICAgICAgICBzZXQ6IHZvaWQgMCxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgIH07XG5cblByb3BlcnR5Q2hhbmdlcy5wcm90b3R5cGUubWFrZVByb3BlcnR5T2JzZXJ2YWJsZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAvLyBhcnJheXMgYXJlIHNwZWNpYWwuICB3ZSBkbyBub3Qgc3VwcG9ydCBkaXJlY3Qgc2V0dGluZyBvZiBwcm9wZXJ0aWVzXG4gICAgLy8gb24gYW4gYXJyYXkuICBpbnN0ZWFkLCBjYWxsIC5zZXQoaW5kZXgsIHZhbHVlKS4gIHRoaXMgaXMgb2JzZXJ2YWJsZS5cbiAgICAvLyAnbGVuZ3RoJyBwcm9wZXJ0eSBpcyBvYnNlcnZhYmxlIGZvciBhbGwgbXV0YXRpbmcgbWV0aG9kcyBiZWNhdXNlXG4gICAgLy8gb3VyIG92ZXJyaWRlcyBleHBsaWNpdGx5IGRpc3BhdGNoIHRoYXQgY2hhbmdlLlxuXG5cbiAgICB2YXIgb3ZlcnJpZGRlblByb3BlcnR5RGVzY3JpcHRvcnMgPSBPYmplY3RzT3ZlcnJpZGRlblByb3BlcnR5RGVzY3JpcHRvcnMuZ2V0KHRoaXMpO1xuICAgIGlmIChvdmVycmlkZGVuUHJvcGVydHlEZXNjcmlwdG9ycyAmJiBvdmVycmlkZGVuUHJvcGVydHlEZXNjcmlwdG9ycy5nZXQoa2V5KSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYWxyZWFkeSByZWNvcmRlZCBhbiBvdmVycmlkZGVuIHByb3BlcnR5IGRlc2NyaXB0b3IsXG4gICAgICAgIC8vIHdlIGhhdmUgYWxyZWFkeSBpbnN0YWxsZWQgdGhlIG9ic2VydmVyLCBzbyBzaG9ydC1oZXJlXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBtZW1vaXplIG92ZXJyaWRkZW4gcHJvcGVydHkgZGVzY3JpcHRvciB0YWJsZVxuICAgIGlmICghb3ZlcnJpZGRlblByb3BlcnR5RGVzY3JpcHRvcnMpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIU9iamVjdC5pc0V4dGVuc2libGUodGhpcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IG1ha2UgcHJvcGVydHkgXCIgKyBKU09OLnN0cmluZ2lmeShrZXkpICsgXCIgb2JzZXJ2YWJsZSBvbiBcIiArIHRoaXMgKyBcIiBiZWNhdXNlIG9iamVjdCBpcyBub3QgZXh0ZW5zaWJsZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBvdmVycmlkZGVuUHJvcGVydHlEZXNjcmlwdG9ycyA9IG5ldyBfbWFwKCk7XG4gICAgICAgIE9iamVjdHNPdmVycmlkZGVuUHJvcGVydHlEZXNjcmlwdG9ycy5zZXQodGhpcyxvdmVycmlkZGVuUHJvcGVydHlEZXNjcmlwdG9ycyk7XG4gICAgfVxuXG4gICAgLy8gdmFyIHN0YXRlID0gT2JqZWN0c19fc3RhdGVfXy5nZXQodGhpcyk7XG4gICAgLy8gaWYgKHR5cGVvZiBzdGF0ZSAhPT0gXCJvYmplY3RcIikge1xuICAgIC8vICAgICBPYmplY3RzX19zdGF0ZV9fLnNldCh0aGlzLChzdGF0ZSA9IHt9KSk7XG4gICAgLy8gfVxuICAgIC8vIHN0YXRlW2tleV0gPSB0aGlzW2tleV07XG5cblxuXG4gICAgLy8gd2FsayB1cCB0aGUgcHJvdG90eXBlIGNoYWluIHRvIGZpbmQgYSBwcm9wZXJ0eSBkZXNjcmlwdG9yIGZvclxuICAgIC8vIHRoZSBwcm9wZXJ0eSBuYW1lXG4gICAgdmFyIG92ZXJyaWRkZW5EZXNjcmlwdG9yO1xuICAgIHZhciBhdHRhY2hlZCA9IHRoaXM7XG4gICAgZG8ge1xuICAgICAgICBvdmVycmlkZGVuRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXR0YWNoZWQsIGtleSk7XG4gICAgICAgIGlmIChvdmVycmlkZGVuRGVzY3JpcHRvcikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgYXR0YWNoZWQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoYXR0YWNoZWQpO1xuICAgIH0gd2hpbGUgKGF0dGFjaGVkKTtcbiAgICAvLyBvciBkZWZhdWx0IHRvIGFuIHVuZGVmaW5lZCB2YWx1ZVxuICAgIGlmICghb3ZlcnJpZGRlbkRlc2NyaXB0b3IpIHtcbiAgICAgICAgb3ZlcnJpZGRlbkRlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICB2YWx1ZTogdm9pZCAwLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFvdmVycmlkZGVuRGVzY3JpcHRvci5jb25maWd1cmFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW92ZXJyaWRkZW5EZXNjcmlwdG9yLndyaXRhYmxlICYmICFvdmVycmlkZGVuRGVzY3JpcHRvci5zZXQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIG1lbW9pemUgdGhlIGRlc2NyaXB0b3Igc28gd2Uga25vdyBub3QgdG8gaW5zdGFsbCBhbm90aGVyIGxheWVyLFxuICAgIC8vIGFuZCBzbyB3ZSBjYW4gcmV1c2UgdGhlIG92ZXJyaWRkZW4gZGVzY3JpcHRvciB3aGVuIHVuaW5zdGFsbGluZ1xuICAgIG92ZXJyaWRkZW5Qcm9wZXJ0eURlc2NyaXB0b3JzLnNldChrZXksb3ZlcnJpZGRlbkRlc2NyaXB0b3IpO1xuXG5cbiAgICAvLyBUT0RPIHJlZmxlY3QgY3VycmVudCB2YWx1ZSBvbiBhIGRpc3BsYXllZCBwcm9wZXJ0eVxuXG4gICAgLy8gaW4gYm90aCBvZiB0aGVzZSBuZXcgZGVzY3JpcHRvciB2YXJpYW50cywgd2UgcmV1c2UgdGhlIG92ZXJyaWRkZW5cbiAgICAvLyBkZXNjcmlwdG9yIHRvIGVpdGhlciBzdG9yZSB0aGUgY3VycmVudCB2YWx1ZSBvciBhcHBseSBnZXR0ZXJzXG4gICAgLy8gYW5kIHNldHRlcnMuICB0aGlzIGlzIGhhbmR5IHNpbmNlIHdlIGNhbiByZXVzZSB0aGUgb3ZlcnJpZGRlblxuICAgIC8vIGRlc2NyaXB0b3IgaWYgd2UgdW5pbnN0YWxsIHRoZSBvYnNlcnZlci4gIFdlIGV2ZW4gcHJlc2VydmUgdGhlXG4gICAgLy8gYXNzaWdubWVudCBzZW1hbnRpY3MsIHdoZXJlIHdlIGdldCB0aGUgdmFsdWUgZnJvbSB1cCB0aGVcbiAgICAvLyBwcm90b3R5cGUgY2hhaW4sIGFuZCBzZXQgYXMgYW4gb3duZWQgcHJvcGVydHkuXG4gICAgaWYgKCd2YWx1ZScgaW4gb3ZlcnJpZGRlbkRlc2NyaXB0b3IpIHtcbiAgICAgICAgcHJvcGVydHlMaXN0ZW5lci5nZXQgPSBmdW5jdGlvbiBkaXNwYXRjaGluZ0dldHRlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaGluZ0dldHRlci5vdmVycmlkZGVuRGVzY3JpcHRvci52YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgcHJvcGVydHlMaXN0ZW5lci5zZXQgPSBmdW5jdGlvbiBkaXNwYXRjaGluZ1NldHRlcih2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGRlc2NyaXB0b3IsXG4gICAgICAgICAgICAgICAgaXNBY3RpdmUsXG4gICAgICAgICAgICAgICAgb3ZlcnJpZGRlbkRlc2NyaXB0b3IgPSBkaXNwYXRjaGluZ1NldHRlci5vdmVycmlkZGVuRGVzY3JpcHRvcjtcblxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBvdmVycmlkZGVuRGVzY3JpcHRvci52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICghKGlzQWN0aXZlID0gKGRlc2NyaXB0b3IgPSBkaXNwYXRjaGluZ1NldHRlci5kZXNjcmlwdG9yKS5pc0FjdGl2ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvci5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaGluZ1NldHRlci5kaXNwYXRjaEVhY2goZGVzY3JpcHRvci5fd2lsbENoYW5nZUxpc3RlbmVycywgZGlzcGF0Y2hpbmdTZXR0ZXIua2V5LCBvdmVycmlkZGVuRGVzY3JpcHRvci52YWx1ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7fVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdmVycmlkZGVuRGVzY3JpcHRvci52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICghaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoaW5nU2V0dGVyLmRpc3BhdGNoRWFjaChkZXNjcmlwdG9yLl9jaGFuZ2VMaXN0ZW5lcnMsIGRpc3BhdGNoaW5nU2V0dGVyLmtleSwgdmFsdWUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvci5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBwcm9wZXJ0eUxpc3RlbmVyLnNldC5kaXNwYXRjaEVhY2ggPSBkaXNwYXRjaEVhY2g7XG4gICAgICAgIHByb3BlcnR5TGlzdGVuZXIuc2V0LmtleSA9IGtleTtcbiAgICAgICAgcHJvcGVydHlMaXN0ZW5lci5nZXQub3ZlcnJpZGRlbkRlc2NyaXB0b3IgPSBwcm9wZXJ0eUxpc3RlbmVyLnNldC5vdmVycmlkZGVuRGVzY3JpcHRvciA9IG92ZXJyaWRkZW5EZXNjcmlwdG9yO1xuICAgICAgICBwcm9wZXJ0eUxpc3RlbmVyLnNldC5kZXNjcmlwdG9yID0gT2JqZWN0c1Byb3BlcnR5Q2hhbmdlTGlzdGVuZXJzLmdldCh0aGlzKVtrZXldO1xuXG4gICAgICAgIHByb3BlcnR5TGlzdGVuZXIuZW51bWVyYWJsZSA9IG92ZXJyaWRkZW5EZXNjcmlwdG9yLmVudW1lcmFibGU7XG5cbiAgICAgICAgcHJvcGVydHlMaXN0ZW5lci5jb25maWd1cmFibGUgPSB0cnVlO1xuXG4gICAgfSBlbHNlIHsgLy8gJ2dldCcgb3IgJ3NldCcsIGJ1dCBub3QgbmVjZXNzYXJpbHkgYm90aFxuICAgICAgICAgICAgcHJvcGVydHlMaXN0ZW5lci5nZXQgPSBvdmVycmlkZGVuRGVzY3JpcHRvci5nZXQ7XG4gICAgICAgICAgICBwcm9wZXJ0eUxpc3RlbmVyLnNldCA9IGZ1bmN0aW9uIGRpc3BhdGNoaW5nU2V0dGVyKCkge1xuICAgICAgICAgICAgICAgIHZhciBmb3JtZXJWYWx1ZSA9IGRpc3BhdGNoaW5nU2V0dGVyLm92ZXJyaWRkZW5HZXR0ZXIuY2FsbCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvcixcbiAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgaWYoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hpbmdTZXR0ZXIub3ZlcnJpZGRlblNldHRlci5jYWxsKHRoaXMsYXJndW1lbnRzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoaW5nU2V0dGVyLm92ZXJyaWRkZW5TZXR0ZXIuY2FsbCh0aGlzLGFyZ3VtZW50c1swXSxhcmd1bWVudHNbMV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hpbmdTZXR0ZXIub3ZlcnJpZGRlblNldHRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoKG5ld1ZhbHVlID0gZGlzcGF0Y2hpbmdTZXR0ZXIub3ZlcnJpZGRlbkdldHRlci5jYWxsKHRoaXMpKSAhPT0gZm9ybWVyVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvciA9IGRpc3BhdGNoaW5nU2V0dGVyLmRlc2NyaXB0b3I7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGlzQWN0aXZlID0gZGVzY3JpcHRvci5pc0FjdGl2ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuaXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaGluZ1NldHRlci5kaXNwYXRjaEVhY2goZGVzY3JpcHRvci5fd2lsbENoYW5nZUxpc3RlbmVycywga2V5LCBmb3JtZXJWYWx1ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge31cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoaW5nU2V0dGVyLmRpc3BhdGNoRWFjaChkZXNjcmlwdG9yLl9jaGFuZ2VMaXN0ZW5lcnMsIGtleSwgbmV3VmFsdWUsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcHJvcGVydHlMaXN0ZW5lci5lbnVtZXJhYmxlID0gb3ZlcnJpZGRlbkRlc2NyaXB0b3IuZW51bWVyYWJsZTtcbiAgICAgICAgICAgIHByb3BlcnR5TGlzdGVuZXIuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgcHJvcGVydHlMaXN0ZW5lci5zZXQuZGlzcGF0Y2hFYWNoID0gZGlzcGF0Y2hFYWNoO1xuICAgICAgICBwcm9wZXJ0eUxpc3RlbmVyLnNldC5vdmVycmlkZGVuU2V0dGVyID0gb3ZlcnJpZGRlbkRlc2NyaXB0b3Iuc2V0O1xuICAgICAgICBwcm9wZXJ0eUxpc3RlbmVyLnNldC5vdmVycmlkZGVuR2V0dGVyID0gb3ZlcnJpZGRlbkRlc2NyaXB0b3IuZ2V0O1xuICAgICAgICBwcm9wZXJ0eUxpc3RlbmVyLnNldC5kZXNjcmlwdG9yID0gT2JqZWN0c1Byb3BlcnR5Q2hhbmdlTGlzdGVuZXJzLmdldCh0aGlzKVtrZXldO1xuICAgIH1cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHByb3BlcnR5TGlzdGVuZXIpO1xufTtcblxuLy8gY29uc3RydWN0b3IgZnVuY3Rpb25zXG5cblByb3BlcnR5Q2hhbmdlcy5nZXRPd25Qcm9wZXJ0eUNoYW5nZURlc2NyaXB0b3IgPSBmdW5jdGlvbiAob2JqZWN0LCBrZXkpIHtcbiAgICBpZiAob2JqZWN0LmdldE93blByb3BlcnR5Q2hhbmdlRGVzY3JpcHRvcikge1xuICAgICAgICByZXR1cm4gb2JqZWN0LmdldE93blByb3BlcnR5Q2hhbmdlRGVzY3JpcHRvcihrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9wZXJ0eUNoYW5nZXMucHJvdG90eXBlLmdldE93blByb3BlcnR5Q2hhbmdlRGVzY3JpcHRvci5jYWxsKG9iamVjdCwga2V5KTtcbiAgICB9XG59O1xuXG5Qcm9wZXJ0eUNoYW5nZXMuaGFzT3duUHJvcGVydHlDaGFuZ2VEZXNjcmlwdG9yID0gZnVuY3Rpb24gKG9iamVjdCwga2V5KSB7XG4gICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eUNoYW5nZURlc2NyaXB0b3IpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdC5oYXNPd25Qcm9wZXJ0eUNoYW5nZURlc2NyaXB0b3Ioa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvcGVydHlDaGFuZ2VzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eUNoYW5nZURlc2NyaXB0b3IuY2FsbChvYmplY3QsIGtleSk7XG4gICAgfVxufTtcblxuUHJvcGVydHlDaGFuZ2VzLmFkZE93blByb3BlcnR5Q2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbiAob2JqZWN0LCBrZXksIGxpc3RlbmVyLCBiZWZvcmVDaGFuZ2UpIHtcbiAgICBpZiAoT2JqZWN0LmlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdC5hZGRPd25Qcm9wZXJ0eUNoYW5nZUxpc3RlbmVyXG4gICAgICAgICAgICA/IG9iamVjdC5hZGRPd25Qcm9wZXJ0eUNoYW5nZUxpc3RlbmVyKGtleSwgbGlzdGVuZXIsIGJlZm9yZUNoYW5nZSlcbiAgICAgICAgICAgIDogdGhpcy5wcm90b3R5cGUuYWRkT3duUHJvcGVydHlDaGFuZ2VMaXN0ZW5lci5jYWxsKG9iamVjdCwga2V5LCBsaXN0ZW5lciwgYmVmb3JlQ2hhbmdlKTtcbiAgICB9XG59O1xuXG5Qcm9wZXJ0eUNoYW5nZXMucmVtb3ZlT3duUHJvcGVydHlDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgbGlzdGVuZXIsIGJlZm9yZUNoYW5nZSkge1xuICAgIGlmICghT2JqZWN0LmlzT2JqZWN0KG9iamVjdCkpIDsgZWxzZSBpZiAob2JqZWN0LnJlbW92ZU93blByb3BlcnR5Q2hhbmdlTGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdC5yZW1vdmVPd25Qcm9wZXJ0eUNoYW5nZUxpc3RlbmVyKGtleSwgbGlzdGVuZXIsIGJlZm9yZUNoYW5nZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb3BlcnR5Q2hhbmdlcy5wcm90b3R5cGUucmVtb3ZlT3duUHJvcGVydHlDaGFuZ2VMaXN0ZW5lci5jYWxsKG9iamVjdCwga2V5LCBsaXN0ZW5lciwgYmVmb3JlQ2hhbmdlKTtcbiAgICB9XG59O1xuXG5Qcm9wZXJ0eUNoYW5nZXMuZGlzcGF0Y2hPd25Qcm9wZXJ0eUNoYW5nZSA9IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUsIGJlZm9yZUNoYW5nZSkge1xuICAgIGlmICghT2JqZWN0LmlzT2JqZWN0KG9iamVjdCkpIDsgZWxzZSBpZiAob2JqZWN0LmRpc3BhdGNoT3duUHJvcGVydHlDaGFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdC5kaXNwYXRjaE93blByb3BlcnR5Q2hhbmdlKGtleSwgdmFsdWUsIGJlZm9yZUNoYW5nZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb3BlcnR5Q2hhbmdlcy5wcm90b3R5cGUuZGlzcGF0Y2hPd25Qcm9wZXJ0eUNoYW5nZS5jYWxsKG9iamVjdCwga2V5LCB2YWx1ZSwgYmVmb3JlQ2hhbmdlKTtcbiAgICB9XG59O1xuXG5Qcm9wZXJ0eUNoYW5nZXMuYWRkQmVmb3JlT3duUHJvcGVydHlDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgbGlzdGVuZXIpIHtcbiAgICByZXR1cm4gUHJvcGVydHlDaGFuZ2VzLmFkZE93blByb3BlcnR5Q2hhbmdlTGlzdGVuZXIob2JqZWN0LCBrZXksIGxpc3RlbmVyLCB0cnVlKTtcbn07XG5cblByb3BlcnR5Q2hhbmdlcy5yZW1vdmVCZWZvcmVPd25Qcm9wZXJ0eUNoYW5nZUxpc3RlbmVyID0gZnVuY3Rpb24gKG9iamVjdCwga2V5LCBsaXN0ZW5lcikge1xuICAgIHJldHVybiBQcm9wZXJ0eUNoYW5nZXMucmVtb3ZlT3duUHJvcGVydHlDaGFuZ2VMaXN0ZW5lcihvYmplY3QsIGtleSwgbGlzdGVuZXIsIHRydWUpO1xufTtcblxuUHJvcGVydHlDaGFuZ2VzLmRpc3BhdGNoQmVmb3JlT3duUHJvcGVydHlDaGFuZ2UgPSBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIFByb3BlcnR5Q2hhbmdlcy5kaXNwYXRjaE93blByb3BlcnR5Q2hhbmdlKG9iamVjdCwga2V5LCB2YWx1ZSwgdHJ1ZSk7XG59O1xuXG5Qcm9wZXJ0eUNoYW5nZXMubWFrZVByb3BlcnR5T2JzZXJ2YWJsZSA9IGZ1bmN0aW9uIChvYmplY3QsIGtleSkge1xuICAgIGlmIChvYmplY3QubWFrZVByb3BlcnR5T2JzZXJ2YWJsZSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0Lm1ha2VQcm9wZXJ0eU9ic2VydmFibGUoa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvcGVydHlDaGFuZ2VzLnByb3RvdHlwZS5tYWtlUHJvcGVydHlPYnNlcnZhYmxlLmNhbGwob2JqZWN0LCBrZXkpO1xuICAgIH1cbn07XG5cbnZhciBPYmplY3RDaGFuZ2VEZXNjcmlwdG9yJDEgPSBjaGFuZ2VEZXNjcmlwdG9yLk9iamVjdENoYW5nZURlc2NyaXB0b3IsXG4gICAgQ2hhbmdlTGlzdGVuZXJzUmVjb3JkID0gY2hhbmdlRGVzY3JpcHRvci5DaGFuZ2VMaXN0ZW5lcnNSZWNvcmQsXG4gICAgTGlzdGVuZXJHaG9zdCQxID0gY2hhbmdlRGVzY3JpcHRvci5MaXN0ZW5lckdob3N0O1xuXG52YXIgbWFwQ2hhbmdlcyA9IE1hcENoYW5nZXM7XG5mdW5jdGlvbiBNYXBDaGFuZ2VzKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGNvbnN0cnVjdC4gTWFwQ2hhbmdlcyBpcyBhIG1peGluLlwiKTtcbn1cblxuLypcbiAgICBPYmplY3QgbWFwIGNoYW5nZSBkZXNjcmlwdG9ycyBjYXJyeSBpbmZvcm1hdGlvbiBuZWNlc3NhcnkgZm9yIGFkZGluZyxcbiAgICByZW1vdmluZywgZGlzcGF0Y2hpbmcsIGFuZCBzaG9ydGluZyBldmVudHMgdG8gbGlzdGVuZXJzIGZvciBtYXAgY2hhbmdlc1xuICAgIGZvciBhIHBhcnRpY3VsYXIga2V5IG9uIGEgcGFydGljdWxhciBvYmplY3QuICBUaGVzZSBkZXNjcmlwdG9ycyBhcmUgdXNlZFxuICAgIGhlcmUgZm9yIHNoYWxsb3cgbWFwIGNoYW5nZXMuXG5cbiAgICB7XG4gICAgICAgIHdpbGxDaGFuZ2VMaXN0ZW5lcnM6QXJyYXkoRmd1bmN0aW9uKVxuICAgICAgICBjaGFuZ2VMaXN0ZW5lcnM6QXJyYXkoRnVuY3Rpb24pXG4gICAgfVxuKi9cblxudmFyIG1hcENoYW5nZURlc2NyaXB0b3JzID0gbmV3IHdlYWtNYXAkMSgpO1xuXG5mdW5jdGlvbiBNYXBDaGFuZ2VEZXNjcmlwdG9yKG5hbWUpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLl93aWxsQ2hhbmdlTGlzdGVuZXJzID0gbnVsbDtcbiAgICB0aGlzLl9jaGFuZ2VMaXN0ZW5lcnMgPSBudWxsO1xufVxuTWFwQ2hhbmdlRGVzY3JpcHRvci5wcm90b3R5cGUgPSBuZXcgT2JqZWN0Q2hhbmdlRGVzY3JpcHRvciQxKCk7XG5NYXBDaGFuZ2VEZXNjcmlwdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1hcENoYW5nZURlc2NyaXB0b3I7XG5cbk1hcENoYW5nZURlc2NyaXB0b3IucHJvdG90eXBlLmNoYW5nZUxpc3RlbmVyc1JlY29yZENvbnN0cnVjdG9yID0gTWFwQ2hhbmdlTGlzdGVuZXJzUmVjb3JkO1xuTWFwQ2hhbmdlRGVzY3JpcHRvci5wcm90b3R5cGUud2lsbENoYW5nZUxpc3RlbmVyc1JlY29yZENvbnN0cnVjdG9yID0gTWFwV2lsbENoYW5nZUxpc3RlbmVyc1JlY29yZDtcblxudmFyIE1hcENoYW5nZUxpc3RlbmVyc1NwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUgPSBuZXcgX21hcCgpO1xuXG5mdW5jdGlvbiBNYXBDaGFuZ2VMaXN0ZW5lcnNSZWNvcmQobmFtZSkge1xuICAgIHZhciBzcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lID0gTWFwQ2hhbmdlTGlzdGVuZXJzU3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZS5nZXQobmFtZSk7XG4gICAgaWYoIXNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUpIHtcbiAgICAgICAgc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZSA9IFwiaGFuZGxlXCI7XG4gICAgICAgIHNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUgKz0gbmFtZS5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBzcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lICs9IG5hbWUuc2xpY2UoMSk7XG4gICAgICAgIHNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUgKz0gXCJNYXBDaGFuZ2VcIjtcbiAgICAgICAgTWFwQ2hhbmdlTGlzdGVuZXJzU3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZS5zZXQobmFtZSxzcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lKTtcbiAgICB9XG4gICAgdGhpcy5zcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lID0gc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZTtcblx0cmV0dXJuIHRoaXM7XG59XG5NYXBDaGFuZ2VMaXN0ZW5lcnNSZWNvcmQucHJvdG90eXBlID0gbmV3IENoYW5nZUxpc3RlbmVyc1JlY29yZCgpO1xuTWFwQ2hhbmdlTGlzdGVuZXJzUmVjb3JkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1hcENoYW5nZUxpc3RlbmVyc1JlY29yZDtcbk1hcENoYW5nZUxpc3RlbmVyc1JlY29yZC5wcm90b3R5cGUuZ2VuZXJpY0hhbmRsZXJNZXRob2ROYW1lID0gXCJoYW5kbGVNYXBDaGFuZ2VcIjtcblxudmFyIE1hcFdpbGxDaGFuZ2VMaXN0ZW5lcnNTcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lID0gbmV3IF9tYXAoKTtcblxuZnVuY3Rpb24gTWFwV2lsbENoYW5nZUxpc3RlbmVyc1JlY29yZChuYW1lKSB7XG4gICAgdmFyIHNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUgPSBNYXBXaWxsQ2hhbmdlTGlzdGVuZXJzU3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZS5nZXQobmFtZSk7XG4gICAgaWYoIXNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUpIHtcbiAgICAgICAgc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZSA9IFwiaGFuZGxlXCI7XG4gICAgICAgIHNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUgKz0gbmFtZS5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBzcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lICs9IG5hbWUuc2xpY2UoMSk7XG4gICAgICAgIHNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUgKz0gXCJNYXBXaWxsQ2hhbmdlXCI7XG4gICAgICAgIE1hcFdpbGxDaGFuZ2VMaXN0ZW5lcnNTcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lLnNldChuYW1lLHNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUpO1xuICAgIH1cbiAgICB0aGlzLnNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUgPSBzcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lO1xuICAgIHJldHVybiB0aGlzO1xufVxuTWFwV2lsbENoYW5nZUxpc3RlbmVyc1JlY29yZC5wcm90b3R5cGUgPSBuZXcgQ2hhbmdlTGlzdGVuZXJzUmVjb3JkKCk7XG5NYXBXaWxsQ2hhbmdlTGlzdGVuZXJzUmVjb3JkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1hcFdpbGxDaGFuZ2VMaXN0ZW5lcnNSZWNvcmQ7XG5NYXBXaWxsQ2hhbmdlTGlzdGVuZXJzUmVjb3JkLnByb3RvdHlwZS5nZW5lcmljSGFuZGxlck1ldGhvZE5hbWUgPSBcImhhbmRsZU1hcFdpbGxDaGFuZ2VcIjtcblxuXG5NYXBDaGFuZ2VzLnByb3RvdHlwZS5nZXRBbGxNYXBDaGFuZ2VEZXNjcmlwdG9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIW1hcENoYW5nZURlc2NyaXB0b3JzLmhhcyh0aGlzKSkge1xuICAgICAgICBtYXBDaGFuZ2VEZXNjcmlwdG9ycy5zZXQodGhpcywgbmV3IF9tYXAoKSk7XG4gICAgfVxuICAgIHJldHVybiBtYXBDaGFuZ2VEZXNjcmlwdG9ycy5nZXQodGhpcyk7XG59O1xuXG5NYXBDaGFuZ2VzLnByb3RvdHlwZS5nZXRNYXBDaGFuZ2VEZXNjcmlwdG9yID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgdmFyIHRva2VuQ2hhbmdlRGVzY3JpcHRvcnMgPSB0aGlzLmdldEFsbE1hcENoYW5nZURlc2NyaXB0b3JzKCk7XG4gICAgdG9rZW4gPSB0b2tlbiB8fCBcIlwiO1xuICAgIGlmICghdG9rZW5DaGFuZ2VEZXNjcmlwdG9ycy5oYXModG9rZW4pKSB7XG4gICAgICAgIHRva2VuQ2hhbmdlRGVzY3JpcHRvcnMuc2V0KHRva2VuLCBuZXcgTWFwQ2hhbmdlRGVzY3JpcHRvcih0b2tlbikpO1xuICAgIH1cbiAgICByZXR1cm4gdG9rZW5DaGFuZ2VEZXNjcmlwdG9ycy5nZXQodG9rZW4pO1xufTtcblxudmFyIE9iamVjdHNEaXNwYXRjaGVzTWFwQ2hhbmdlcyA9IG5ldyB3ZWFrTWFwJDEoKSxcbiAgICBkaXNwYXRjaGVzTWFwQ2hhbmdlc0dldHRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0c0Rpc3BhdGNoZXNNYXBDaGFuZ2VzLmdldCh0aGlzKTtcbiAgICB9LFxuICAgIGRpc3BhdGNoZXNNYXBDaGFuZ2VzU2V0dGVyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdHNEaXNwYXRjaGVzTWFwQ2hhbmdlcy5zZXQodGhpcyx2YWx1ZSk7XG4gICAgfSxcbiAgICBkaXNwYXRjaGVzQ2hhbmdlc01ldGhvZE5hbWUgPSBcImRpc3BhdGNoZXNNYXBDaGFuZ2VzXCIsXG4gICAgZGlzcGF0Y2hlc0NoYW5nZXNQcm9wZXJ0eURlc2NyaXB0b3IgPSB7XG4gICAgICAgIGdldDogZGlzcGF0Y2hlc01hcENoYW5nZXNHZXR0ZXIsXG4gICAgICAgIHNldDogZGlzcGF0Y2hlc01hcENoYW5nZXNTZXR0ZXIsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICB9O1xuXG5NYXBDaGFuZ2VzLnByb3RvdHlwZS5hZGRNYXBDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZE1hcENoYW5nZUxpc3RlbmVyKGxpc3RlbmVyLCB0b2tlbiwgYmVmb3JlQ2hhbmdlKSB7XG4gICAgLy9jb25zb2xlLmxvZyhcInRoaXM6XCIsdGhpcyxcIiBhZGRNYXBDaGFuZ2VMaXN0ZW5lcihcIixsaXN0ZW5lcixcIixcIix0b2tlbixcIixcIixiZWZvcmVDaGFuZ2UpO1xuXG4gICAgaWYgKCF0aGlzLmlzT2JzZXJ2YWJsZSAmJiB0aGlzLm1ha2VPYnNlcnZhYmxlKSB7XG4gICAgICAgIC8vIGZvciBBcnJheVxuICAgICAgICB0aGlzLm1ha2VPYnNlcnZhYmxlKCk7XG4gICAgfVxuICAgIHZhciBkZXNjcmlwdG9yID0gdGhpcy5nZXRNYXBDaGFuZ2VEZXNjcmlwdG9yKHRva2VuKTtcbiAgICB2YXIgbGlzdGVuZXJzO1xuICAgIGlmIChiZWZvcmVDaGFuZ2UpIHtcbiAgICAgICAgbGlzdGVuZXJzID0gZGVzY3JpcHRvci53aWxsQ2hhbmdlTGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxpc3RlbmVycyA9IGRlc2NyaXB0b3IuY2hhbmdlTGlzdGVuZXJzO1xuICAgIH1cblxuICAgIC8vIGNvbnNvbGUubG9nKFwiYWRkTWFwQ2hhbmdlTGlzdGVuZXIoKVwiLGxpc3RlbmVyLCB0b2tlbik7XG4gICAgLy9jb25zb2xlLmxvZyhcInRoaXM6XCIsdGhpcyxcIiBhZGRNYXBDaGFuZ2VMaXN0ZW5lcigpICBsaXN0ZW5lcnMuX2N1cnJlbnQgaXMgXCIsbGlzdGVuZXJzLl9jdXJyZW50KTtcblxuICAgIGlmKCFsaXN0ZW5lcnMuX2N1cnJlbnQpIHtcbiAgICAgICAgbGlzdGVuZXJzLl9jdXJyZW50ID0gbGlzdGVuZXI7XG4gICAgfVxuICAgIGVsc2UgaWYoIUFycmF5LmlzQXJyYXkobGlzdGVuZXJzLl9jdXJyZW50KSkge1xuICAgICAgICBsaXN0ZW5lcnMuX2N1cnJlbnQgPSBbbGlzdGVuZXJzLl9jdXJyZW50LGxpc3RlbmVyXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxpc3RlbmVycy5fY3VycmVudC5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBpZihPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKCh0aGlzLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpKSxkaXNwYXRjaGVzQ2hhbmdlc01ldGhvZE5hbWUpID09PSB2b2lkIDApIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KCh0aGlzLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpKSwgZGlzcGF0Y2hlc0NoYW5nZXNNZXRob2ROYW1lLCBkaXNwYXRjaGVzQ2hhbmdlc1Byb3BlcnR5RGVzY3JpcHRvcik7XG4gICAgfVxuICAgIHRoaXMuZGlzcGF0Y2hlc01hcENoYW5nZXMgPSB0cnVlO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBmdW5jdGlvbiBjYW5jZWxNYXBDaGFuZ2VMaXN0ZW5lcigpIHtcbiAgICAgICAgaWYgKCFzZWxmKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHRocm93IG5ldyBFcnJvcihcIkNhbid0IHJlbW92ZSBtYXAgY2hhbmdlIGxpc3RlbmVyIGFnYWluXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYucmVtb3ZlTWFwQ2hhbmdlTGlzdGVuZXIobGlzdGVuZXIsIHRva2VuLCBiZWZvcmVDaGFuZ2UpO1xuICAgICAgICBzZWxmID0gbnVsbDtcbiAgICB9O1xufTtcblxuTWFwQ2hhbmdlcy5wcm90b3R5cGUucmVtb3ZlTWFwQ2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbiAobGlzdGVuZXIsIHRva2VuLCBiZWZvcmVDaGFuZ2UpIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHRoaXMuZ2V0TWFwQ2hhbmdlRGVzY3JpcHRvcih0b2tlbik7XG5cbiAgICB2YXIgbGlzdGVuZXJzO1xuICAgIGlmIChiZWZvcmVDaGFuZ2UpIHtcbiAgICAgICAgbGlzdGVuZXJzID0gZGVzY3JpcHRvci53aWxsQ2hhbmdlTGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxpc3RlbmVycyA9IGRlc2NyaXB0b3IuY2hhbmdlTGlzdGVuZXJzO1xuICAgIH1cblxuICAgIGlmKGxpc3RlbmVycy5fY3VycmVudCkge1xuICAgICAgICBpZihsaXN0ZW5lcnMuX2N1cnJlbnQgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuX2N1cnJlbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLl9jdXJyZW50Lmxhc3RJbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCByZW1vdmUgbWFwIGNoYW5nZSBsaXN0ZW5lcjogZG9lcyBub3QgZXhpc3Q6IHRva2VuIFwiICsgSlNPTi5zdHJpbmdpZnkodG9rZW4pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmKGRlc2NyaXB0b3IuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLmdob3N0Q291bnQgPSBsaXN0ZW5lcnMuZ2hvc3RDb3VudCsxO1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuX2N1cnJlbnRbaW5kZXhdPUxpc3RlbmVyR2hvc3QkMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5fY3VycmVudC5zcGxpY2VPbmUoaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG59O1xuXG5NYXBDaGFuZ2VzLnByb3RvdHlwZS5kaXNwYXRjaE1hcENoYW5nZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlLCBiZWZvcmVDaGFuZ2UpIHtcbiAgICB2YXIgZGVzY3JpcHRvcnMgPSB0aGlzLmdldEFsbE1hcENoYW5nZURlc2NyaXB0b3JzKCksXG4gICAgICAgIEdob3N0ID0gTGlzdGVuZXJHaG9zdCQxO1xuXG4gICAgZGVzY3JpcHRvcnMuZm9yRWFjaChmdW5jdGlvbiAoZGVzY3JpcHRvciwgdG9rZW4pIHtcblxuICAgICAgICBpZiAoZGVzY3JpcHRvci5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IGJlZm9yZUNoYW5nZSA/IGRlc2NyaXB0b3Iud2lsbENoYW5nZUxpc3RlbmVycyA6IGRlc2NyaXB0b3IuY2hhbmdlTGlzdGVuZXJzO1xuICAgICAgICBpZihsaXN0ZW5lcnMgJiYgbGlzdGVuZXJzLl9jdXJyZW50KSB7XG5cbiAgICAgICAgICAgIHZhciB0b2tlbk5hbWUgPSBsaXN0ZW5lcnMuc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZTtcbiAgICAgICAgICAgIGlmKEFycmF5LmlzQXJyYXkobGlzdGVuZXJzLl9jdXJyZW50KSkge1xuICAgICAgICAgICAgICAgIGlmKGxpc3RlbmVycy5fY3VycmVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9yZW1vdmVHb3N0TGlzdGVuZXJzSWZOZWVkZWQgcmV0dXJucyBsaXN0ZW5lcnMuY3VycmVudCBvciBhIG5ldyBmaWx0ZXJlZCBvbmUgd2hlbiBjb25kaXRpb25zIGFyZSBtZXRcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRMaXN0ZW5lcnMgPSBsaXN0ZW5lcnMucmVtb3ZlQ3VycmVudEdvc3RMaXN0ZW5lcnNJZk5lZWRlZCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaSwgY291bnRJLCBsaXN0ZW5lcjtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvci5pc0FjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihpPTAsIGNvdW50SSA9IGN1cnJlbnRMaXN0ZW5lcnMubGVuZ3RoO2k8Y291bnRJO2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc3BhdGNoIHRvIGVhY2ggbGlzdGVuZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGxpc3RlbmVyID0gY3VycmVudExpc3RlbmVyc1tpXSkgIT09IEdob3N0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lclt0b2tlbk5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lclt0b2tlbk5hbWVdKHZhbHVlLCBrZXksIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpc3RlbmVyLmNhbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwobGlzdGVuZXIsIHZhbHVlLCBrZXksIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSGFuZGxlciBcIiArIGxpc3RlbmVyICsgXCIgaGFzIG5vIG1ldGhvZCBcIiArIHRva2VuTmFtZSArIFwiIGFuZCBpcyBub3QgY2FsbGFibGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBkaXNwYXRjaCBlYWNoIGxpc3RlbmVyXG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVycy5fY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyW3Rva2VuTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyW3Rva2VuTmFtZV0odmFsdWUsIGtleSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXIuY2FsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbChsaXN0ZW5lciwgdmFsdWUsIGtleSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJIYW5kbGVyIFwiICsgbGlzdGVuZXIgKyBcIiBoYXMgbm8gbWV0aG9kIFwiICsgdG9rZW5OYW1lICsgXCIgYW5kIGlzIG5vdCBjYWxsYWJsZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfSwgdGhpcyk7XG59O1xuXG5NYXBDaGFuZ2VzLnByb3RvdHlwZS5hZGRCZWZvcmVNYXBDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgdG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5hZGRNYXBDaGFuZ2VMaXN0ZW5lcihsaXN0ZW5lciwgdG9rZW4sIHRydWUpO1xufTtcblxuTWFwQ2hhbmdlcy5wcm90b3R5cGUucmVtb3ZlQmVmb3JlTWFwQ2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbiAobGlzdGVuZXIsIHRva2VuKSB7XG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlTWFwQ2hhbmdlTGlzdGVuZXIobGlzdGVuZXIsIHRva2VuLCB0cnVlKTtcbn07XG5cbk1hcENoYW5nZXMucHJvdG90eXBlLmRpc3BhdGNoQmVmb3JlTWFwQ2hhbmdlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5kaXNwYXRjaE1hcENoYW5nZShrZXksIHZhbHVlLCB0cnVlKTtcbn07XG5cbnZhciBtYXAgPSBfbWFwO1xuXG5pZigoY29tbW9uanNHbG9iYWwuTWFwID09PSB2b2lkIDApIHx8ICh0eXBlb2YgY29tbW9uanNHbG9iYWwuU2V0LnByb3RvdHlwZS52YWx1ZXMgIT09IFwiZnVuY3Rpb25cIikpIHtcbiAgICBPYmplY3QuYWRkRWFjaChfbWFwLnByb3RvdHlwZSwgcHJvcGVydHlDaGFuZ2VzLnByb3RvdHlwZSk7XG4gICAgT2JqZWN0LmFkZEVhY2goX21hcC5wcm90b3R5cGUsIG1hcENoYW5nZXMucHJvdG90eXBlKTtcbn1cbmVsc2Uge1xuICAgIE9iamVjdC5kZWZpbmVFYWNoKF9tYXAucHJvdG90eXBlLCBwcm9wZXJ0eUNoYW5nZXMucHJvdG90eXBlLCBmYWxzZSwgLypjb25maWd1cmFibGUqL3RydWUsIC8qZW51bWVyYWJsZSovIGZhbHNlLCAvKndyaXRhYmxlKi90cnVlKTtcbiAgICBPYmplY3QuZGVmaW5lRWFjaChfbWFwLnByb3RvdHlwZSwgbWFwQ2hhbmdlcy5wcm90b3R5cGUsIGZhbHNlLCAvKmNvbmZpZ3VyYWJsZSovdHJ1ZSwgLyplbnVtZXJhYmxlKi8gZmFsc2UsIC8qd3JpdGFibGUqL3RydWUpO1xufVxuXG5jbGFzcyBGbGF0UXVldWUge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaWRzID0gW107XG4gICAgICAgIHRoaXMudmFsdWVzID0gW107XG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgIH1cblxuICAgIHB1c2goaWQsIHZhbHVlKSB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLmxlbmd0aCsrO1xuICAgICAgICB0aGlzLmlkc1twb3NdID0gaWQ7XG4gICAgICAgIHRoaXMudmFsdWVzW3Bvc10gPSB2YWx1ZTtcblxuICAgICAgICB3aGlsZSAocG9zID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gKHBvcyAtIDEpID4+IDE7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRWYWx1ZSA9IHRoaXMudmFsdWVzW3BhcmVudF07XG4gICAgICAgICAgICBpZiAodmFsdWUgPj0gcGFyZW50VmFsdWUpIGJyZWFrO1xuICAgICAgICAgICAgdGhpcy5pZHNbcG9zXSA9IHRoaXMuaWRzW3BhcmVudF07XG4gICAgICAgICAgICB0aGlzLnZhbHVlc1twb3NdID0gcGFyZW50VmFsdWU7XG4gICAgICAgICAgICBwb3MgPSBwYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlkc1twb3NdID0gaWQ7XG4gICAgICAgIHRoaXMudmFsdWVzW3Bvc10gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwb3AoKSB7XG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAgICAgICBjb25zdCB0b3AgPSB0aGlzLmlkc1swXTtcbiAgICAgICAgdGhpcy5sZW5ndGgtLTtcblxuICAgICAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHRoaXMuaWRzWzBdID0gdGhpcy5pZHNbdGhpcy5sZW5ndGhdO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlc1swXSA9IHRoaXMudmFsdWVzW3RoaXMubGVuZ3RoXTtcbiAgICAgICAgICAgIGNvbnN0IGhhbGZMZW5ndGggPSB0aGlzLmxlbmd0aCA+PiAxO1xuICAgICAgICAgICAgbGV0IHBvcyA9IDA7XG5cbiAgICAgICAgICAgIHdoaWxlIChwb3MgPCBoYWxmTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxlZnQgPSAocG9zIDw8IDEpICsgMTtcbiAgICAgICAgICAgICAgICBjb25zdCByaWdodCA9IGxlZnQgKyAxO1xuICAgICAgICAgICAgICAgIGxldCBiZXN0SW5kZXggPSB0aGlzLmlkc1tsZWZ0XTtcbiAgICAgICAgICAgICAgICBsZXQgYmVzdFZhbHVlID0gdGhpcy52YWx1ZXNbbGVmdF07XG4gICAgICAgICAgICAgICAgY29uc3QgcmlnaHRWYWx1ZSA9IHRoaXMudmFsdWVzW3JpZ2h0XTtcblxuICAgICAgICAgICAgICAgIGlmIChyaWdodCA8IHRoaXMubGVuZ3RoICYmIHJpZ2h0VmFsdWUgPCBiZXN0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBiZXN0SW5kZXggPSB0aGlzLmlkc1tyaWdodF07XG4gICAgICAgICAgICAgICAgICAgIGJlc3RWYWx1ZSA9IHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChiZXN0VmFsdWUgPj0gdmFsdWUpIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pZHNbcG9zXSA9IGJlc3RJbmRleDtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlc1twb3NdID0gYmVzdFZhbHVlO1xuICAgICAgICAgICAgICAgIHBvcyA9IGxlZnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaWRzW3Bvc10gPSBpZDtcbiAgICAgICAgICAgIHRoaXMudmFsdWVzW3Bvc10gPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0b3A7XG4gICAgfVxuXG4gICAgcGVlaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWRzWzBdO1xuICAgIH1cblxuICAgIHBlZWtWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzWzBdO1xuICAgIH1cbn1cblxuY29uc3QgQVJSQVlfVFlQRVMgPSBbXG4gICAgSW50OEFycmF5LCBVaW50OEFycmF5LCBVaW50OENsYW1wZWRBcnJheSwgSW50MTZBcnJheSwgVWludDE2QXJyYXksXG4gICAgSW50MzJBcnJheSwgVWludDMyQXJyYXksIEZsb2F0MzJBcnJheSwgRmxvYXQ2NEFycmF5XG5dO1xuXG5jb25zdCBWRVJTSU9OID0gMzsgLy8gc2VyaWFsaXplZCBmb3JtYXQgdmVyc2lvblxuXG5jbGFzcyBGbGF0YnVzaCB7XG5cbiAgICBzdGF0aWMgZnJvbShkYXRhKSB7XG4gICAgICAgIGlmICghKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIEFycmF5QnVmZmVyLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFttYWdpYywgdmVyc2lvbkFuZFR5cGVdID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSwgMCwgMik7XG4gICAgICAgIGlmIChtYWdpYyAhPT0gMHhmYikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhIGRvZXMgbm90IGFwcGVhciB0byBiZSBpbiBhIEZsYXRidXNoIGZvcm1hdC4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmVyc2lvbkFuZFR5cGUgPj4gNCAhPT0gVkVSU0lPTikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBHb3QgdiR7dmVyc2lvbkFuZFR5cGUgPj4gNH0gZGF0YSB3aGVuIGV4cGVjdGVkIHYke1ZFUlNJT059LmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtub2RlU2l6ZV0gPSBuZXcgVWludDE2QXJyYXkoZGF0YSwgMiwgMSk7XG4gICAgICAgIGNvbnN0IFtudW1JdGVtc10gPSBuZXcgVWludDMyQXJyYXkoZGF0YSwgNCwgMSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBGbGF0YnVzaChudW1JdGVtcywgbm9kZVNpemUsIEFSUkFZX1RZUEVTW3ZlcnNpb25BbmRUeXBlICYgMHgwZl0sIGRhdGEpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKG51bUl0ZW1zLCBub2RlU2l6ZSA9IDE2LCBBcnJheVR5cGUgPSBGbG9hdDY0QXJyYXksIGRhdGEpIHtcbiAgICAgICAgaWYgKG51bUl0ZW1zID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBhcmd1bWVudDogbnVtSXRlbXMuJyk7XG4gICAgICAgIGlmIChpc05hTihudW1JdGVtcykgfHwgbnVtSXRlbXMgPD0gMCkgdGhyb3cgbmV3IEVycm9yKGBVbnBleHBlY3RlZCBudW1JdGVtcyB2YWx1ZTogJHtudW1JdGVtc30uYCk7XG5cbiAgICAgICAgdGhpcy5udW1JdGVtcyA9ICtudW1JdGVtcztcbiAgICAgICAgdGhpcy5ub2RlU2l6ZSA9IE1hdGgubWluKE1hdGgubWF4KCtub2RlU2l6ZSwgMiksIDY1NTM1KTtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIHRvdGFsIG51bWJlciBvZiBub2RlcyBpbiB0aGUgUi10cmVlIHRvIGFsbG9jYXRlIHNwYWNlIGZvclxuICAgICAgICAvLyBhbmQgdGhlIGluZGV4IG9mIGVhY2ggdHJlZSBsZXZlbCAodXNlZCBpbiBzZWFyY2ggbGF0ZXIpXG4gICAgICAgIGxldCBuID0gbnVtSXRlbXM7XG4gICAgICAgIGxldCBudW1Ob2RlcyA9IG47XG4gICAgICAgIHRoaXMuX2xldmVsQm91bmRzID0gW24gKiA0XTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgbiA9IE1hdGguY2VpbChuIC8gdGhpcy5ub2RlU2l6ZSk7XG4gICAgICAgICAgICBudW1Ob2RlcyArPSBuO1xuICAgICAgICAgICAgdGhpcy5fbGV2ZWxCb3VuZHMucHVzaChudW1Ob2RlcyAqIDQpO1xuICAgICAgICB9IHdoaWxlIChuICE9PSAxKTtcblxuICAgICAgICB0aGlzLkFycmF5VHlwZSA9IEFycmF5VHlwZSB8fCBGbG9hdDY0QXJyYXk7XG4gICAgICAgIHRoaXMuSW5kZXhBcnJheVR5cGUgPSBudW1Ob2RlcyA8IDE2Mzg0ID8gVWludDE2QXJyYXkgOiBVaW50MzJBcnJheTtcblxuICAgICAgICBjb25zdCBhcnJheVR5cGVJbmRleCA9IEFSUkFZX1RZUEVTLmluZGV4T2YodGhpcy5BcnJheVR5cGUpO1xuICAgICAgICBjb25zdCBub2Rlc0J5dGVTaXplID0gbnVtTm9kZXMgKiA0ICogdGhpcy5BcnJheVR5cGUuQllURVNfUEVSX0VMRU1FTlQ7XG5cbiAgICAgICAgaWYgKGFycmF5VHlwZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHR5cGVkIGFycmF5IGNsYXNzOiAke0FycmF5VHlwZX0uYCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YSAmJiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgICAgIHRoaXMuX2JveGVzID0gbmV3IHRoaXMuQXJyYXlUeXBlKHRoaXMuZGF0YSwgOCwgbnVtTm9kZXMgKiA0KTtcbiAgICAgICAgICAgIHRoaXMuX2luZGljZXMgPSBuZXcgdGhpcy5JbmRleEFycmF5VHlwZSh0aGlzLmRhdGEsIDggKyBub2Rlc0J5dGVTaXplLCBudW1Ob2Rlcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX3BvcyA9IG51bU5vZGVzICogNDtcbiAgICAgICAgICAgIHRoaXMubWluWCA9IHRoaXMuX2JveGVzW3RoaXMuX3BvcyAtIDRdO1xuICAgICAgICAgICAgdGhpcy5taW5ZID0gdGhpcy5fYm94ZXNbdGhpcy5fcG9zIC0gM107XG4gICAgICAgICAgICB0aGlzLm1heFggPSB0aGlzLl9ib3hlc1t0aGlzLl9wb3MgLSAyXTtcbiAgICAgICAgICAgIHRoaXMubWF4WSA9IHRoaXMuX2JveGVzW3RoaXMuX3BvcyAtIDFdO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgQXJyYXlCdWZmZXIoOCArIG5vZGVzQnl0ZVNpemUgKyBudW1Ob2RlcyAqIHRoaXMuSW5kZXhBcnJheVR5cGUuQllURVNfUEVSX0VMRU1FTlQpO1xuICAgICAgICAgICAgdGhpcy5fYm94ZXMgPSBuZXcgdGhpcy5BcnJheVR5cGUodGhpcy5kYXRhLCA4LCBudW1Ob2RlcyAqIDQpO1xuICAgICAgICAgICAgdGhpcy5faW5kaWNlcyA9IG5ldyB0aGlzLkluZGV4QXJyYXlUeXBlKHRoaXMuZGF0YSwgOCArIG5vZGVzQnl0ZVNpemUsIG51bU5vZGVzKTtcbiAgICAgICAgICAgIHRoaXMuX3BvcyA9IDA7XG4gICAgICAgICAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcbiAgICAgICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuICAgICAgICAgICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuICAgICAgICAgICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xuXG4gICAgICAgICAgICBuZXcgVWludDhBcnJheSh0aGlzLmRhdGEsIDAsIDIpLnNldChbMHhmYiwgKFZFUlNJT04gPDwgNCkgKyBhcnJheVR5cGVJbmRleF0pO1xuICAgICAgICAgICAgbmV3IFVpbnQxNkFycmF5KHRoaXMuZGF0YSwgMiwgMSlbMF0gPSBub2RlU2l6ZTtcbiAgICAgICAgICAgIG5ldyBVaW50MzJBcnJheSh0aGlzLmRhdGEsIDQsIDEpWzBdID0gbnVtSXRlbXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhIHByaW9yaXR5IHF1ZXVlIGZvciBrLW5lYXJlc3QtbmVpZ2hib3JzIHF1ZXJpZXNcbiAgICAgICAgdGhpcy5fcXVldWUgPSBuZXcgRmxhdFF1ZXVlKCk7XG4gICAgfVxuXG4gICAgYWRkKG1pblgsIG1pblksIG1heFgsIG1heFkpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9wb3MgPj4gMjtcbiAgICAgICAgdGhpcy5faW5kaWNlc1tpbmRleF0gPSBpbmRleDtcbiAgICAgICAgdGhpcy5fYm94ZXNbdGhpcy5fcG9zKytdID0gbWluWDtcbiAgICAgICAgdGhpcy5fYm94ZXNbdGhpcy5fcG9zKytdID0gbWluWTtcbiAgICAgICAgdGhpcy5fYm94ZXNbdGhpcy5fcG9zKytdID0gbWF4WDtcbiAgICAgICAgdGhpcy5fYm94ZXNbdGhpcy5fcG9zKytdID0gbWF4WTtcblxuICAgICAgICBpZiAobWluWCA8IHRoaXMubWluWCkgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgaWYgKG1pblkgPCB0aGlzLm1pblkpIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIGlmIChtYXhYID4gdGhpcy5tYXhYKSB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICBpZiAobWF4WSA+IHRoaXMubWF4WSkgdGhpcy5tYXhZID0gbWF4WTtcblxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuXG4gICAgZmluaXNoKCkge1xuICAgICAgICBpZiAodGhpcy5fcG9zID4+IDIgIT09IHRoaXMubnVtSXRlbXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQWRkZWQgJHt0aGlzLl9wb3MgPj4gMn0gaXRlbXMgd2hlbiBleHBlY3RlZCAke3RoaXMubnVtSXRlbXN9LmApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubnVtSXRlbXMgPD0gdGhpcy5ub2RlU2l6ZSkge1xuICAgICAgICAgICAgLy8gb25seSBvbmUgbm9kZSwgc2tpcCBzb3J0aW5nIGFuZCBqdXN0IGZpbGwgdGhlIHJvb3QgYm94XG4gICAgICAgICAgICB0aGlzLl9ib3hlc1t0aGlzLl9wb3MrK10gPSB0aGlzLm1pblg7XG4gICAgICAgICAgICB0aGlzLl9ib3hlc1t0aGlzLl9wb3MrK10gPSB0aGlzLm1pblk7XG4gICAgICAgICAgICB0aGlzLl9ib3hlc1t0aGlzLl9wb3MrK10gPSB0aGlzLm1heFg7XG4gICAgICAgICAgICB0aGlzLl9ib3hlc1t0aGlzLl9wb3MrK10gPSB0aGlzLm1heFk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMubWF4WCAtIHRoaXMubWluWDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5tYXhZIC0gdGhpcy5taW5ZO1xuICAgICAgICBjb25zdCBoaWxiZXJ0VmFsdWVzID0gbmV3IFVpbnQzMkFycmF5KHRoaXMubnVtSXRlbXMpO1xuICAgICAgICBjb25zdCBoaWxiZXJ0TWF4ID0gKDEgPDwgMTYpIC0gMTtcblxuICAgICAgICAvLyBtYXAgaXRlbSBjZW50ZXJzIGludG8gSGlsYmVydCBjb29yZGluYXRlIHNwYWNlIGFuZCBjYWxjdWxhdGUgSGlsYmVydCB2YWx1ZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm51bUl0ZW1zOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSA0ICogaTtcbiAgICAgICAgICAgIGNvbnN0IG1pblggPSB0aGlzLl9ib3hlc1twb3MrK107XG4gICAgICAgICAgICBjb25zdCBtaW5ZID0gdGhpcy5fYm94ZXNbcG9zKytdO1xuICAgICAgICAgICAgY29uc3QgbWF4WCA9IHRoaXMuX2JveGVzW3BvcysrXTtcbiAgICAgICAgICAgIGNvbnN0IG1heFkgPSB0aGlzLl9ib3hlc1twb3MrK107XG4gICAgICAgICAgICBjb25zdCB4ID0gTWF0aC5mbG9vcihoaWxiZXJ0TWF4ICogKChtaW5YICsgbWF4WCkgLyAyIC0gdGhpcy5taW5YKSAvIHdpZHRoKTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBNYXRoLmZsb29yKGhpbGJlcnRNYXggKiAoKG1pblkgKyBtYXhZKSAvIDIgLSB0aGlzLm1pblkpIC8gaGVpZ2h0KTtcbiAgICAgICAgICAgIGhpbGJlcnRWYWx1ZXNbaV0gPSBoaWxiZXJ0KHgsIHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc29ydCBpdGVtcyBieSB0aGVpciBIaWxiZXJ0IHZhbHVlIChmb3IgcGFja2luZyBsYXRlcilcbiAgICAgICAgc29ydChoaWxiZXJ0VmFsdWVzLCB0aGlzLl9ib3hlcywgdGhpcy5faW5kaWNlcywgMCwgdGhpcy5udW1JdGVtcyAtIDEsIHRoaXMubm9kZVNpemUpO1xuXG4gICAgICAgIC8vIGdlbmVyYXRlIG5vZGVzIGF0IGVhY2ggdHJlZSBsZXZlbCwgYm90dG9tLXVwXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBwb3MgPSAwOyBpIDwgdGhpcy5fbGV2ZWxCb3VuZHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbmQgPSB0aGlzLl9sZXZlbEJvdW5kc1tpXTtcblxuICAgICAgICAgICAgLy8gZ2VuZXJhdGUgYSBwYXJlbnQgbm9kZSBmb3IgZWFjaCBibG9jayBvZiBjb25zZWN1dGl2ZSA8bm9kZVNpemU+IG5vZGVzXG4gICAgICAgICAgICB3aGlsZSAocG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZUluZGV4ID0gcG9zO1xuXG4gICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIGJib3ggZm9yIHRoZSBuZXcgbm9kZVxuICAgICAgICAgICAgICAgIGxldCBub2RlTWluWCA9IEluZmluaXR5O1xuICAgICAgICAgICAgICAgIGxldCBub2RlTWluWSA9IEluZmluaXR5O1xuICAgICAgICAgICAgICAgIGxldCBub2RlTWF4WCA9IC1JbmZpbml0eTtcbiAgICAgICAgICAgICAgICBsZXQgbm9kZU1heFkgPSAtSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5vZGVTaXplICYmIHBvcyA8IGVuZDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVNaW5YID0gTWF0aC5taW4obm9kZU1pblgsIHRoaXMuX2JveGVzW3BvcysrXSk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVNaW5ZID0gTWF0aC5taW4obm9kZU1pblksIHRoaXMuX2JveGVzW3BvcysrXSk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVNYXhYID0gTWF0aC5tYXgobm9kZU1heFgsIHRoaXMuX2JveGVzW3BvcysrXSk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVNYXhZID0gTWF0aC5tYXgobm9kZU1heFksIHRoaXMuX2JveGVzW3BvcysrXSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBuZXcgbm9kZSB0byB0aGUgdHJlZSBkYXRhXG4gICAgICAgICAgICAgICAgdGhpcy5faW5kaWNlc1t0aGlzLl9wb3MgPj4gMl0gPSBub2RlSW5kZXg7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm94ZXNbdGhpcy5fcG9zKytdID0gbm9kZU1pblg7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm94ZXNbdGhpcy5fcG9zKytdID0gbm9kZU1pblk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm94ZXNbdGhpcy5fcG9zKytdID0gbm9kZU1heFg7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm94ZXNbdGhpcy5fcG9zKytdID0gbm9kZU1heFk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWFyY2gobWluWCwgbWluWSwgbWF4WCwgbWF4WSwgZmlsdGVyRm4pIHtcbiAgICAgICAgaWYgKHRoaXMuX3BvcyAhPT0gdGhpcy5fYm94ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGEgbm90IHlldCBpbmRleGVkIC0gY2FsbCBpbmRleC5maW5pc2goKS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBub2RlSW5kZXggPSB0aGlzLl9ib3hlcy5sZW5ndGggLSA0O1xuICAgICAgICBjb25zdCBxdWV1ZSA9IFtdO1xuICAgICAgICBjb25zdCByZXN1bHRzID0gW107XG5cbiAgICAgICAgd2hpbGUgKG5vZGVJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBmaW5kIHRoZSBlbmQgaW5kZXggb2YgdGhlIG5vZGVcbiAgICAgICAgICAgIGNvbnN0IGVuZCA9IE1hdGgubWluKG5vZGVJbmRleCArIHRoaXMubm9kZVNpemUgKiA0LCB1cHBlckJvdW5kKG5vZGVJbmRleCwgdGhpcy5fbGV2ZWxCb3VuZHMpKTtcblxuICAgICAgICAgICAgLy8gc2VhcmNoIHRocm91Z2ggY2hpbGQgbm9kZXNcbiAgICAgICAgICAgIGZvciAobGV0IHBvcyA9IG5vZGVJbmRleDsgcG9zIDwgZW5kOyBwb3MgKz0gNCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5faW5kaWNlc1twb3MgPj4gMl0gfCAwO1xuXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgbm9kZSBiYm94IGludGVyc2VjdHMgd2l0aCBxdWVyeSBiYm94XG4gICAgICAgICAgICAgICAgaWYgKG1heFggPCB0aGlzLl9ib3hlc1twb3NdKSBjb250aW51ZTsgLy8gbWF4WCA8IG5vZGVNaW5YXG4gICAgICAgICAgICAgICAgaWYgKG1heFkgPCB0aGlzLl9ib3hlc1twb3MgKyAxXSkgY29udGludWU7IC8vIG1heFkgPCBub2RlTWluWVxuICAgICAgICAgICAgICAgIGlmIChtaW5YID4gdGhpcy5fYm94ZXNbcG9zICsgMl0pIGNvbnRpbnVlOyAvLyBtaW5YID4gbm9kZU1heFhcbiAgICAgICAgICAgICAgICBpZiAobWluWSA+IHRoaXMuX2JveGVzW3BvcyArIDNdKSBjb250aW51ZTsgLy8gbWluWSA+IG5vZGVNYXhZXG5cbiAgICAgICAgICAgICAgICBpZiAobm9kZUluZGV4IDwgdGhpcy5udW1JdGVtcyAqIDQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlckZuID09PSB1bmRlZmluZWQgfHwgZmlsdGVyRm4oaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goaW5kZXgpOyAvLyBsZWFmIGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWUucHVzaChpbmRleCk7IC8vIG5vZGU7IGFkZCBpdCB0byB0aGUgc2VhcmNoIHF1ZXVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBub2RlSW5kZXggPSBxdWV1ZS5wb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cblxuICAgIG5laWdoYm9ycyh4LCB5LCBtYXhSZXN1bHRzID0gSW5maW5pdHksIG1heERpc3RhbmNlID0gSW5maW5pdHksIGZpbHRlckZuKSB7XG4gICAgICAgIGlmICh0aGlzLl9wb3MgIT09IHRoaXMuX2JveGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhIG5vdCB5ZXQgaW5kZXhlZCAtIGNhbGwgaW5kZXguZmluaXNoKCkuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbm9kZUluZGV4ID0gdGhpcy5fYm94ZXMubGVuZ3RoIC0gNDtcbiAgICAgICAgY29uc3QgcSA9IHRoaXMuX3F1ZXVlO1xuICAgICAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgICAgIGNvbnN0IG1heERpc3RTcXVhcmVkID0gbWF4RGlzdGFuY2UgKiBtYXhEaXN0YW5jZTtcblxuICAgICAgICB3aGlsZSAobm9kZUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIGZpbmQgdGhlIGVuZCBpbmRleCBvZiB0aGUgbm9kZVxuICAgICAgICAgICAgY29uc3QgZW5kID0gTWF0aC5taW4obm9kZUluZGV4ICsgdGhpcy5ub2RlU2l6ZSAqIDQsIHVwcGVyQm91bmQobm9kZUluZGV4LCB0aGlzLl9sZXZlbEJvdW5kcykpO1xuXG4gICAgICAgICAgICAvLyBhZGQgY2hpbGQgbm9kZXMgdG8gdGhlIHF1ZXVlXG4gICAgICAgICAgICBmb3IgKGxldCBwb3MgPSBub2RlSW5kZXg7IHBvcyA8IGVuZDsgcG9zICs9IDQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2luZGljZXNbcG9zID4+IDJdIHwgMDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGR4ID0gYXhpc0Rpc3QoeCwgdGhpcy5fYm94ZXNbcG9zXSwgdGhpcy5fYm94ZXNbcG9zICsgMl0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGR5ID0gYXhpc0Rpc3QoeSwgdGhpcy5fYm94ZXNbcG9zICsgMV0sIHRoaXMuX2JveGVzW3BvcyArIDNdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0ID0gZHggKiBkeCArIGR5ICogZHk7XG5cbiAgICAgICAgICAgICAgICBpZiAobm9kZUluZGV4IDwgdGhpcy5udW1JdGVtcyAqIDQpIHsgLy8gbGVhZiBub2RlXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJGbiA9PT0gdW5kZWZpbmVkIHx8IGZpbHRlckZuKGluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHV0IGEgbmVnYXRpdmUgaW5kZXggaWYgaXQncyBhbiBpdGVtIHJhdGhlciB0aGFuIGEgbm9kZSwgdG8gcmVjb2duaXplIGxhdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBxLnB1c2goLWluZGV4IC0gMSwgZGlzdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBxLnB1c2goaW5kZXgsIGRpc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcG9wIGl0ZW1zIGZyb20gdGhlIHF1ZXVlXG4gICAgICAgICAgICB3aGlsZSAocS5sZW5ndGggJiYgcS5wZWVrKCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdCA9IHEucGVla1ZhbHVlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3QgPiBtYXhEaXN0U3F1YXJlZCkge1xuICAgICAgICAgICAgICAgICAgICBxLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goLXEucG9wKCkgLSAxKTtcblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gbWF4UmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICBxLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbm9kZUluZGV4ID0gcS5wb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHEuY2xlYXIoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBheGlzRGlzdChrLCBtaW4sIG1heCkge1xuICAgIHJldHVybiBrIDwgbWluID8gbWluIC0gayA6IGsgPD0gbWF4ID8gMCA6IGsgLSBtYXg7XG59XG5cbi8vIGJpbmFyeSBzZWFyY2ggZm9yIHRoZSBmaXJzdCB2YWx1ZSBpbiB0aGUgYXJyYXkgYmlnZ2VyIHRoYW4gdGhlIGdpdmVuXG5mdW5jdGlvbiB1cHBlckJvdW5kKHZhbHVlLCBhcnIpIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IGogPSBhcnIubGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAoaSA8IGopIHtcbiAgICAgICAgY29uc3QgbSA9IChpICsgaikgPj4gMTtcbiAgICAgICAgaWYgKGFyclttXSA+IHZhbHVlKSB7XG4gICAgICAgICAgICBqID0gbTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGkgPSBtICsgMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyW2ldO1xufVxuXG4vLyBjdXN0b20gcXVpY2tzb3J0IHRoYXQgcGFydGlhbGx5IHNvcnRzIGJib3ggZGF0YSBhbG9uZ3NpZGUgdGhlIGhpbGJlcnQgdmFsdWVzXG5mdW5jdGlvbiBzb3J0KHZhbHVlcywgYm94ZXMsIGluZGljZXMsIGxlZnQsIHJpZ2h0LCBub2RlU2l6ZSkge1xuICAgIGlmIChNYXRoLmZsb29yKGxlZnQgLyBub2RlU2l6ZSkgPj0gTWF0aC5mbG9vcihyaWdodCAvIG5vZGVTaXplKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgcGl2b3QgPSB2YWx1ZXNbKGxlZnQgKyByaWdodCkgPj4gMV07XG4gICAgbGV0IGkgPSBsZWZ0IC0gMTtcbiAgICBsZXQgaiA9IHJpZ2h0ICsgMTtcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGRvIGkrKzsgd2hpbGUgKHZhbHVlc1tpXSA8IHBpdm90KTtcbiAgICAgICAgZG8gai0tOyB3aGlsZSAodmFsdWVzW2pdID4gcGl2b3QpO1xuICAgICAgICBpZiAoaSA+PSBqKSBicmVhaztcbiAgICAgICAgc3dhcCh2YWx1ZXMsIGJveGVzLCBpbmRpY2VzLCBpLCBqKTtcbiAgICB9XG5cbiAgICBzb3J0KHZhbHVlcywgYm94ZXMsIGluZGljZXMsIGxlZnQsIGosIG5vZGVTaXplKTtcbiAgICBzb3J0KHZhbHVlcywgYm94ZXMsIGluZGljZXMsIGogKyAxLCByaWdodCwgbm9kZVNpemUpO1xufVxuXG4vLyBzd2FwIHR3byB2YWx1ZXMgYW5kIHR3byBjb3JyZXNwb25kaW5nIGJveGVzXG5mdW5jdGlvbiBzd2FwKHZhbHVlcywgYm94ZXMsIGluZGljZXMsIGksIGopIHtcbiAgICBjb25zdCB0ZW1wID0gdmFsdWVzW2ldO1xuICAgIHZhbHVlc1tpXSA9IHZhbHVlc1tqXTtcbiAgICB2YWx1ZXNbal0gPSB0ZW1wO1xuXG4gICAgY29uc3QgayA9IDQgKiBpO1xuICAgIGNvbnN0IG0gPSA0ICogajtcblxuICAgIGNvbnN0IGEgPSBib3hlc1trXTtcbiAgICBjb25zdCBiID0gYm94ZXNbayArIDFdO1xuICAgIGNvbnN0IGMgPSBib3hlc1trICsgMl07XG4gICAgY29uc3QgZCA9IGJveGVzW2sgKyAzXTtcbiAgICBib3hlc1trXSA9IGJveGVzW21dO1xuICAgIGJveGVzW2sgKyAxXSA9IGJveGVzW20gKyAxXTtcbiAgICBib3hlc1trICsgMl0gPSBib3hlc1ttICsgMl07XG4gICAgYm94ZXNbayArIDNdID0gYm94ZXNbbSArIDNdO1xuICAgIGJveGVzW21dID0gYTtcbiAgICBib3hlc1ttICsgMV0gPSBiO1xuICAgIGJveGVzW20gKyAyXSA9IGM7XG4gICAgYm94ZXNbbSArIDNdID0gZDtcblxuICAgIGNvbnN0IGUgPSBpbmRpY2VzW2ldO1xuICAgIGluZGljZXNbaV0gPSBpbmRpY2VzW2pdO1xuICAgIGluZGljZXNbal0gPSBlO1xufVxuXG4vLyBGYXN0IEhpbGJlcnQgY3VydmUgYWxnb3JpdGhtIGJ5IGh0dHA6Ly90aHJlYWRsb2NhbG11dGV4LmNvbS9cbi8vIFBvcnRlZCBmcm9tIEMrKyBodHRwczovL2dpdGh1Yi5jb20vcmF3cnVucHJvdGVjdGVkL2hpbGJlcnRfY3VydmVzIChwdWJsaWMgZG9tYWluKVxuZnVuY3Rpb24gaGlsYmVydCh4LCB5KSB7XG4gICAgbGV0IGEgPSB4IF4geTtcbiAgICBsZXQgYiA9IDB4RkZGRiBeIGE7XG4gICAgbGV0IGMgPSAweEZGRkYgXiAoeCB8IHkpO1xuICAgIGxldCBkID0geCAmICh5IF4gMHhGRkZGKTtcblxuICAgIGxldCBBID0gYSB8IChiID4+IDEpO1xuICAgIGxldCBCID0gKGEgPj4gMSkgXiBhO1xuICAgIGxldCBDID0gKChjID4+IDEpIF4gKGIgJiAoZCA+PiAxKSkpIF4gYztcbiAgICBsZXQgRCA9ICgoYSAmIChjID4+IDEpKSBeIChkID4+IDEpKSBeIGQ7XG5cbiAgICBhID0gQTsgYiA9IEI7IGMgPSBDOyBkID0gRDtcbiAgICBBID0gKChhICYgKGEgPj4gMikpIF4gKGIgJiAoYiA+PiAyKSkpO1xuICAgIEIgPSAoKGEgJiAoYiA+PiAyKSkgXiAoYiAmICgoYSBeIGIpID4+IDIpKSk7XG4gICAgQyBePSAoKGEgJiAoYyA+PiAyKSkgXiAoYiAmIChkID4+IDIpKSk7XG4gICAgRCBePSAoKGIgJiAoYyA+PiAyKSkgXiAoKGEgXiBiKSAmIChkID4+IDIpKSk7XG5cbiAgICBhID0gQTsgYiA9IEI7IGMgPSBDOyBkID0gRDtcbiAgICBBID0gKChhICYgKGEgPj4gNCkpIF4gKGIgJiAoYiA+PiA0KSkpO1xuICAgIEIgPSAoKGEgJiAoYiA+PiA0KSkgXiAoYiAmICgoYSBeIGIpID4+IDQpKSk7XG4gICAgQyBePSAoKGEgJiAoYyA+PiA0KSkgXiAoYiAmIChkID4+IDQpKSk7XG4gICAgRCBePSAoKGIgJiAoYyA+PiA0KSkgXiAoKGEgXiBiKSAmIChkID4+IDQpKSk7XG5cbiAgICBhID0gQTsgYiA9IEI7IGMgPSBDOyBkID0gRDtcbiAgICBDIF49ICgoYSAmIChjID4+IDgpKSBeIChiICYgKGQgPj4gOCkpKTtcbiAgICBEIF49ICgoYiAmIChjID4+IDgpKSBeICgoYSBeIGIpICYgKGQgPj4gOCkpKTtcblxuICAgIGEgPSBDIF4gKEMgPj4gMSk7XG4gICAgYiA9IEQgXiAoRCA+PiAxKTtcblxuICAgIGxldCBpMCA9IHggXiB5O1xuICAgIGxldCBpMSA9IGIgfCAoMHhGRkZGIF4gKGkwIHwgYSkpO1xuXG4gICAgaTAgPSAoaTAgfCAoaTAgPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICBpMCA9IChpMCB8IChpMCA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIGkwID0gKGkwIHwgKGkwIDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgaTAgPSAoaTAgfCAoaTAgPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIGkxID0gKGkxIHwgKGkxIDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgaTEgPSAoaTEgfCAoaTEgPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICBpMSA9IChpMSB8IChpMSA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIGkxID0gKGkxIHwgKGkxIDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICByZXR1cm4gKChpMSA8PCAxKSB8IGkwKSA+Pj4gMDtcbn1cblxudmFyIGZsYXRidXNoID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuXHRfX3Byb3RvX186IG51bGwsXG5cdCdkZWZhdWx0JzogRmxhdGJ1c2hcbn0pO1xuXG5mdW5jdGlvbiBxdWlja3NlbGVjdChhcnIsIGssIGxlZnQsIHJpZ2h0LCBjb21wYXJlKSB7XG4gICAgcXVpY2tzZWxlY3RTdGVwKGFyciwgaywgbGVmdCB8fCAwLCByaWdodCB8fCAoYXJyLmxlbmd0aCAtIDEpLCBjb21wYXJlIHx8IGRlZmF1bHRDb21wYXJlKTtcbn1cblxuZnVuY3Rpb24gcXVpY2tzZWxlY3RTdGVwKGFyciwgaywgbGVmdCwgcmlnaHQsIGNvbXBhcmUpIHtcblxuICAgIHdoaWxlIChyaWdodCA+IGxlZnQpIHtcbiAgICAgICAgaWYgKHJpZ2h0IC0gbGVmdCA+IDYwMCkge1xuICAgICAgICAgICAgdmFyIG4gPSByaWdodCAtIGxlZnQgKyAxO1xuICAgICAgICAgICAgdmFyIG0gPSBrIC0gbGVmdCArIDE7XG4gICAgICAgICAgICB2YXIgeiA9IE1hdGgubG9nKG4pO1xuICAgICAgICAgICAgdmFyIHMgPSAwLjUgKiBNYXRoLmV4cCgyICogeiAvIDMpO1xuICAgICAgICAgICAgdmFyIHNkID0gMC41ICogTWF0aC5zcXJ0KHogKiBzICogKG4gLSBzKSAvIG4pICogKG0gLSBuIC8gMiA8IDAgPyAtMSA6IDEpO1xuICAgICAgICAgICAgdmFyIG5ld0xlZnQgPSBNYXRoLm1heChsZWZ0LCBNYXRoLmZsb29yKGsgLSBtICogcyAvIG4gKyBzZCkpO1xuICAgICAgICAgICAgdmFyIG5ld1JpZ2h0ID0gTWF0aC5taW4ocmlnaHQsIE1hdGguZmxvb3IoayArIChuIC0gbSkgKiBzIC8gbiArIHNkKSk7XG4gICAgICAgICAgICBxdWlja3NlbGVjdFN0ZXAoYXJyLCBrLCBuZXdMZWZ0LCBuZXdSaWdodCwgY29tcGFyZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdCA9IGFycltrXTtcbiAgICAgICAgdmFyIGkgPSBsZWZ0O1xuICAgICAgICB2YXIgaiA9IHJpZ2h0O1xuXG4gICAgICAgIHN3YXAkMShhcnIsIGxlZnQsIGspO1xuICAgICAgICBpZiAoY29tcGFyZShhcnJbcmlnaHRdLCB0KSA+IDApIHN3YXAkMShhcnIsIGxlZnQsIHJpZ2h0KTtcblxuICAgICAgICB3aGlsZSAoaSA8IGopIHtcbiAgICAgICAgICAgIHN3YXAkMShhcnIsIGksIGopO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgd2hpbGUgKGNvbXBhcmUoYXJyW2ldLCB0KSA8IDApIGkrKztcbiAgICAgICAgICAgIHdoaWxlIChjb21wYXJlKGFycltqXSwgdCkgPiAwKSBqLS07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tcGFyZShhcnJbbGVmdF0sIHQpID09PSAwKSBzd2FwJDEoYXJyLCBsZWZ0LCBqKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBqKys7XG4gICAgICAgICAgICBzd2FwJDEoYXJyLCBqLCByaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaiA8PSBrKSBsZWZ0ID0gaiArIDE7XG4gICAgICAgIGlmIChrIDw9IGopIHJpZ2h0ID0gaiAtIDE7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzd2FwJDEoYXJyLCBpLCBqKSB7XG4gICAgdmFyIHRtcCA9IGFycltpXTtcbiAgICBhcnJbaV0gPSBhcnJbal07XG4gICAgYXJyW2pdID0gdG1wO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0Q29tcGFyZShhLCBiKSB7XG4gICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwO1xufVxuXG5jbGFzcyBSQnVzaCB7XG4gICAgY29uc3RydWN0b3IobWF4RW50cmllcyA9IDkpIHtcbiAgICAgICAgLy8gbWF4IGVudHJpZXMgaW4gYSBub2RlIGlzIDkgYnkgZGVmYXVsdDsgbWluIG5vZGUgZmlsbCBpcyA0MCUgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICAgICAgdGhpcy5fbWF4RW50cmllcyA9IE1hdGgubWF4KDQsIG1heEVudHJpZXMpO1xuICAgICAgICB0aGlzLl9taW5FbnRyaWVzID0gTWF0aC5tYXgoMiwgTWF0aC5jZWlsKHRoaXMuX21heEVudHJpZXMgKiAwLjQpKTtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIGFsbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsbCh0aGlzLmRhdGEsIFtdKTtcbiAgICB9XG5cbiAgICBzZWFyY2goYmJveCkge1xuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuZGF0YTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG5cbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzKGJib3gsIG5vZGUpKSByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIGNvbnN0IHRvQkJveCA9IHRoaXMudG9CQm94O1xuICAgICAgICBjb25zdCBub2Rlc1RvU2VhcmNoID0gW107XG5cbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEJCb3ggPSBub2RlLmxlYWYgPyB0b0JCb3goY2hpbGQpIDogY2hpbGQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJzZWN0cyhiYm94LCBjaGlsZEJCb3gpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmxlYWYpIHJlc3VsdC5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29udGFpbnMoYmJveCwgY2hpbGRCQm94KSkgdGhpcy5fYWxsKGNoaWxkLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIG5vZGVzVG9TZWFyY2gucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGVzVG9TZWFyY2gucG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGNvbGxpZGVzKGJib3gpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLmRhdGE7XG5cbiAgICAgICAgaWYgKCFpbnRlcnNlY3RzKGJib3gsIG5vZGUpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY29uc3Qgbm9kZXNUb1NlYXJjaCA9IFtdO1xuICAgICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBub2RlLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQkJveCA9IG5vZGUubGVhZiA/IHRoaXMudG9CQm94KGNoaWxkKSA6IGNoaWxkO1xuXG4gICAgICAgICAgICAgICAgaWYgKGludGVyc2VjdHMoYmJveCwgY2hpbGRCQm94KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5sZWFmIHx8IGNvbnRhaW5zKGJib3gsIGNoaWxkQkJveCkpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBub2Rlc1RvU2VhcmNoLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUgPSBub2Rlc1RvU2VhcmNoLnBvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGxvYWQoZGF0YSkge1xuICAgICAgICBpZiAoIShkYXRhICYmIGRhdGEubGVuZ3RoKSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoIDwgdGhpcy5fbWluRW50cmllcykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnQoZGF0YVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlY3Vyc2l2ZWx5IGJ1aWxkIHRoZSB0cmVlIHdpdGggdGhlIGdpdmVuIGRhdGEgZnJvbSBzY3JhdGNoIHVzaW5nIE9NVCBhbGdvcml0aG1cbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLl9idWlsZChkYXRhLnNsaWNlKCksIDAsIGRhdGEubGVuZ3RoIC0gMSwgMCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmRhdGEuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBzYXZlIGFzIGlzIGlmIHRyZWUgaXMgZW1wdHlcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5vZGU7XG5cbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEuaGVpZ2h0ID09PSBub2RlLmhlaWdodCkge1xuICAgICAgICAgICAgLy8gc3BsaXQgcm9vdCBpZiB0cmVlcyBoYXZlIHRoZSBzYW1lIGhlaWdodFxuICAgICAgICAgICAgdGhpcy5fc3BsaXRSb290KHRoaXMuZGF0YSwgbm9kZSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuaGVpZ2h0IDwgbm9kZS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAvLyBzd2FwIHRyZWVzIGlmIGluc2VydGVkIG9uZSBpcyBiaWdnZXJcbiAgICAgICAgICAgICAgICBjb25zdCB0bXBOb2RlID0gdGhpcy5kYXRhO1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgbm9kZSA9IHRtcE5vZGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGluc2VydCB0aGUgc21hbGwgdHJlZSBpbnRvIHRoZSBsYXJnZSB0cmVlIGF0IGFwcHJvcHJpYXRlIGxldmVsXG4gICAgICAgICAgICB0aGlzLl9pbnNlcnQobm9kZSwgdGhpcy5kYXRhLmhlaWdodCAtIG5vZGUuaGVpZ2h0IC0gMSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpbnNlcnQoaXRlbSkge1xuICAgICAgICBpZiAoaXRlbSkgdGhpcy5faW5zZXJ0KGl0ZW0sIHRoaXMuZGF0YS5oZWlnaHQgLSAxKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGNyZWF0ZU5vZGUoW10pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZW1vdmUoaXRlbSwgZXF1YWxzRm4pIHtcbiAgICAgICAgaWYgKCFpdGVtKSByZXR1cm4gdGhpcztcblxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuZGF0YTtcbiAgICAgICAgY29uc3QgYmJveCA9IHRoaXMudG9CQm94KGl0ZW0pO1xuICAgICAgICBjb25zdCBwYXRoID0gW107XG4gICAgICAgIGNvbnN0IGluZGV4ZXMgPSBbXTtcbiAgICAgICAgbGV0IGksIHBhcmVudCwgZ29pbmdVcDtcblxuICAgICAgICAvLyBkZXB0aC1maXJzdCBpdGVyYXRpdmUgdHJlZSB0cmF2ZXJzYWxcbiAgICAgICAgd2hpbGUgKG5vZGUgfHwgcGF0aC5sZW5ndGgpIHtcblxuICAgICAgICAgICAgaWYgKCFub2RlKSB7IC8vIGdvIHVwXG4gICAgICAgICAgICAgICAgbm9kZSA9IHBhdGgucG9wKCk7XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGkgPSBpbmRleGVzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGdvaW5nVXAgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobm9kZS5sZWFmKSB7IC8vIGNoZWNrIGN1cnJlbnQgbm9kZVxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZmluZEl0ZW0oaXRlbSwgbm9kZS5jaGlsZHJlbiwgZXF1YWxzRm4pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpdGVtIGZvdW5kLCByZW1vdmUgdGhlIGl0ZW0gYW5kIGNvbmRlbnNlIHRyZWUgdXB3YXJkc1xuICAgICAgICAgICAgICAgICAgICBub2RlLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHBhdGgucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29uZGVuc2UocGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFnb2luZ1VwICYmICFub2RlLmxlYWYgJiYgY29udGFpbnMobm9kZSwgYmJveCkpIHsgLy8gZ28gZG93blxuICAgICAgICAgICAgICAgIHBhdGgucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICBpbmRleGVzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gbm9kZTtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZHJlblswXTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJlbnQpIHsgLy8gZ28gcmlnaHRcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgbm9kZSA9IHBhcmVudC5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBnb2luZ1VwID0gZmFsc2U7XG5cbiAgICAgICAgICAgIH0gZWxzZSBub2RlID0gbnVsbDsgLy8gbm90aGluZyBmb3VuZFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdG9CQm94KGl0ZW0pIHsgcmV0dXJuIGl0ZW07IH1cblxuICAgIGNvbXBhcmVNaW5YKGEsIGIpIHsgcmV0dXJuIGEubWluWCAtIGIubWluWDsgfVxuICAgIGNvbXBhcmVNaW5ZKGEsIGIpIHsgcmV0dXJuIGEubWluWSAtIGIubWluWTsgfVxuXG4gICAgdG9KU09OKCkgeyByZXR1cm4gdGhpcy5kYXRhOyB9XG5cbiAgICBmcm9tSlNPTihkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9hbGwobm9kZSwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IG5vZGVzVG9TZWFyY2ggPSBbXTtcbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgICAgIGlmIChub2RlLmxlYWYpIHJlc3VsdC5wdXNoKC4uLm5vZGUuY2hpbGRyZW4pO1xuICAgICAgICAgICAgZWxzZSBub2Rlc1RvU2VhcmNoLnB1c2goLi4ubm9kZS5jaGlsZHJlbik7XG5cbiAgICAgICAgICAgIG5vZGUgPSBub2Rlc1RvU2VhcmNoLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgX2J1aWxkKGl0ZW1zLCBsZWZ0LCByaWdodCwgaGVpZ2h0KSB7XG5cbiAgICAgICAgY29uc3QgTiA9IHJpZ2h0IC0gbGVmdCArIDE7XG4gICAgICAgIGxldCBNID0gdGhpcy5fbWF4RW50cmllcztcbiAgICAgICAgbGV0IG5vZGU7XG5cbiAgICAgICAgaWYgKE4gPD0gTSkge1xuICAgICAgICAgICAgLy8gcmVhY2hlZCBsZWFmIGxldmVsOyByZXR1cm4gbGVhZlxuICAgICAgICAgICAgbm9kZSA9IGNyZWF0ZU5vZGUoaXRlbXMuc2xpY2UobGVmdCwgcmlnaHQgKyAxKSk7XG4gICAgICAgICAgICBjYWxjQkJveChub2RlLCB0aGlzLnRvQkJveCk7XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaGVpZ2h0KSB7XG4gICAgICAgICAgICAvLyB0YXJnZXQgaGVpZ2h0IG9mIHRoZSBidWxrLWxvYWRlZCB0cmVlXG4gICAgICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoTWF0aC5sb2coTikgLyBNYXRoLmxvZyhNKSk7XG5cbiAgICAgICAgICAgIC8vIHRhcmdldCBudW1iZXIgb2Ygcm9vdCBlbnRyaWVzIHRvIG1heGltaXplIHN0b3JhZ2UgdXRpbGl6YXRpb25cbiAgICAgICAgICAgIE0gPSBNYXRoLmNlaWwoTiAvIE1hdGgucG93KE0sIGhlaWdodCAtIDEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5vZGUgPSBjcmVhdGVOb2RlKFtdKTtcbiAgICAgICAgbm9kZS5sZWFmID0gZmFsc2U7XG4gICAgICAgIG5vZGUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8vIHNwbGl0IHRoZSBpdGVtcyBpbnRvIE0gbW9zdGx5IHNxdWFyZSB0aWxlc1xuXG4gICAgICAgIGNvbnN0IE4yID0gTWF0aC5jZWlsKE4gLyBNKTtcbiAgICAgICAgY29uc3QgTjEgPSBOMiAqIE1hdGguY2VpbChNYXRoLnNxcnQoTSkpO1xuXG4gICAgICAgIG11bHRpU2VsZWN0KGl0ZW1zLCBsZWZ0LCByaWdodCwgTjEsIHRoaXMuY29tcGFyZU1pblgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBsZWZ0OyBpIDw9IHJpZ2h0OyBpICs9IE4xKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0MiA9IE1hdGgubWluKGkgKyBOMSAtIDEsIHJpZ2h0KTtcblxuICAgICAgICAgICAgbXVsdGlTZWxlY3QoaXRlbXMsIGksIHJpZ2h0MiwgTjIsIHRoaXMuY29tcGFyZU1pblkpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA8PSByaWdodDI7IGogKz0gTjIpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0MyA9IE1hdGgubWluKGogKyBOMiAtIDEsIHJpZ2h0Mik7XG5cbiAgICAgICAgICAgICAgICAvLyBwYWNrIGVhY2ggZW50cnkgcmVjdXJzaXZlbHlcbiAgICAgICAgICAgICAgICBub2RlLmNoaWxkcmVuLnB1c2godGhpcy5fYnVpbGQoaXRlbXMsIGosIHJpZ2h0MywgaGVpZ2h0IC0gMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2FsY0JCb3gobm9kZSwgdGhpcy50b0JCb3gpO1xuXG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIF9jaG9vc2VTdWJ0cmVlKGJib3gsIG5vZGUsIGxldmVsLCBwYXRoKSB7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBwYXRoLnB1c2gobm9kZSk7XG5cbiAgICAgICAgICAgIGlmIChub2RlLmxlYWYgfHwgcGF0aC5sZW5ndGggLSAxID09PSBsZXZlbCkgYnJlYWs7XG5cbiAgICAgICAgICAgIGxldCBtaW5BcmVhID0gSW5maW5pdHk7XG4gICAgICAgICAgICBsZXQgbWluRW5sYXJnZW1lbnQgPSBJbmZpbml0eTtcbiAgICAgICAgICAgIGxldCB0YXJnZXROb2RlO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IG5vZGUuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgY29uc3QgYXJlYSA9IGJib3hBcmVhKGNoaWxkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmxhcmdlbWVudCA9IGVubGFyZ2VkQXJlYShiYm94LCBjaGlsZCkgLSBhcmVhO1xuXG4gICAgICAgICAgICAgICAgLy8gY2hvb3NlIGVudHJ5IHdpdGggdGhlIGxlYXN0IGFyZWEgZW5sYXJnZW1lbnRcbiAgICAgICAgICAgICAgICBpZiAoZW5sYXJnZW1lbnQgPCBtaW5FbmxhcmdlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBtaW5FbmxhcmdlbWVudCA9IGVubGFyZ2VtZW50O1xuICAgICAgICAgICAgICAgICAgICBtaW5BcmVhID0gYXJlYSA8IG1pbkFyZWEgPyBhcmVhIDogbWluQXJlYTtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Tm9kZSA9IGNoaWxkO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbmxhcmdlbWVudCA9PT0gbWluRW5sYXJnZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGNob29zZSBvbmUgd2l0aCB0aGUgc21hbGxlc3QgYXJlYVxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJlYSA8IG1pbkFyZWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbkFyZWEgPSBhcmVhO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Tm9kZSA9IGNoaWxkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBub2RlID0gdGFyZ2V0Tm9kZSB8fCBub2RlLmNoaWxkcmVuWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgX2luc2VydChpdGVtLCBsZXZlbCwgaXNOb2RlKSB7XG4gICAgICAgIGNvbnN0IGJib3ggPSBpc05vZGUgPyBpdGVtIDogdGhpcy50b0JCb3goaXRlbSk7XG4gICAgICAgIGNvbnN0IGluc2VydFBhdGggPSBbXTtcblxuICAgICAgICAvLyBmaW5kIHRoZSBiZXN0IG5vZGUgZm9yIGFjY29tbW9kYXRpbmcgdGhlIGl0ZW0sIHNhdmluZyBhbGwgbm9kZXMgYWxvbmcgdGhlIHBhdGggdG9vXG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLl9jaG9vc2VTdWJ0cmVlKGJib3gsIHRoaXMuZGF0YSwgbGV2ZWwsIGluc2VydFBhdGgpO1xuXG4gICAgICAgIC8vIHB1dCB0aGUgaXRlbSBpbnRvIHRoZSBub2RlXG4gICAgICAgIG5vZGUuY2hpbGRyZW4ucHVzaChpdGVtKTtcbiAgICAgICAgZXh0ZW5kKG5vZGUsIGJib3gpO1xuXG4gICAgICAgIC8vIHNwbGl0IG9uIG5vZGUgb3ZlcmZsb3c7IHByb3BhZ2F0ZSB1cHdhcmRzIGlmIG5lY2Vzc2FyeVxuICAgICAgICB3aGlsZSAobGV2ZWwgPj0gMCkge1xuICAgICAgICAgICAgaWYgKGluc2VydFBhdGhbbGV2ZWxdLmNoaWxkcmVuLmxlbmd0aCA+IHRoaXMuX21heEVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGxpdChpbnNlcnRQYXRoLCBsZXZlbCk7XG4gICAgICAgICAgICAgICAgbGV2ZWwtLTtcbiAgICAgICAgICAgIH0gZWxzZSBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkanVzdCBiYm94ZXMgYWxvbmcgdGhlIGluc2VydGlvbiBwYXRoXG4gICAgICAgIHRoaXMuX2FkanVzdFBhcmVudEJCb3hlcyhiYm94LCBpbnNlcnRQYXRoLCBsZXZlbCk7XG4gICAgfVxuXG4gICAgLy8gc3BsaXQgb3ZlcmZsb3dlZCBub2RlIGludG8gdHdvXG4gICAgX3NwbGl0KGluc2VydFBhdGgsIGxldmVsKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBpbnNlcnRQYXRoW2xldmVsXTtcbiAgICAgICAgY29uc3QgTSA9IG5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBjb25zdCBtID0gdGhpcy5fbWluRW50cmllcztcblxuICAgICAgICB0aGlzLl9jaG9vc2VTcGxpdEF4aXMobm9kZSwgbSwgTSk7XG5cbiAgICAgICAgY29uc3Qgc3BsaXRJbmRleCA9IHRoaXMuX2Nob29zZVNwbGl0SW5kZXgobm9kZSwgbSwgTSk7XG5cbiAgICAgICAgY29uc3QgbmV3Tm9kZSA9IGNyZWF0ZU5vZGUobm9kZS5jaGlsZHJlbi5zcGxpY2Uoc3BsaXRJbmRleCwgbm9kZS5jaGlsZHJlbi5sZW5ndGggLSBzcGxpdEluZGV4KSk7XG4gICAgICAgIG5ld05vZGUuaGVpZ2h0ID0gbm9kZS5oZWlnaHQ7XG4gICAgICAgIG5ld05vZGUubGVhZiA9IG5vZGUubGVhZjtcblxuICAgICAgICBjYWxjQkJveChub2RlLCB0aGlzLnRvQkJveCk7XG4gICAgICAgIGNhbGNCQm94KG5ld05vZGUsIHRoaXMudG9CQm94KTtcblxuICAgICAgICBpZiAobGV2ZWwpIGluc2VydFBhdGhbbGV2ZWwgLSAxXS5jaGlsZHJlbi5wdXNoKG5ld05vZGUpO1xuICAgICAgICBlbHNlIHRoaXMuX3NwbGl0Um9vdChub2RlLCBuZXdOb2RlKTtcbiAgICB9XG5cbiAgICBfc3BsaXRSb290KG5vZGUsIG5ld05vZGUpIHtcbiAgICAgICAgLy8gc3BsaXQgcm9vdCBub2RlXG4gICAgICAgIHRoaXMuZGF0YSA9IGNyZWF0ZU5vZGUoW25vZGUsIG5ld05vZGVdKTtcbiAgICAgICAgdGhpcy5kYXRhLmhlaWdodCA9IG5vZGUuaGVpZ2h0ICsgMTtcbiAgICAgICAgdGhpcy5kYXRhLmxlYWYgPSBmYWxzZTtcbiAgICAgICAgY2FsY0JCb3godGhpcy5kYXRhLCB0aGlzLnRvQkJveCk7XG4gICAgfVxuXG4gICAgX2Nob29zZVNwbGl0SW5kZXgobm9kZSwgbSwgTSkge1xuICAgICAgICBsZXQgaW5kZXg7XG4gICAgICAgIGxldCBtaW5PdmVybGFwID0gSW5maW5pdHk7XG4gICAgICAgIGxldCBtaW5BcmVhID0gSW5maW5pdHk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IG07IGkgPD0gTSAtIG07IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYmJveDEgPSBkaXN0QkJveChub2RlLCAwLCBpLCB0aGlzLnRvQkJveCk7XG4gICAgICAgICAgICBjb25zdCBiYm94MiA9IGRpc3RCQm94KG5vZGUsIGksIE0sIHRoaXMudG9CQm94KTtcblxuICAgICAgICAgICAgY29uc3Qgb3ZlcmxhcCA9IGludGVyc2VjdGlvbkFyZWEoYmJveDEsIGJib3gyKTtcbiAgICAgICAgICAgIGNvbnN0IGFyZWEgPSBiYm94QXJlYShiYm94MSkgKyBiYm94QXJlYShiYm94Mik7XG5cbiAgICAgICAgICAgIC8vIGNob29zZSBkaXN0cmlidXRpb24gd2l0aCBtaW5pbXVtIG92ZXJsYXBcbiAgICAgICAgICAgIGlmIChvdmVybGFwIDwgbWluT3ZlcmxhcCkge1xuICAgICAgICAgICAgICAgIG1pbk92ZXJsYXAgPSBvdmVybGFwO1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcblxuICAgICAgICAgICAgICAgIG1pbkFyZWEgPSBhcmVhIDwgbWluQXJlYSA/IGFyZWEgOiBtaW5BcmVhO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG92ZXJsYXAgPT09IG1pbk92ZXJsYXApIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgY2hvb3NlIGRpc3RyaWJ1dGlvbiB3aXRoIG1pbmltdW0gYXJlYVxuICAgICAgICAgICAgICAgIGlmIChhcmVhIDwgbWluQXJlYSkge1xuICAgICAgICAgICAgICAgICAgICBtaW5BcmVhID0gYXJlYTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmRleCB8fCBNIC0gbTtcbiAgICB9XG5cbiAgICAvLyBzb3J0cyBub2RlIGNoaWxkcmVuIGJ5IHRoZSBiZXN0IGF4aXMgZm9yIHNwbGl0XG4gICAgX2Nob29zZVNwbGl0QXhpcyhub2RlLCBtLCBNKSB7XG4gICAgICAgIGNvbnN0IGNvbXBhcmVNaW5YID0gbm9kZS5sZWFmID8gdGhpcy5jb21wYXJlTWluWCA6IGNvbXBhcmVOb2RlTWluWDtcbiAgICAgICAgY29uc3QgY29tcGFyZU1pblkgPSBub2RlLmxlYWYgPyB0aGlzLmNvbXBhcmVNaW5ZIDogY29tcGFyZU5vZGVNaW5ZO1xuICAgICAgICBjb25zdCB4TWFyZ2luID0gdGhpcy5fYWxsRGlzdE1hcmdpbihub2RlLCBtLCBNLCBjb21wYXJlTWluWCk7XG4gICAgICAgIGNvbnN0IHlNYXJnaW4gPSB0aGlzLl9hbGxEaXN0TWFyZ2luKG5vZGUsIG0sIE0sIGNvbXBhcmVNaW5ZKTtcblxuICAgICAgICAvLyBpZiB0b3RhbCBkaXN0cmlidXRpb25zIG1hcmdpbiB2YWx1ZSBpcyBtaW5pbWFsIGZvciB4LCBzb3J0IGJ5IG1pblgsXG4gICAgICAgIC8vIG90aGVyd2lzZSBpdCdzIGFscmVhZHkgc29ydGVkIGJ5IG1pbllcbiAgICAgICAgaWYgKHhNYXJnaW4gPCB5TWFyZ2luKSBub2RlLmNoaWxkcmVuLnNvcnQoY29tcGFyZU1pblgpO1xuICAgIH1cblxuICAgIC8vIHRvdGFsIG1hcmdpbiBvZiBhbGwgcG9zc2libGUgc3BsaXQgZGlzdHJpYnV0aW9ucyB3aGVyZSBlYWNoIG5vZGUgaXMgYXQgbGVhc3QgbSBmdWxsXG4gICAgX2FsbERpc3RNYXJnaW4obm9kZSwgbSwgTSwgY29tcGFyZSkge1xuICAgICAgICBub2RlLmNoaWxkcmVuLnNvcnQoY29tcGFyZSk7XG5cbiAgICAgICAgY29uc3QgdG9CQm94ID0gdGhpcy50b0JCb3g7XG4gICAgICAgIGNvbnN0IGxlZnRCQm94ID0gZGlzdEJCb3gobm9kZSwgMCwgbSwgdG9CQm94KTtcbiAgICAgICAgY29uc3QgcmlnaHRCQm94ID0gZGlzdEJCb3gobm9kZSwgTSAtIG0sIE0sIHRvQkJveCk7XG4gICAgICAgIGxldCBtYXJnaW4gPSBiYm94TWFyZ2luKGxlZnRCQm94KSArIGJib3hNYXJnaW4ocmlnaHRCQm94KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gbTsgaSA8IE0gLSBtOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGV4dGVuZChsZWZ0QkJveCwgbm9kZS5sZWFmID8gdG9CQm94KGNoaWxkKSA6IGNoaWxkKTtcbiAgICAgICAgICAgIG1hcmdpbiArPSBiYm94TWFyZ2luKGxlZnRCQm94KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSBNIC0gbSAtIDE7IGkgPj0gbTsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IG5vZGUuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBleHRlbmQocmlnaHRCQm94LCBub2RlLmxlYWYgPyB0b0JCb3goY2hpbGQpIDogY2hpbGQpO1xuICAgICAgICAgICAgbWFyZ2luICs9IGJib3hNYXJnaW4ocmlnaHRCQm94KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXJnaW47XG4gICAgfVxuXG4gICAgX2FkanVzdFBhcmVudEJCb3hlcyhiYm94LCBwYXRoLCBsZXZlbCkge1xuICAgICAgICAvLyBhZGp1c3QgYmJveGVzIGFsb25nIHRoZSBnaXZlbiB0cmVlIHBhdGhcbiAgICAgICAgZm9yIChsZXQgaSA9IGxldmVsOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgZXh0ZW5kKHBhdGhbaV0sIGJib3gpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NvbmRlbnNlKHBhdGgpIHtcbiAgICAgICAgLy8gZ28gdGhyb3VnaCB0aGUgcGF0aCwgcmVtb3ZpbmcgZW1wdHkgbm9kZXMgYW5kIHVwZGF0aW5nIGJib3hlc1xuICAgICAgICBmb3IgKGxldCBpID0gcGF0aC5sZW5ndGggLSAxLCBzaWJsaW5nczsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmIChwYXRoW2ldLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzaWJsaW5ncyA9IHBhdGhbaSAtIDFdLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgICAgICBzaWJsaW5ncy5zcGxpY2Uoc2libGluZ3MuaW5kZXhPZihwYXRoW2ldKSwgMSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgdGhpcy5jbGVhcigpO1xuXG4gICAgICAgICAgICB9IGVsc2UgY2FsY0JCb3gocGF0aFtpXSwgdGhpcy50b0JCb3gpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmaW5kSXRlbShpdGVtLCBpdGVtcywgZXF1YWxzRm4pIHtcbiAgICBpZiAoIWVxdWFsc0ZuKSByZXR1cm4gaXRlbXMuaW5kZXhPZihpdGVtKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGVxdWFsc0ZuKGl0ZW0sIGl0ZW1zW2ldKSkgcmV0dXJuIGk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cblxuLy8gY2FsY3VsYXRlIG5vZGUncyBiYm94IGZyb20gYmJveGVzIG9mIGl0cyBjaGlsZHJlblxuZnVuY3Rpb24gY2FsY0JCb3gobm9kZSwgdG9CQm94KSB7XG4gICAgZGlzdEJCb3gobm9kZSwgMCwgbm9kZS5jaGlsZHJlbi5sZW5ndGgsIHRvQkJveCwgbm9kZSk7XG59XG5cbi8vIG1pbiBib3VuZGluZyByZWN0YW5nbGUgb2Ygbm9kZSBjaGlsZHJlbiBmcm9tIGsgdG8gcC0xXG5mdW5jdGlvbiBkaXN0QkJveChub2RlLCBrLCBwLCB0b0JCb3gsIGRlc3ROb2RlKSB7XG4gICAgaWYgKCFkZXN0Tm9kZSkgZGVzdE5vZGUgPSBjcmVhdGVOb2RlKG51bGwpO1xuICAgIGRlc3ROb2RlLm1pblggPSBJbmZpbml0eTtcbiAgICBkZXN0Tm9kZS5taW5ZID0gSW5maW5pdHk7XG4gICAgZGVzdE5vZGUubWF4WCA9IC1JbmZpbml0eTtcbiAgICBkZXN0Tm9kZS5tYXhZID0gLUluZmluaXR5O1xuXG4gICAgZm9yIChsZXQgaSA9IGs7IGkgPCBwOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBub2RlLmNoaWxkcmVuW2ldO1xuICAgICAgICBleHRlbmQoZGVzdE5vZGUsIG5vZGUubGVhZiA/IHRvQkJveChjaGlsZCkgOiBjaGlsZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlc3ROb2RlO1xufVxuXG5mdW5jdGlvbiBleHRlbmQoYSwgYikge1xuICAgIGEubWluWCA9IE1hdGgubWluKGEubWluWCwgYi5taW5YKTtcbiAgICBhLm1pblkgPSBNYXRoLm1pbihhLm1pblksIGIubWluWSk7XG4gICAgYS5tYXhYID0gTWF0aC5tYXgoYS5tYXhYLCBiLm1heFgpO1xuICAgIGEubWF4WSA9IE1hdGgubWF4KGEubWF4WSwgYi5tYXhZKTtcbiAgICByZXR1cm4gYTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZU5vZGVNaW5YKGEsIGIpIHsgcmV0dXJuIGEubWluWCAtIGIubWluWDsgfVxuZnVuY3Rpb24gY29tcGFyZU5vZGVNaW5ZKGEsIGIpIHsgcmV0dXJuIGEubWluWSAtIGIubWluWTsgfVxuXG5mdW5jdGlvbiBiYm94QXJlYShhKSAgIHsgcmV0dXJuIChhLm1heFggLSBhLm1pblgpICogKGEubWF4WSAtIGEubWluWSk7IH1cbmZ1bmN0aW9uIGJib3hNYXJnaW4oYSkgeyByZXR1cm4gKGEubWF4WCAtIGEubWluWCkgKyAoYS5tYXhZIC0gYS5taW5ZKTsgfVxuXG5mdW5jdGlvbiBlbmxhcmdlZEFyZWEoYSwgYikge1xuICAgIHJldHVybiAoTWF0aC5tYXgoYi5tYXhYLCBhLm1heFgpIC0gTWF0aC5taW4oYi5taW5YLCBhLm1pblgpKSAqXG4gICAgICAgICAgIChNYXRoLm1heChiLm1heFksIGEubWF4WSkgLSBNYXRoLm1pbihiLm1pblksIGEubWluWSkpO1xufVxuXG5mdW5jdGlvbiBpbnRlcnNlY3Rpb25BcmVhKGEsIGIpIHtcbiAgICBjb25zdCBtaW5YID0gTWF0aC5tYXgoYS5taW5YLCBiLm1pblgpO1xuICAgIGNvbnN0IG1pblkgPSBNYXRoLm1heChhLm1pblksIGIubWluWSk7XG4gICAgY29uc3QgbWF4WCA9IE1hdGgubWluKGEubWF4WCwgYi5tYXhYKTtcbiAgICBjb25zdCBtYXhZID0gTWF0aC5taW4oYS5tYXhZLCBiLm1heFkpO1xuXG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIG1heFggLSBtaW5YKSAqXG4gICAgICAgICAgIE1hdGgubWF4KDAsIG1heFkgLSBtaW5ZKTtcbn1cblxuZnVuY3Rpb24gY29udGFpbnMoYSwgYikge1xuICAgIHJldHVybiBhLm1pblggPD0gYi5taW5YICYmXG4gICAgICAgICAgIGEubWluWSA8PSBiLm1pblkgJiZcbiAgICAgICAgICAgYi5tYXhYIDw9IGEubWF4WCAmJlxuICAgICAgICAgICBiLm1heFkgPD0gYS5tYXhZO1xufVxuXG5mdW5jdGlvbiBpbnRlcnNlY3RzKGEsIGIpIHtcbiAgICByZXR1cm4gYi5taW5YIDw9IGEubWF4WCAmJlxuICAgICAgICAgICBiLm1pblkgPD0gYS5tYXhZICYmXG4gICAgICAgICAgIGIubWF4WCA+PSBhLm1pblggJiZcbiAgICAgICAgICAgYi5tYXhZID49IGEubWluWTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTm9kZShjaGlsZHJlbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNoaWxkcmVuLFxuICAgICAgICBoZWlnaHQ6IDEsXG4gICAgICAgIGxlYWY6IHRydWUsXG4gICAgICAgIG1pblg6IEluZmluaXR5LFxuICAgICAgICBtaW5ZOiBJbmZpbml0eSxcbiAgICAgICAgbWF4WDogLUluZmluaXR5LFxuICAgICAgICBtYXhZOiAtSW5maW5pdHlcbiAgICB9O1xufVxuXG4vLyBzb3J0IGFuIGFycmF5IHNvIHRoYXQgaXRlbXMgY29tZSBpbiBncm91cHMgb2YgbiB1bnNvcnRlZCBpdGVtcywgd2l0aCBncm91cHMgc29ydGVkIGJldHdlZW4gZWFjaCBvdGhlcjtcbi8vIGNvbWJpbmVzIHNlbGVjdGlvbiBhbGdvcml0aG0gd2l0aCBiaW5hcnkgZGl2aWRlICYgY29ucXVlciBhcHByb2FjaFxuXG5mdW5jdGlvbiBtdWx0aVNlbGVjdChhcnIsIGxlZnQsIHJpZ2h0LCBuLCBjb21wYXJlKSB7XG4gICAgY29uc3Qgc3RhY2sgPSBbbGVmdCwgcmlnaHRdO1xuXG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCkge1xuICAgICAgICByaWdodCA9IHN0YWNrLnBvcCgpO1xuICAgICAgICBsZWZ0ID0gc3RhY2sucG9wKCk7XG5cbiAgICAgICAgaWYgKHJpZ2h0IC0gbGVmdCA8PSBuKSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCBtaWQgPSBsZWZ0ICsgTWF0aC5jZWlsKChyaWdodCAtIGxlZnQpIC8gbiAvIDIpICogbjtcbiAgICAgICAgcXVpY2tzZWxlY3QoYXJyLCBtaWQsIGxlZnQsIHJpZ2h0LCBjb21wYXJlKTtcblxuICAgICAgICBzdGFjay5wdXNoKGxlZnQsIG1pZCwgbWlkLCByaWdodCk7XG4gICAgfVxufVxuXG52YXIgcmJ1c2ggPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG5cdF9fcHJvdG9fXzogbnVsbCxcblx0J2RlZmF1bHQnOiBSQnVzaFxufSk7XG5cbmNvbnN0IFJFYXJ0aCA9IDYzNzE7XG5cbmNvbnN0IFdHUzg0ID0ge1xuICAgIGE6IDYzNzguMTM3LFxuICAgIGI6IDYzNTYuNzUyMzE0MjQ1LFxuICAgIGY6IDEgLyAyOTguMjU3MjIzNTYzXG59O1xuXG5mdW5jdGlvbiByYWRpYW5zKGRlZ3JlZXMpIHtcbiAgICByZXR1cm4gZGVncmVlcyAvICgxODAgLyBNYXRoLlBJKTtcbn1cblxuZnVuY3Rpb24gZGVncmVlcyhyYWRpYW5zKSB7XG4gICAgcmV0dXJuIHJhZGlhbnMgKiAoMTgwIC8gTWF0aC5QSSk7XG59XG5cbmNvbnN0IGNvbnNvbGVDb2xvcnMgPSB7XG4gICAgcmVzZXQ6ICdcXHgxYlswbScsXG4gICAgYnJpZ2h0OiAnXFx4MWJbMW0nLFxuICAgIGRpbTogJ1xceDFiWzJtJyxcbiAgICB1bmRlcnNjb3JlOiAnXFx4MWJbNG0nLFxuICAgIGJsaW5rOiAnXFx4MWJbNW0nLFxuICAgIHJldmVyc2U6ICdcXHgxYls3bScsXG4gICAgaGlkZGVuOiAnXFx4MWJbOG0nLFxuICAgIGZnOiB7XG4gICAgICAgIGJsYWNrOiAnXFx4MWJbMzBtJyxcbiAgICAgICAgcmVkOiAnXFx4MWJbMzFtJyxcbiAgICAgICAgZ3JlZW46ICdcXHgxYlszMm0nLFxuICAgICAgICB5ZWxsb3c6ICdcXHgxYlszM20nLFxuICAgICAgICBibHVlOiAnXFx4MWJbMzRtJyxcbiAgICAgICAgbWFnZW50YTogJ1xceDFiWzM1bScsXG4gICAgICAgIGN5YW46ICdcXHgxYlszNm0nLFxuICAgICAgICB3aGl0ZTogJ1xceDFiWzM3bScsXG4gICAgICAgIGNyaW1zb246ICdcXHgxYlszOG0nXG4gICAgfSxcbiAgICBiZzoge1xuICAgICAgICBibGFjazogJ1xceDFiWzQwbScsXG4gICAgICAgIHJlZDogJ1xceDFiWzQxbScsXG4gICAgICAgIGdyZWVuOiAnXFx4MWJbNDJtJyxcbiAgICAgICAgeWVsbG93OiAnXFx4MWJbNDNtJyxcbiAgICAgICAgYmx1ZTogJ1xceDFiWzQ0bScsXG4gICAgICAgIG1hZ2VudGE6ICdcXHgxYls0NW0nLFxuICAgICAgICBjeWFuOiAnXFx4MWJbNDZtJyxcbiAgICAgICAgd2hpdGU6ICdcXHgxYls0N20nLFxuICAgICAgICBjcmltc29uOiAnXFx4MWJbNDhtJ1xuICAgIH1cbn07XG5cbnZhciB1dGlsID0ge1xuICAgIHJhZGlhbnMsXG4gICAgZGVncmVlcyxcbiAgICBSRWFydGgsXG4gICAgV0dTODQsXG4gICAgY29uc29sZUNvbG9yc1xufTtcblxuLy8gVmluY2VudHkncyBBbGdvcml0aG0sIGNvdXJ0ZXN5IG9mIE1vdmFibGUgVHlwZSBMdGRcbi8vIGh0dHBzOi8vd3d3Lm1vdmFibGUtdHlwZS5jby51ay9zY3JpcHRzL2xhdGxvbmctdmluY2VudHkuaHRtbFxuLy8gUHVibGlzaGVkIGFuZCBpbmNsdWRlZCBoZXJlIHVuZGVyIGFuIE1JVCBsaWNlbmNlXG5mdW5jdGlvbiBpbnZlcnNlKHAxLCBwMikge1xuICAgIGNvbnN0IM+GMSA9IHV0aWwucmFkaWFucyhwMS55KSwgzrsxID0gdXRpbC5yYWRpYW5zKHAxLngpO1xuICAgIGNvbnN0IM+GMiA9IHV0aWwucmFkaWFucyhwMi55KSwgzrsyID0gdXRpbC5yYWRpYW5zKHAyLngpO1xuXG4gICAgY29uc3QgeyBhLCBiLCBmIH0gPSB1dGlsLldHUzg0O1xuXG4gICAgY29uc3QgTCA9IM67MiAtIM67MTsgLy8gTCA9IGRpZmZlcmVuY2UgaW4gbG9uZ2l0dWRlLCBVID0gcmVkdWNlZCBsYXRpdHVkZSwgZGVmaW5lZCBieSB0YW4gVSA9ICgxLWYpwrd0YW7Phi5cbiAgICBjb25zdCB0YW5VMSA9ICgxIC0gZikgKiBNYXRoLnRhbijPhjEpLCBjb3NVMSA9IDEgLyBNYXRoLnNxcnQoKDEgKyB0YW5VMSAqIHRhblUxKSksIHNpblUxID0gdGFuVTEgKiBjb3NVMTtcbiAgICBjb25zdCB0YW5VMiA9ICgxIC0gZikgKiBNYXRoLnRhbijPhjIpLCBjb3NVMiA9IDEgLyBNYXRoLnNxcnQoKDEgKyB0YW5VMiAqIHRhblUyKSksIHNpblUyID0gdGFuVTIgKiBjb3NVMjtcblxuICAgIGNvbnN0IGFudGlwb2RhbCA9IE1hdGguYWJzKEwpID4gTWF0aC5QSSAvIDIgfHwgTWF0aC5hYnMoz4YyIC0gz4YxKSA+IE1hdGguUEkgLyAyO1xuXG4gICAgbGV0IM67ID0gTCwgc2luzrsgPSBudWxsLCBjb3POuyA9IG51bGw7IC8vIM67ID0gZGlmZmVyZW5jZSBpbiBsb25naXR1ZGUgb24gYW4gYXV4aWxpYXJ5IHNwaGVyZVxuICAgIGxldCDPgyA9IGFudGlwb2RhbCA/IE1hdGguUEkgOiAwLCBzaW7PgyA9IDAsIGNvc8+DID0gYW50aXBvZGFsID8gLTEgOiAxLCBzaW5Tcc+DID0gbnVsbDsgLy8gz4MgPSBhbmd1bGFyIGRpc3RhbmNlIFDigoEgUOKCgiBvbiB0aGUgc3BoZXJlXG4gICAgbGV0IGNvczLPg+KCmCA9IDE7ICAgICAgICAgICAgICAgICAgICAgIC8vIM+D4oKYID0gYW5ndWxhciBkaXN0YW5jZSBvbiB0aGUgc3BoZXJlIGZyb20gdGhlIGVxdWF0b3IgdG8gdGhlIG1pZHBvaW50IG9mIHRoZSBsaW5lXG4gICAgbGV0IHNpbs6xID0gbnVsbCwgY29zU3HOsSA9IDE7ICAgICAgICAgLy8gzrEgPSBhemltdXRoIG9mIHRoZSBnZW9kZXNpYyBhdCB0aGUgZXF1YXRvclxuICAgIGxldCBDID0gbnVsbDtcblxuICAgIGxldCDOu8q5ID0gbnVsbCwgaXRlcmF0aW9ucyA9IDA7XG4gICAgZG8ge1xuICAgICAgICBzaW7OuyA9IE1hdGguc2luKM67KTtcbiAgICAgICAgY29zzrsgPSBNYXRoLmNvcyjOuyk7XG4gICAgICAgIHNpblNxz4MgPSAoY29zVTIgKiBzaW7OuykgKiAoY29zVTIgKiBzaW7OuykgKyAoY29zVTEgKiBzaW5VMiAtIHNpblUxICogY29zVTIgKiBjb3POuykgKiAoY29zVTEgKiBzaW5VMiAtIHNpblUxICogY29zVTIgKiBjb3POuyk7XG4gICAgICAgIGlmIChNYXRoLmFicyhzaW5Tcc+DKSA8IE51bWJlci5FUFNJTE9OKSBicmVhazsgIC8vIGNvLWluY2lkZW50L2FudGlwb2RhbCBwb2ludHMgKGZhbGxzIGJhY2sgb24gzrsvz4MgPSBMKVxuICAgICAgICBzaW7PgyA9IE1hdGguc3FydChzaW5Tcc+DKTtcbiAgICAgICAgY29zz4MgPSBzaW5VMSAqIHNpblUyICsgY29zVTEgKiBjb3NVMiAqIGNvc867O1xuICAgICAgICDPgyA9IE1hdGguYXRhbjIoc2luz4MsIGNvc8+DKTtcbiAgICAgICAgc2luzrEgPSBjb3NVMSAqIGNvc1UyICogc2luzrsgLyBzaW7PgztcbiAgICAgICAgY29zU3HOsSA9IDEgLSBzaW7OsSAqIHNpbs6xO1xuICAgICAgICBjb3Myz4PigpggPSAoY29zU3HOsSAhPSAwKSA/IChjb3PPgyAtIDIgKiBzaW5VMSAqIHNpblUyIC8gY29zU3HOsSkgOiAwOyAvLyBvbiBlcXVhdG9yaWFsIGxpbmUgY29zwrLOsSA9IDAgKMKnNilcbiAgICAgICAgQyA9IGYgLyAxNiAqIGNvc1NxzrEgKiAoNCArIGYgKiAoNCAtIDMgKiBjb3NTcc6xKSk7XG4gICAgICAgIM67yrkgPSDOuztcbiAgICAgICAgzrsgPSBMICsgKDEgLSBDKSAqIGYgKiBzaW7OsSAqICjPgyArIEMgKiBzaW7PgyAqIChjb3Myz4PigpggKyBDICogY29zz4MgKiAoLTEgKyAyICogY29zMs+D4oKYICogY29zMs+D4oKYKSkpO1xuICAgICAgICBjb25zdCBpdGVyYXRpb25DaGVjayA9IGFudGlwb2RhbCA/IE1hdGguYWJzKM67KSAtIE1hdGguUEkgOiBNYXRoLmFicyjOuyk7XG4gICAgICAgIGlmIChpdGVyYXRpb25DaGVjayA+IE1hdGguUEkpIHRocm93IG5ldyBFdmFsRXJyb3IoJ867ID4gz4AnKTtcbiAgICB9IHdoaWxlIChNYXRoLmFicyjOuyAtIM67yrkpID4gMWUtNyAmJiArK2l0ZXJhdGlvbnMgPCAxMDAwKTtcbiAgICBpZiAoaXRlcmF0aW9ucyA+PSAxMDAwKSB0aHJvdyBuZXcgRXZhbEVycm9yKCdWaW5jZW50eSBmb3JtdWxhIGZhaWxlZCB0byBjb252ZXJnZScpO1xuXG4gICAgY29uc3QgdVNxID0gY29zU3HOsSAqIChhICogYSAtIGIgKiBiKSAvIChiICogYik7XG4gICAgY29uc3QgQSA9IDEgKyB1U3EgLyAxNjM4NCAqICg0MDk2ICsgdVNxICogKC03NjggKyB1U3EgKiAoMzIwIC0gMTc1ICogdVNxKSkpO1xuICAgIGNvbnN0IEIgPSB1U3EgLyAxMDI0ICogKDI1NiArIHVTcSAqICgtMTI4ICsgdVNxICogKDc0IC0gNDcgKiB1U3EpKSk7XG4gICAgY29uc3QgzpTPgyA9IEIgKiBzaW7PgyAqIChjb3Myz4PigpggKyBCIC8gNCAqIChjb3PPgyAqICgtMSArIDIgKiBjb3Myz4PigpggKiBjb3Myz4PigpgpIC1cbiAgICAgICAgQiAvIDYgKiBjb3Myz4PigpggKiAoLTMgKyA0ICogc2luz4MgKiBzaW7PgykgKiAoLTMgKyA0ICogY29zMs+D4oKYICogY29zMs+D4oKYKSkpO1xuXG4gICAgY29uc3QgcyA9IGIgKiBBICogKM+DIC0gzpTPgyk7IC8vIHMgPSBsZW5ndGggb2YgdGhlIGdlb2Rlc2ljXG5cbiAgICAvLyBub3RlIHNwZWNpYWwgaGFuZGxpbmcgb2YgZXhhY3RseSBhbnRpcG9kYWwgcG9pbnRzIHdoZXJlIHNpbsKyz4MgPSAwIChkdWUgdG8gZGlzY29udGludWl0eVxuICAgIC8vIGF0YW4yKDAsIDApID0gMCBidXQgYXRhbjIozrUsIDApID0gz4AvMiAvIDkwwrApIC0gaW4gd2hpY2ggY2FzZSBiZWFyaW5nIGlzIGFsd2F5cyBtZXJpZGlvbmFsLFxuICAgIC8vIGR1ZSBub3J0aCAob3IgZHVlIHNvdXRoISlcbiAgICAvLyDOsSA9IGF6aW11dGhzIG9mIHRoZSBnZW9kZXNpYzsgzrEyIHRoZSBkaXJlY3Rpb24gUOKCgSBQ4oKCIHByb2R1Y2VkXG4gICAgY29uc3QgzrExID0gTWF0aC5hYnMoc2luU3HPgykgPCBOdW1iZXIuRVBTSUxPTiA/IDAgOiBNYXRoLmF0YW4yKGNvc1UyICogc2luzrssIGNvc1UxICogc2luVTIgLSBzaW5VMSAqIGNvc1UyICogY29zzrspO1xuICAgIGNvbnN0IM6xMiA9IE1hdGguYWJzKHNpblNxz4MpIDwgTnVtYmVyLkVQU0lMT04gPyBNYXRoLlBJIDogTWF0aC5hdGFuMihjb3NVMSAqIHNpbs67LCAtc2luVTEgKiBjb3NVMiArIGNvc1UxICogc2luVTIgKiBjb3POuyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBkaXN0YW5jZTogcyxcbiAgICAgICAgaW5pdGlhbEJlYXJpbmc6IE1hdGguYWJzKHMpIDwgTnVtYmVyLkVQU0lMT04gPyBOYU4gOiB1dGlsLmRlZ3JlZXMozrExKSxcbiAgICAgICAgZmluYWxCZWFyaW5nOiBNYXRoLmFicyhzKSA8IE51bWJlci5FUFNJTE9OID8gTmFOIDogdXRpbC5kZWdyZWVzKM6xMiksXG4gICAgICAgIGl0ZXJhdGlvbnM6IGl0ZXJhdGlvbnMsXG4gICAgfTtcbn1cblxudmFyIHZpbmNlbnR5cyA9IHtcbiAgICBpbnZlcnNlXG59O1xuXG5jbGFzcyBQb2ludCB7XG4gICAgY29uc3RydWN0b3IoeCwgeSkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh4KSlcbiAgICAgICAgICAgIFt0aGlzLngsIHRoaXMueSwgdGhpcy5yXSA9IFt4W3ldLmxvbmdpdHVkZSwgeFt5XS5sYXRpdHVkZSwgeV07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIFt0aGlzLngsIHRoaXMueV0gPSBbeCwgeV07XG4gICAgfVxuXG4gICAgZ2VvanNvbihpZCwgcHJvcGVydGllcykge1xuICAgICAgICBjb25zdCBmZWF0dXJlID0ge1xuICAgICAgICAgICAgdHlwZTogJ0ZlYXR1cmUnLFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzIHx8IHt9LFxuICAgICAgICAgICAgZ2VvbWV0cnk6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUG9pbnQnLFxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBbdGhpcy54LCB0aGlzLnldXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBmZWF0dXJlO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5nZW9qc29uKCkpO1xuICAgIH1cblxuICAgIGludGVyc2VjdHMob3RoZXIpIHtcbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMueCA9PSBvdGhlci54ICYmIHRoaXMueSA9PSBvdGhlci55KTtcbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgQm94KVxuICAgICAgICAgICAgcmV0dXJuIG90aGVyLmludGVyc2VjdHModGhpcyk7XG4gICAgICAgIHRocm93ICgnb3RoZXIgbXVzdCBiZSBlaXRoZXIgUG9pbnQgb3IgQm94Jyk7XG4gICAgfVxuXG4gICAgZGlzdGFuY2VFYXJ0aChwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3RhbmNlRWFydGhGQ0MocCk7XG4gICAgfVxuXG4gICAgZGlzdGFuY2VFYXJ0aEZDQyhwKSB7XG4gICAgICAgIGNvbnN0IGRmID0gKHAueSAtIHRoaXMueSk7XG4gICAgICAgIGNvbnN0IGRnID0gKHAueCAtIHRoaXMueCk7XG4gICAgICAgIGNvbnN0IGZtID0gdXRpbC5yYWRpYW5zKCh0aGlzLnkgKyBwLnkpIC8gMik7XG4gICAgICAgIGNvbnN0IGsxID0gMTExLjEzMjA5IC0gMC41NjY2MDUgKiBNYXRoLmNvcygyICogZm0pICsgMC4wMDEyMCAqIE1hdGguY29zKDQgKiBmbSk7XG4gICAgICAgIGNvbnN0IGsyID0gMTExLjQxNTEzICogTWF0aC5jb3MoZm0pIC0gMC4wOTQ1NSAqIE1hdGguY29zKDMgKiBmbSkgKyAwLjAwMDEyICogTWF0aC5jb3MoNSAqIGZtKTtcbiAgICAgICAgY29uc3QgZCA9IE1hdGguc3FydCgoazEgKiBkZikgKiAoazEgKiBkZikgKyAoazIgKiBkZykgKiAoazIgKiBkZykpO1xuICAgICAgICByZXR1cm4gZDtcbiAgICB9XG5cbiAgICBkaXN0YW5jZUVhcnRoUmV2KGR4LCBkeSkge1xuICAgICAgICBjb25zdCBsb24gPSB0aGlzLnggKyB1dGlsLmRlZ3JlZXMoKGR4IC8gdXRpbC5SRWFydGgpIC8gTWF0aC5jb3ModXRpbC5yYWRpYW5zKHRoaXMueSkpKTtcbiAgICAgICAgY29uc3QgbGF0ID0gdGhpcy55ICsgdXRpbC5kZWdyZWVzKGR5IC8gdXRpbC5SRWFydGgpO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KGxvbiwgbGF0KTtcbiAgICB9XG5cbiAgICBkaXN0YW5jZUVhcnRoVmluY2VudHlzKHApIHtcbiAgICAgICAgcmV0dXJuIHZpbmNlbnR5cy5pbnZlcnNlKHRoaXMsIHApLmRpc3RhbmNlO1xuICAgIH1cbn1cblxuY2xhc3MgUmFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGEsIGIpIHtcbiAgICAgICAgW3RoaXMuYSwgdGhpcy5iXSA9IFthLCBiXTtcbiAgICB9XG5cbiAgICBjb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuYSAtIHRoaXMuYikgKyAxO1xuICAgIH1cblxuICAgIGNlbnRlcigpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuYSwgdGhpcy5iKSArIE1hdGguZmxvb3IoTWF0aC5hYnModGhpcy5hIC0gdGhpcy5iKSAvIDIpO1xuICAgIH1cblxuICAgIGxlZnQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UoTWF0aC5taW4odGhpcy5hLCB0aGlzLmIpLCBNYXRoLm1pbih0aGlzLmEsIHRoaXMuYikgKyBNYXRoLmZsb29yKE1hdGguYWJzKHRoaXMuYSAtIHRoaXMuYikgLyAyKSk7XG4gICAgfVxuXG4gICAgcmlnaHQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UoTWF0aC5taW4odGhpcy5hLCB0aGlzLmIpICsgTWF0aC5jZWlsKE1hdGguYWJzKHRoaXMuYSAtIHRoaXMuYikgLyAyKSwgTWF0aC5tYXgodGhpcy5hLCB0aGlzLmIpKTtcbiAgICB9XG5cbiAgICBjb250YWlucyhwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmEgPD0gcCAmJiBwIDw9IHRoaXMuYjtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuYX06JHt0aGlzLmJ9YDtcbiAgICB9XG59XG5cbmNsYXNzIEJveCB7XG4gICAgY29uc3RydWN0b3IoYSwgYiwgYywgZCkge1xuICAgICAgICBpZiAoYSBpbnN0YW5jZW9mIFJhbmdlKSB7XG4gICAgICAgICAgICBbdGhpcy54MSwgdGhpcy55MSwgdGhpcy54MiwgdGhpcy55Ml0gPSBbSW5maW5pdHksIEluZmluaXR5LCAtSW5maW5pdHksIC1JbmZpbml0eV07XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gYS5hOyBpIDw9IGEuYjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy54MSA9IE1hdGgubWluKGIuZmxpZ2h0UG9pbnRzW2ldLngsIHRoaXMueDEpO1xuICAgICAgICAgICAgICAgIHRoaXMueTEgPSBNYXRoLm1pbihiLmZsaWdodFBvaW50c1tpXS55LCB0aGlzLnkxKTtcbiAgICAgICAgICAgICAgICB0aGlzLngyID0gTWF0aC5tYXgoYi5mbGlnaHRQb2ludHNbaV0ueCwgdGhpcy54Mik7XG4gICAgICAgICAgICAgICAgdGhpcy55MiA9IE1hdGgubWF4KGIuZmxpZ2h0UG9pbnRzW2ldLnksIHRoaXMueTIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgW3RoaXMueDEsIHRoaXMueTEsIHRoaXMueDIsIHRoaXMueTJdID0gW2EsIGIsIGMsIGRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmVydGljZXMoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBuZXcgUG9pbnQodGhpcy54MSwgdGhpcy55MSksXG4gICAgICAgICAgICBuZXcgUG9pbnQodGhpcy54MiwgdGhpcy55MSksXG4gICAgICAgICAgICBuZXcgUG9pbnQodGhpcy54MiwgdGhpcy55MiksXG4gICAgICAgICAgICBuZXcgUG9pbnQodGhpcy54MSwgdGhpcy55MilcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBpbnRlcnNlY3RzKG90aGVyKSB7XG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICAgICAgcmV0dXJuICh0aGlzLngxIDw9IG90aGVyLnggJiYgdGhpcy55MSA8PSBvdGhlci55ICYmIHRoaXMueDIgPj0gb3RoZXIueCAmJiB0aGlzLnkyID49IG90aGVyLnkpO1xuICAgICAgICBpZiAodGhpcy54MSA+IG90aGVyLngyIHx8IHRoaXMueDIgPCBvdGhlci54MSB8fCB0aGlzLnkxID4gb3RoZXIueTIgfHwgdGhpcy55MiA8IG90aGVyLnkxKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBhcmVhKCkge1xuICAgICAgICBjb25zdCBoID0gTWF0aC5hYnModGhpcy54MiAtIHRoaXMueDEpO1xuICAgICAgICBjb25zdCB3ID0gTWF0aC5hYnModGhpcy55MiAtIHRoaXMueTEpO1xuICAgICAgICByZXR1cm4gaCAqIHc7XG4gICAgfVxuXG4gICAgZGlzdGFuY2Uob3RoZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0cyhvdGhlcikpXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgbGV0IHgxLCB5MSwgeDIsIHkyO1xuICAgICAgICBpZiAodGhpcy54MSA+IG90aGVyLngyKVxuICAgICAgICAgICAgeDEgPSB0aGlzLngxO1xuICAgICAgICB4MiA9IG90aGVyLngyO1xuICAgICAgICBpZiAodGhpcy54MiA8IG90aGVyLngxKVxuICAgICAgICAgICAgeDEgPSB0aGlzLngyO1xuICAgICAgICB4MiA9IG90aGVyLngxO1xuICAgICAgICBpZiAodGhpcy55MSA8IG90aGVyLnkyKVxuICAgICAgICAgICAgeTEgPSB0aGlzLnkxO1xuICAgICAgICB5MiA9IG90aGVyLnkyO1xuICAgICAgICBpZiAodGhpcy55MiA+IG90aGVyLnkxKVxuICAgICAgICAgICAgeTEgPSB0aGlzLnkyO1xuICAgICAgICB5MiA9IG90aGVyLnkxO1xuICAgICAgICBpZiAoeDEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgeDEgPSB0aGlzLngxO1xuICAgICAgICAgICAgeDIgPSB0aGlzLngxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh5MSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB5MSA9IHRoaXMueTE7XG4gICAgICAgICAgICB5MiA9IHRoaXMueTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh4MSwgeTEpLmRpc3RhbmNlRWFydGgobmV3IFBvaW50KHgyLCB5MikpO1xuICAgIH1cblxuICAgIGdlb2pzb24oaWQsIHByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3QgZmVhdHVyZSA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdGZWF0dXJlJyxcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgcHJvcGVydGllczogcHJvcGVydGllcyB8fCB7fSxcbiAgICAgICAgICAgIGdlb21ldHJ5OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BvbHlnb24nLFxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBbW1xuICAgICAgICAgICAgICAgICAgICBbdGhpcy54MSwgdGhpcy55MV0sXG4gICAgICAgICAgICAgICAgICAgIFt0aGlzLngxLCB0aGlzLnkyXSxcbiAgICAgICAgICAgICAgICAgICAgW3RoaXMueDIsIHRoaXMueTJdLFxuICAgICAgICAgICAgICAgICAgICBbdGhpcy54MiwgdGhpcy55MV0sXG4gICAgICAgICAgICAgICAgICAgIFt0aGlzLngxLCB0aGlzLnkxXSxcbiAgICAgICAgICAgICAgICBdXVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZmVhdHVyZTtcbiAgICB9XG5cbiAgICBnZW9qc29uX2NvbGxlY3Rpb24oYm94ZXMpIHtcbiAgICAgICAgbGV0IGZlYXR1cmVzID0gW107XG4gICAgICAgIGZvciAobGV0IGIgaW4gYm94ZXMpIHtcbiAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goYm94ZXNbYl0uZ2VvanNvbihiLCB7IGlkOiBiIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29sbGVjdGlvbiA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsXG4gICAgICAgICAgICBmZWF0dXJlc1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuZ2VvanNvbigpKTtcbiAgICB9XG59XG5cbnZhciBmb3VuZGF0aW9uID0ge1xuICAgIFBvaW50LFxuICAgIFJhbmdlLFxuICAgIEJveFxufTtcblxudmFyIF9GbGF0YnVzaCA9IGdldENqc0V4cG9ydEZyb21OYW1lc3BhY2UoZmxhdGJ1c2gpO1xuXG52YXIgUkJ1c2gkMSA9IGdldENqc0V4cG9ydEZyb21OYW1lc3BhY2UocmJ1c2gpO1xuXG5jb25zdCBGbGF0YnVzaCQxID0gX0ZsYXRidXNoLmRlZmF1bHQgPyBfRmxhdGJ1c2guZGVmYXVsdCA6IF9GbGF0YnVzaDtcblxuXG5cbmNvbnN0IEJveCQxID0gZm91bmRhdGlvbi5Cb3g7XG5jb25zdCBQb2ludCQxID0gZm91bmRhdGlvbi5Qb2ludDtcblxuLyogUGFyYWdsaWRpbmcgQ29tcGV0aXRpb24gVHJhY2tsb2cgT3B0aW1pemF0aW9uLCBPbmTLh3JlaiBQYWxrb3Zza8K0eVxuICogaHR0cDovL3d3dy5wZW5ndWluLmN6L35vbmRyYXAvYWxnb3JpdGhtLnBkZlxuICogUmVmZXIgZm9yIGEgcHJvb2YgdGhhdCB0aGUgbWF4aW11bSBwYXRoIGJldHdlZW4gcmVjdGFuZ2xlcyBhbHdheXNcbiAqIHBhc3NlcyB0aHJvdWdoIHRoZWlyIHZlcnRpY2VzXG4gKiBcbiAqIE15IGFkZGl0aW9uIDpcbiAqIFdpdGggMyByZWN0YW5nZXMsIGZvciBlYWNoIHJlY3RhbmdsZSwgdGhlIG1heGltdW0gcGF0aCBiZXR3ZWVuIHRoZW0gYWx3YXlzIGluY2x1ZGVzOlxuICogYSkgb25seSB0aGUgdmVydGljZXMgdGhhdCBsaWUgb24gdGhlIHZlcnRpY2VzIG9mIHRoZSBtaW5pbXVtIGJvdW5kaW5nIGJveCBpZiB0aGVyZSBhcmUgc3VjaCB2ZXJ0aWNlc1xuICogYikgaWYgdGhlcmUgYXJlIG5vIHN1Y2ggdmVydGljZXMsIGFueSB2ZXJ0aWNlcyB0aGF0IGxpZSBvbiB0aGUgZWRnZXMgb2YgdGhlIGJvdW5kaW5nIGJveFxuICogYykgb3IgcG90ZW50aWFsbHkgYW55IHZlcnRpY2UgaWYgbm8gdmVydGljZXMgbGllIG9uIHRoZSBlZGdlcyBvZiB0aGUgYm91bmRpbmcgYm94XG4gKi9cbmZ1bmN0aW9uIG1heERpc3RhbmNlM1JlY3RhbmdsZXMoYm94ZXMsIGRpc3RhbmNlX2ZuKSB7XG4gICAgbGV0IHZlcnRpY2VzID0gW107XG4gICAgbGV0IG1pbngsIG1pbnksIG1heHgsIG1heHk7XG4gICAgZm9yIChsZXQgciBvZiBbMCwgMSwgMl0pIHtcbiAgICAgICAgdmVydGljZXNbcl0gPSBib3hlc1tyXS52ZXJ0aWNlcygpO1xuICAgICAgICBtaW54ID0gTWF0aC5taW4obWlueCB8fCBJbmZpbml0eSwgYm94ZXNbcl0ueDEpO1xuICAgICAgICBtaW55ID0gTWF0aC5taW4obWlueSB8fCBJbmZpbml0eSwgYm94ZXNbcl0ueTEpO1xuICAgICAgICBtYXh4ID0gTWF0aC5tYXgobWF4eCB8fCAtSW5maW5pdHksIGJveGVzW3JdLngyKTtcbiAgICAgICAgbWF4eSA9IE1hdGgubWF4KG1heHkgfHwgLUluZmluaXR5LCBib3hlc1tyXS55Mik7XG4gICAgfVxuXG4gICAgbGV0IGludGVyc2VjdGluZyA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgb2YgWzAsIDEsIDJdKVxuICAgICAgICBpZiAoYm94ZXNbaV0uaW50ZXJzZWN0cyhib3hlc1soaSArIDEpICUgM10pKSB7XG4gICAgICAgICAgICBpbnRlcnNlY3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgIGxldCBwYXRoID0gW1tdLCBbXSwgW11dO1xuICAgIGZvciAobGV0IGkgb2YgWzAsIDEsIDJdKSB7XG4gICAgICAgIGZvciAobGV0IHYgb2YgdmVydGljZXNbaV0pXG4gICAgICAgICAgICBpZiAoKHYueCA9PSBtaW54IHx8IHYueCA9PSBtYXh4KSAmJiAodi55ID09IG1pbnkgfHwgdi55ID09IG1heHkpKVxuICAgICAgICAgICAgICAgIHBhdGhbaV0ucHVzaCh2KTtcbiAgICAgICAgaWYgKHBhdGhbaV0ubGVuZ3RoID09IDApXG4gICAgICAgICAgICBmb3IgKGxldCB2IG9mIHZlcnRpY2VzW2ldKVxuICAgICAgICAgICAgICAgIGlmICh2LnggPT0gbWlueCB8fCB2LnggPT0gbWF4eCB8fCB2LnkgPT0gbWlueSB8fCB2LnkgPT0gbWF4eSlcbiAgICAgICAgICAgICAgICAgICAgcGF0aFtpXS5wdXNoKHYpO1xuICAgICAgICBpZiAocGF0aFtpXS5sZW5ndGggPT0gMCB8fCBpbnRlcnNlY3RpbmcpXG4gICAgICAgICAgICBwYXRoW2ldID0gdmVydGljZXNbaV07XG4gICAgfVxuXG4gICAgbGV0IGRpc3RhbmNlTWF4ID0gMDtcbiAgICBmb3IgKGxldCBpIG9mIHBhdGhbMF0pXG4gICAgICAgIGZvciAobGV0IGogb2YgcGF0aFsxXSlcbiAgICAgICAgICAgIGZvciAobGV0IGsgb2YgcGF0aFsyXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gZGlzdGFuY2VfZm4oaSwgaiwgayk7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2VNYXggPSBNYXRoLm1heChkaXN0YW5jZU1heCwgZGlzdGFuY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgcmV0dXJuIGRpc3RhbmNlTWF4O1xufVxuXG5mdW5jdGlvbiBtaW5EaXN0YW5jZTNSZWN0YW5nbGVzKGJveGVzLCBkaXN0YW5jZV9mbikge1xuICAgIGxldCB2ZXJ0aWNlcyA9IFtdO1xuICAgIGxldCBtaW54LCBtaW55LCBtYXh4LCBtYXh5O1xuICAgIGZvciAobGV0IHIgb2YgWzAsIDEsIDJdKSB7XG4gICAgICAgIHZlcnRpY2VzW3JdID0gYm94ZXNbcl0udmVydGljZXMoKTtcbiAgICAgICAgbWlueCA9IE1hdGgubWluKG1pbnggfHwgSW5maW5pdHksIGJveGVzW3JdLngxKTtcbiAgICAgICAgbWlueSA9IE1hdGgubWluKG1pbnkgfHwgSW5maW5pdHksIGJveGVzW3JdLnkxKTtcbiAgICAgICAgbWF4eCA9IE1hdGgubWF4KG1heHggfHwgLUluZmluaXR5LCBib3hlc1tyXS54Mik7XG4gICAgICAgIG1heHkgPSBNYXRoLm1heChtYXh5IHx8IC1JbmZpbml0eSwgYm94ZXNbcl0ueTIpO1xuICAgIH1cblxuICAgIGxldCBwYXRoID0gW1tdLCBbXSwgW11dO1xuICAgIGZvciAobGV0IGkgb2YgWzAsIDEsIDJdKSB7XG4gICAgICAgIHBhdGhbaV0gPSB2ZXJ0aWNlc1tpXTtcbiAgICB9XG5cbiAgICBsZXQgZGlzdGFuY2VNaW4gPSBJbmZpbml0eTtcbiAgICBmb3IgKGxldCBpIG9mIHBhdGhbMF0pXG4gICAgICAgIGZvciAobGV0IGogb2YgcGF0aFsxXSlcbiAgICAgICAgICAgIGZvciAobGV0IGsgb2YgcGF0aFsyXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gZGlzdGFuY2VfZm4oaSwgaiwgayk7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2VNaW4gPSBNYXRoLm1pbihkaXN0YW5jZU1pbiwgZGlzdGFuY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgcmV0dXJuIGRpc3RhbmNlTWluO1xufVxuXG5mdW5jdGlvbiBtYXhEaXN0YW5jZTJSZWN0YW5nbGVzKGJveGVzKSB7XG4gICAgbGV0IHZlcnRpY2VzID0gW107XG4gICAgbGV0IG1pbngsIG1pbnksIG1heHgsIG1heHk7XG4gICAgZm9yIChsZXQgciBvZiBbMCwgMV0pIHtcbiAgICAgICAgdmVydGljZXNbcl0gPSBib3hlc1tyXS52ZXJ0aWNlcygpO1xuICAgICAgICBtaW54ID0gTWF0aC5taW4obWlueCB8fCBJbmZpbml0eSwgYm94ZXNbcl0ueDEpO1xuICAgICAgICBtaW55ID0gTWF0aC5taW4obWlueSB8fCBJbmZpbml0eSwgYm94ZXNbcl0ueTEpO1xuICAgICAgICBtYXh4ID0gTWF0aC5tYXgobWF4eCB8fCAtSW5maW5pdHksIGJveGVzW3JdLngyKTtcbiAgICAgICAgbWF4eSA9IE1hdGgubWF4KG1heHkgfHwgLUluZmluaXR5LCBib3hlc1tyXS55Mik7XG4gICAgfVxuXG4gICAgbGV0IHBhdGggPSBbW10sIFtdXTtcbiAgICBmb3IgKGxldCBpIG9mIFswLCAxXSkge1xuICAgICAgICBwYXRoW2ldID0gdmVydGljZXNbaV07XG4gICAgfVxuXG4gICAgbGV0IGRpc3RhbmNlTWF4ID0gMDtcbiAgICBmb3IgKGxldCBpIG9mIHBhdGhbMF0pXG4gICAgICAgIGZvciAobGV0IGogb2YgcGF0aFsxXSkge1xuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBpLmRpc3RhbmNlRWFydGgoaik7XG4gICAgICAgICAgICBkaXN0YW5jZU1heCA9IE1hdGgubWF4KGRpc3RhbmNlTWF4LCBkaXN0YW5jZSk7XG4gICAgICAgIH1cblxuICAgIHJldHVybiBkaXN0YW5jZU1heDtcbn1cblxuZnVuY3Rpb24gbWF4RGlzdGFuY2VQYXRoKG9yaWdpbiwgcGF0aCwgcGF0aFN0YXJ0KSB7XG4gICAgbGV0IGRpc3RhbmNlTWF4ID0gMDtcbiAgICBmb3IgKGxldCBpIG9mIHBhdGhbcGF0aFN0YXJ0XSkge1xuICAgICAgICBjb25zdCBkaXN0YW5jZTEgPSBvcmlnaW4gIT09IHVuZGVmaW5lZCA/IGkuZGlzdGFuY2VFYXJ0aChvcmlnaW4pIDogMDtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UyID0gcGF0aC5sZW5ndGggPiBwYXRoU3RhcnQgKyAxID8gbWF4RGlzdGFuY2VQYXRoKGksIHBhdGgsIHBhdGhTdGFydCArIDEpIDogMDtcbiAgICAgICAgZGlzdGFuY2VNYXggPSBNYXRoLm1heChkaXN0YW5jZU1heCwgZGlzdGFuY2UxICsgZGlzdGFuY2UyKTtcbiAgICB9XG4gICAgcmV0dXJuIGRpc3RhbmNlTWF4O1xufVxuXG5mdW5jdGlvbiBtYXhEaXN0YW5jZU5SZWN0YW5nbGVzKGJveGVzKSB7XG4gICAgbGV0IHZlcnRpY2VzID0gW107XG4gICAgbGV0IG1pbngsIG1pbnksIG1heHgsIG1heHk7XG4gICAgbGV0IHBhdGggPSBbXTtcbiAgICBmb3IgKGxldCByIGluIGJveGVzKSB7XG4gICAgICAgIGlmIChib3hlc1tyXSBpbnN0YW5jZW9mIEJveCQxKSB7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tyXSA9IGJveGVzW3JdLnZlcnRpY2VzKCk7XG4gICAgICAgICAgICBtaW54ID0gTWF0aC5taW4obWlueCB8fCBJbmZpbml0eSwgYm94ZXNbcl0ueDEpO1xuICAgICAgICAgICAgbWlueSA9IE1hdGgubWluKG1pbnkgfHwgSW5maW5pdHksIGJveGVzW3JdLnkxKTtcbiAgICAgICAgICAgIG1heHggPSBNYXRoLm1heChtYXh4IHx8IC1JbmZpbml0eSwgYm94ZXNbcl0ueDIpO1xuICAgICAgICAgICAgbWF4eSA9IE1hdGgubWF4KG1heHkgfHwgLUluZmluaXR5LCBib3hlc1tyXS55Mik7XG4gICAgICAgIH0gZWxzZSBpZiAoYm94ZXNbcl0gaW5zdGFuY2VvZiBQb2ludCQxKSB7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tyXSA9IFtib3hlc1tyXV07XG4gICAgICAgICAgICBtaW54ID0gTWF0aC5taW4obWlueCB8fCBJbmZpbml0eSwgYm94ZXNbcl0ueCk7XG4gICAgICAgICAgICBtaW55ID0gTWF0aC5taW4obWlueSB8fCBJbmZpbml0eSwgYm94ZXNbcl0ueSk7XG4gICAgICAgICAgICBtYXh4ID0gTWF0aC5tYXgobWF4eCB8fCAtSW5maW5pdHksIGJveGVzW3JdLngpO1xuICAgICAgICAgICAgbWF4eSA9IE1hdGgubWF4KG1heHkgfHwgLUluZmluaXR5LCBib3hlc1tyXS55KTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdib3hlcyBtdXN0IGNvbnRhaW4gb25seSBCb3ggb3IgUG9pbnQnKTtcbiAgICAgICAgcGF0aFtyXSA9IFtdO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgaW4gYm94ZXMpXG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgY29uc3QgaW50ZXJzZWN0aW5nID0gYm94ZXNbaSAtIDFdLmludGVyc2VjdHMoYm94ZXNbaV0pO1xuICAgICAgICAgICAgaWYgKGludGVyc2VjdGluZykge1xuICAgICAgICAgICAgICAgIGJveGVzW2kgLSAxXS5pbnRlcnNlY3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJveGVzW2ldLmludGVyc2VjdGluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIGZvciAobGV0IGkgaW4gYm94ZXMpIHtcbiAgICAgICAgaWYgKGJveGVzW2ldLmludGVyc2VjdGluZykge1xuICAgICAgICAgICAgcGF0aFtpXSA9IHZlcnRpY2VzW2ldO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgdiBvZiB2ZXJ0aWNlc1tpXSlcbiAgICAgICAgICAgIGlmICgodi54ID09IG1pbnggfHwgdi54ID09IG1heHgpICYmICh2LnkgPT0gbWlueSB8fCB2LnkgPT0gbWF4eSkpXG4gICAgICAgICAgICAgICAgcGF0aFtpXS5wdXNoKHYpO1xuICAgICAgICBpZiAocGF0aFtpXS5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIGZvciAobGV0IHYgb2YgdmVydGljZXNbaV0pXG4gICAgICAgICAgICAgICAgaWYgKHYueCA9PSBtaW54IHx8IHYueCA9PSBtYXh4IHx8IHYueSA9PSBtaW55IHx8IHYueSA9PSBtYXh5KVxuICAgICAgICAgICAgICAgICAgICBwYXRoW2ldLnB1c2godik7XG4gICAgICAgIGlmIChwYXRoW2ldLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcGF0aFtpXSA9IHZlcnRpY2VzW2ldO1xuICAgIH1cblxuICAgIGxldCBkaXN0YW5jZU1heCA9IG1heERpc3RhbmNlUGF0aCh1bmRlZmluZWQsIHBhdGgsIDApO1xuICAgIHJldHVybiBkaXN0YW5jZU1heDtcbn1cblxuZnVuY3Rpb24gZmluZENsb3Nlc3RQYWlySW4yU2VnbWVudHMocDEsIHAyLCBvcHQpIHtcbiAgICBjb25zdCBwcmVjb21wdXRlZCA9IG9wdC5mbGlnaHQuY2xvc2VzdFBhaXJzLnNlYXJjaCh7IG1pblg6IHAxLCBtaW5ZOiBwMiwgbWF4WDogcDEsIG1heFk6IHAyIH0pWzBdO1xuICAgIGlmIChwcmVjb21wdXRlZCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gcHJlY29tcHV0ZWQubztcblxuICAgIGNvbnN0IHJ0cmVlID0gbmV3IEZsYXRidXNoJDEocDEgKyAxIC0gb3B0LmxhdW5jaCwgOCk7XG4gICAgY29uc3QgbGMgPSBNYXRoLmFicyhNYXRoLmNvcyh1dGlsLnJhZGlhbnMob3B0LmZsaWdodC5mbGlnaHRQb2ludHNbcDFdLnkpKSk7XG4gICAgZm9yIChsZXQgaSA9IG9wdC5sYXVuY2g7IGkgPD0gcDE7IGkrKykge1xuICAgICAgICBjb25zdCByID0gb3B0LmZsaWdodC5mbGlnaHRQb2ludHNbaV07XG4gICAgICAgIHJ0cmVlLmFkZChyLnggKiBsYywgci55LCByLnggKiBsYywgci55KTtcbiAgICB9XG4gICAgcnRyZWUuZmluaXNoKCk7XG5cbiAgICBjb25zdCBwcmVjb21wdXRlZE5leHQgPSBvcHQuZmxpZ2h0LmNsb3Nlc3RQYWlycy5zZWFyY2goeyBtaW5YOiBwMSwgbWluWTogcDIsIG1heFg6IHAxLCBtYXhZOiBvcHQubGFuZGluZyB9KVswXTtcbiAgICBjb25zdCBsYXN0VW5rbm93biA9IHByZWNvbXB1dGVkTmV4dCAhPT0gdW5kZWZpbmVkID8gcHJlY29tcHV0ZWROZXh0Lm1heFkgOiBvcHQubGFuZGluZztcbiAgICBsZXQgbWluID0geyBkOiBJbmZpbml0eSB9O1xuICAgIGZvciAobGV0IGkgPSBwMjsgaSA8IGxhc3RVbmtub3duOyBpKyspIHtcbiAgICAgICAgY29uc3QgcG91dCA9IG9wdC5mbGlnaHQuZmxpZ2h0UG9pbnRzW2ldO1xuICAgICAgICBjb25zdCBuID0gcnRyZWUubmVpZ2hib3JzKHBvdXQueCAqIGxjLCBwb3V0LnksIDEpWzBdICsgb3B0LmxhdW5jaDtcbiAgICAgICAgaWYgKG4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgcGluID0gb3B0LmZsaWdodC5mbGlnaHRQb2ludHNbbl07XG4gICAgICAgICAgICBjb25zdCBkID0gcG91dC5kaXN0YW5jZUVhcnRoKHBpbik7XG4gICAgICAgICAgICBpZiAoZCA8IG1pbi5kKSB7XG4gICAgICAgICAgICAgICAgbWluLmQgPSBkO1xuICAgICAgICAgICAgICAgIG1pbi5vdXQgPSBwb3V0O1xuICAgICAgICAgICAgICAgIG1pbi5pbiA9IHBpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJlY29tcHV0ZWROZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgcG91dCA9IHByZWNvbXB1dGVkTmV4dC5vLm91dDtcbiAgICAgICAgY29uc3QgcGluID0gcHJlY29tcHV0ZWROZXh0Lm8uaW47XG4gICAgICAgIGNvbnN0IGQgPSBwb3V0LmRpc3RhbmNlRWFydGgocGluKTtcbiAgICAgICAgaWYgKGQgPCBtaW4uZCkge1xuICAgICAgICAgICAgbWluLmQgPSBkO1xuICAgICAgICAgICAgbWluLm91dCA9IHBvdXQ7XG4gICAgICAgICAgICBtaW4uaW4gPSBwaW47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvcHQuZmxpZ2h0LmNsb3Nlc3RQYWlycy5pbnNlcnQoeyBtaW5YOiBwMSwgbWluWTogcDIsIG1heFg6IHAxLCBtYXhZOiBwMiwgbzogbWluIH0pO1xuICAgIHJldHVybiBtaW47XG59XG5cbmZ1bmN0aW9uIGZpbmRGdXJ0aGVzdFBvaW50SW5TZWdtZW50KHNlZ2EsIHNlZ2IsIHRhcmdldCwgb3B0KSB7XG4gICAgbGV0IHBvaW50cztcbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgQm94JDEpXG4gICAgICAgIHBvaW50cyA9IHRhcmdldC52ZXJ0aWNlcygpO1xuICAgIGVsc2UgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFBvaW50JDEpXG4gICAgICAgIHBvaW50cyA9IFt0YXJnZXRdO1xuICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndGFyZ2V0IG11c3QgYmUgZWl0aGVyIFBvaW50IG9yIEJveCcpO1xuICAgIFxuICAgIGxldCBwb3M7XG4gICAgaWYgKHNlZ2EgPT09IG9wdC5sYXVuY2gpXG4gICAgICAgIHBvcyA9IDA7XG4gICAgZWxzZSBpZiAoc2VnYiA9PT0gb3B0LmxhbmRpbmcpXG4gICAgICAgIHBvcyA9IDE7XG4gICAgZWxzZVxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGhpcyBmdW5jdGlvbiBzdXBwb3J0cyBzZWVraW5nIG9ubHkgZnJvbSB0aGUgbGF1bmNoIG9yIHRoZSBsYW5kaW5nIHBvaW50Jyk7XG5cbiAgICBsZXQgZGlzdGFuY2VNYXggPSAtSW5maW5pdHk7XG4gICAgbGV0IGZwb2ludDtcbiAgICBmb3IgKGxldCB2IG9mIHBvaW50cykge1xuICAgICAgICBjb25zdCBwcmVjb21wdXRlZCA9IG9wdC5mbGlnaHQuZnVydGhlc3RQb2ludHNbcG9zXS5nZXQodi54ICsgJzonICsgdi55LCAtSW5maW5pdHkpO1xuICAgICAgICBsZXQgZGlzdGFuY2VWTWF4ID0gLUluZmluaXR5O1xuICAgICAgICBsZXQgZlZwb2ludDtcbiAgICAgICAgaWYgKHNlZ2EgPD0gcHJlY29tcHV0ZWQgJiYgcHJlY29tcHV0ZWQgPD0gc2VnYikge1xuICAgICAgICAgICAgZlZwb2ludCA9IG9wdC5mbGlnaHQuZmxpZ2h0UG9pbnRzW3ByZWNvbXB1dGVkXTtcbiAgICAgICAgICAgIGRpc3RhbmNlVk1heCA9IHYuZGlzdGFuY2VFYXJ0aChmVnBvaW50KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW50ZXJzZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIGxldCBjYW5DYWNoZSA9IGZhbHNlO1xuICAgICAgICBpZiAoZlZwb2ludCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBwID0gc2VnYTsgcCA8PSBzZWdiOyBwKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmID0gb3B0LmZsaWdodC5mbGlnaHRQb2ludHNbcF07XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIEJveCQxICYmIHRhcmdldC5pbnRlcnNlY3RzKGYpKSB7XG4gICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkID0gdi5kaXN0YW5jZUVhcnRoKGYpO1xuICAgICAgICAgICAgICAgIGlmIChkID4gZGlzdGFuY2VWTWF4KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlVk1heCA9IGQ7XG4gICAgICAgICAgICAgICAgICAgIGZWcG9pbnQgPSBmO1xuICAgICAgICAgICAgICAgICAgICBjYW5DYWNoZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGludGVyc2VjdGluZykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHAgb2YgcG9pbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGQgPSB2LmRpc3RhbmNlRWFydGgocCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkID4gZGlzdGFuY2VWTWF4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZVZNYXggPSBkO1xuICAgICAgICAgICAgICAgICAgICAgICAgZlZwb2ludCA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkNhY2hlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FuQ2FjaGUpXG4gICAgICAgICAgICAgICAgb3B0LmZsaWdodC5mdXJ0aGVzdFBvaW50c1twb3NdLnNldCh2LnggKyAnOicgKyB2LnksIGZWcG9pbnQucik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc3RhbmNlVk1heCA+IGRpc3RhbmNlTWF4KSB7XG4gICAgICAgICAgICBkaXN0YW5jZU1heCA9IGRpc3RhbmNlVk1heDtcbiAgICAgICAgICAgIGZwb2ludCA9IGZWcG9pbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZwb2ludCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICBmcG9pbnQgPSB0YXJnZXQ7XG5cbiAgICByZXR1cm4gZnBvaW50O1xufVxuXG5mdW5jdGlvbiBpc1RyaWFuZ2xlQ2xvc2VkKHAxLCBwMiwgZGlzdGFuY2UsIG9wdCkge1xuICAgIGNvbnN0IGZhc3RDYW5kaWRhdGVzID0gb3B0LmZsaWdodC5jbG9zZXN0UGFpcnMuc2VhcmNoKHsgbWluWDogb3B0LmxhdW5jaCwgbWluWTogcDIsIG1heFg6IHAxLCBtYXhZOiBvcHQubGFuZGluZyB9KTtcbiAgICBmb3IgKGxldCBmIG9mIGZhc3RDYW5kaWRhdGVzKVxuICAgICAgICBpZiAoZi5vLmQgPD0gb3B0LnNjb3JpbmcuY2xvc2luZ0Rpc3RhbmNlRnJlZSlcbiAgICAgICAgICAgIHJldHVybiBmLm87XG5cbiAgICBjb25zdCBtaW4gPSBmaW5kQ2xvc2VzdFBhaXJJbjJTZWdtZW50cyhwMSwgcDIsIG9wdCk7XG5cbiAgICBpZiAobWluLmQgPD0gb3B0LnNjb3JpbmcuY2xvc2luZ0Rpc3RhbmNlKGRpc3RhbmNlLCBvcHQpKVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaW5pdChvcHQpIHtcbiAgICBvcHQuZmxpZ2h0LmNsb3Nlc3RQYWlycyA9IG5ldyBSQnVzaCQxKCk7XG4gICAgb3B0LmZsaWdodC5mdXJ0aGVzdFBvaW50cyA9IFtuZXcgbWFwKCksIG5ldyBtYXAoKV07XG4gICAgb3B0LmZsaWdodC5mbGlnaHRQb2ludHMgPSBuZXcgQXJyYXkob3B0LmZsaWdodC5maWx0ZXJlZC5sZW5ndGgpO1xuICAgIGZvciAobGV0IHIgaW4gb3B0LmZsaWdodC5maWx0ZXJlZClcbiAgICAgICAgb3B0LmZsaWdodC5mbGlnaHRQb2ludHNbcl0gPSBuZXcgUG9pbnQkMShvcHQuZmxpZ2h0LmZpbHRlcmVkLCByKTtcbn1cblxudmFyIGdlb20gPSB7XG4gICAgbWF4RGlzdGFuY2UzUmVjdGFuZ2xlcyxcbiAgICBtYXhEaXN0YW5jZTJSZWN0YW5nbGVzLFxuICAgIG1pbkRpc3RhbmNlM1JlY3RhbmdsZXMsXG4gICAgbWF4RGlzdGFuY2VOUmVjdGFuZ2xlcyxcbiAgICBmaW5kRnVydGhlc3RQb2ludEluU2VnbWVudCxcbiAgICBpc1RyaWFuZ2xlQ2xvc2VkLFxuICAgIGluaXRcbn07XG5cbmZ1bmN0aW9uIGJvdW5kRmxhdFRyaWFuZ2xlKHJhbmdlcywgYm94ZXMsIG9wdCkge1xuICAgIGNvbnN0IG1heERpc3RhbmNlID0gZ2VvbS5tYXhEaXN0YW5jZTNSZWN0YW5nbGVzKGJveGVzLCAoaSwgaiwgaykgPT4ge1xuICAgICAgICByZXR1cm4gaS5kaXN0YW5jZUVhcnRoKGopICsgai5kaXN0YW5jZUVhcnRoKGspICsgay5kaXN0YW5jZUVhcnRoKGkpO1xuICAgIH0pO1xuXG4gICAgbGV0IGNwID0geyBkOiAwIH07XG4gICAgaWYgKHJhbmdlc1swXS5iIDwgcmFuZ2VzWzJdLmEpIHtcbiAgICAgICAgY3AgPSBnZW9tLmlzVHJpYW5nbGVDbG9zZWQocmFuZ2VzWzBdLmIsIHJhbmdlc1syXS5hLCBtYXhEaXN0YW5jZSwgb3B0KTtcbiAgICAgICAgaWYgKCFjcClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICByZXR1cm4gKG1heERpc3RhbmNlICogb3B0LnNjb3JpbmcubXVsdGlwbGllcikgLSBjbG9zaW5nUGVuYWx0eShjcC5kLCBvcHQpO1xuICAgIH1cblxuICAgIHJldHVybiBtYXhEaXN0YW5jZSAqIG9wdC5zY29yaW5nLm11bHRpcGxpZXI7XG59XG5cbmZ1bmN0aW9uIHNjb3JlRmxhdFRyaWFuZ2xlKHRwLCBvcHQpIHtcbiAgICBjb25zdCBkMCA9IHRwWzBdLmRpc3RhbmNlRWFydGgodHBbMV0pO1xuICAgIGNvbnN0IGQxID0gdHBbMV0uZGlzdGFuY2VFYXJ0aCh0cFsyXSk7XG4gICAgY29uc3QgZDIgPSB0cFsyXS5kaXN0YW5jZUVhcnRoKHRwWzBdKTtcbiAgICBjb25zdCBkaXN0YW5jZSA9IGQwICsgZDEgKyBkMjtcblxuICAgIGxldCBjcCA9IGdlb20uaXNUcmlhbmdsZUNsb3NlZCh0cFswXS5yLCB0cFsyXS5yLCBkaXN0YW5jZSwgb3B0KTtcbiAgICBpZiAoIWNwKVxuICAgICAgICByZXR1cm4geyBzY29yZTogMCB9O1xuXG4gICAgbGV0IHNjb3JlID0gZGlzdGFuY2UgKiBvcHQuc2NvcmluZy5tdWx0aXBsaWVyIC0gY2xvc2luZ1BlbmFsdHkoY3AuZCwgb3B0KTtcblxuICAgIHJldHVybiB7IGRpc3RhbmNlLCBzY29yZSwgdHAsIGNwIH07XG59XG5cbmZ1bmN0aW9uIGNsb3NpbmdQZW5hbHR5KGNkLCBvcHQpIHtcbiAgICByZXR1cm4gKGNkID4gKG9wdC5zY29yaW5nLmNsb3NpbmdEaXN0YW5jZUZyZWUgfHwgMCkgPyBjZCA6IDApO1xufVxuXG5mdW5jdGlvbiBjbG9zaW5nV2l0aExpbWl0KGRpc3RhbmNlLCBvcHQpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgob3B0LnNjb3JpbmcuY2xvc2luZ0Rpc3RhbmNlRml4ZWQgfHwgMCwgZGlzdGFuY2UgKiAob3B0LnNjb3JpbmcuY2xvc2luZ0Rpc3RhbmNlUmVsYXRpdmUgfHwgMCkpO1xufVxuXG4vKmVzbGludCBuby11bnVzZWQtdmFyczogW1wiZXJyb3JcIiwgeyBcImFyZ3NcIjogXCJub25lXCIgfV0qL1xuZnVuY3Rpb24gY2xvc2luZ1dpdGhQZW5hbHR5KGRpc3RhbmNlLCBvcHQpIHtcbiAgICByZXR1cm4gSW5maW5pdHk7XG59XG5cbmZ1bmN0aW9uIGJvdW5kRGlzdGFuY2UzUG9pbnRzKHJhbmdlcywgYm94ZXMsIG9wdCkge1xuICAgIGNvbnN0IHBpbiA9IGdlb20uZmluZEZ1cnRoZXN0UG9pbnRJblNlZ21lbnQob3B0LmxhdW5jaCwgcmFuZ2VzWzBdLmEsIGJveGVzWzBdLCBvcHQpO1xuICAgIGNvbnN0IHBvdXQgPSBnZW9tLmZpbmRGdXJ0aGVzdFBvaW50SW5TZWdtZW50KHJhbmdlc1syXS5iLCBvcHQubGFuZGluZywgYm94ZXNbMl0sIG9wdCk7XG4gICAgY29uc3QgbWF4RGlzdGFuY2UgPSBnZW9tLm1heERpc3RhbmNlTlJlY3RhbmdsZXMoW3BpbiwgYm94ZXNbMF0sIGJveGVzWzFdLCBib3hlc1syXSwgcG91dF0pO1xuICAgIHJldHVybiBtYXhEaXN0YW5jZTtcbn1cblxuZnVuY3Rpb24gc2NvcmVEaXN0YW5jZTNQb2ludHModHAsIG9wdCkge1xuICAgIGxldCBkaXN0YW5jZSA9IDA7XG4gICAgY29uc3QgcGluID0gZ2VvbS5maW5kRnVydGhlc3RQb2ludEluU2VnbWVudChvcHQubGF1bmNoLCB0cFswXS5yLCB0cFswXSwgb3B0KTtcbiAgICBjb25zdCBwb3V0ID0gZ2VvbS5maW5kRnVydGhlc3RQb2ludEluU2VnbWVudCh0cFsyXS5yLCBvcHQubGFuZGluZywgdHBbMl0sIG9wdCk7XG4gICAgY29uc3QgYWxsID0gW3BpbiwgdHBbMF0sIHRwWzFdLCB0cFsyXSwgcG91dF07XG4gICAgZm9yIChsZXQgaSBvZiBbMCwgMSwgMiwgM10pXG4gICAgICAgIGRpc3RhbmNlICs9IGFsbFtpXS5kaXN0YW5jZUVhcnRoKGFsbFtpICsgMV0pO1xuICAgIHJldHVybiB7IGRpc3RhbmNlLCBzY29yZTogZGlzdGFuY2UsIHRwOiB0cCwgY3A6IHsgaW46IHBpbiwgb3V0OiBwb3V0LCBkOiAwIH0gfTtcbn1cblxuZnVuY3Rpb24gYm91bmRGQUlUcmlhbmdsZShyYW5nZXMsIGJveGVzLCBvcHQpIHtcbiAgICBjb25zdCBtYXhUcmlEaXN0YW5jZSA9IGdlb20ubWF4RGlzdGFuY2UzUmVjdGFuZ2xlcyhib3hlcywgKGksIGosIGspID0+IHtcbiAgICAgICAgcmV0dXJuIGkuZGlzdGFuY2VFYXJ0aChqKSArIGouZGlzdGFuY2VFYXJ0aChrKSArIGsuZGlzdGFuY2VFYXJ0aChpKTtcbiAgICB9KTtcbiAgICBjb25zdCBtaW5UcmlEaXN0YW5jZSA9IGdlb20ubWluRGlzdGFuY2UzUmVjdGFuZ2xlcyhib3hlcywgKGksIGosIGspID0+IHtcbiAgICAgICAgcmV0dXJuIGkuZGlzdGFuY2VFYXJ0aChqKSArIGouZGlzdGFuY2VFYXJ0aChrKSArIGsuZGlzdGFuY2VFYXJ0aChpKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG1heEFCID0gZ2VvbS5tYXhEaXN0YW5jZTJSZWN0YW5nbGVzKFtib3hlc1swXSwgYm94ZXNbMV1dKTtcbiAgICBjb25zdCBtYXhCQyA9IGdlb20ubWF4RGlzdGFuY2UyUmVjdGFuZ2xlcyhbYm94ZXNbMV0sIGJveGVzWzJdXSk7XG4gICAgY29uc3QgbWF4Q0EgPSBnZW9tLm1heERpc3RhbmNlMlJlY3RhbmdsZXMoW2JveGVzWzJdLCBib3hlc1swXV0pO1xuICAgIGNvbnN0IG1heERpc3RhbmNlID0gTWF0aC5taW4obWF4QUIgLyBvcHQuc2NvcmluZy5taW5TaWRlLFxuICAgICAgICBtYXhCQyAvIG9wdC5zY29yaW5nLm1pblNpZGUsIG1heENBIC8gb3B0LnNjb3JpbmcubWluU2lkZSwgbWF4VHJpRGlzdGFuY2UpO1xuICAgIGlmIChtYXhEaXN0YW5jZSA8IG1pblRyaURpc3RhbmNlKVxuICAgICAgICByZXR1cm4gMDtcblxuICAgIGxldCBjcCA9IHsgZDogMCB9O1xuICAgIGlmIChyYW5nZXNbMF0uYiA8IHJhbmdlc1syXS5hKSB7XG4gICAgICAgIGNwID0gZ2VvbS5pc1RyaWFuZ2xlQ2xvc2VkKHJhbmdlc1swXS5iLCByYW5nZXNbMl0uYSwgbWF4RGlzdGFuY2UsIG9wdCk7XG4gICAgICAgIGlmICghY3ApXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgcmV0dXJuIChtYXhEaXN0YW5jZSAqIG9wdC5zY29yaW5nLm11bHRpcGxpZXIpIC0gY2xvc2luZ1BlbmFsdHkoY3AuZCwgb3B0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF4RGlzdGFuY2UgKiBvcHQuc2NvcmluZy5tdWx0aXBsaWVyO1xufVxuXG5mdW5jdGlvbiBzY29yZUZBSVRyaWFuZ2xlKHRwLCBvcHQpIHtcbiAgICBjb25zdCBkMCA9IHRwWzBdLmRpc3RhbmNlRWFydGgodHBbMV0pO1xuICAgIGNvbnN0IGQxID0gdHBbMV0uZGlzdGFuY2VFYXJ0aCh0cFsyXSk7XG4gICAgY29uc3QgZDIgPSB0cFsyXS5kaXN0YW5jZUVhcnRoKHRwWzBdKTtcbiAgICBjb25zdCBkaXN0YW5jZSA9IGQwICsgZDEgKyBkMjtcbiAgICBsZXQgc2NvcmUgPSAwO1xuICAgIGNvbnN0IG1pblNpZGUgPSBvcHQuc2NvcmluZy5taW5TaWRlICogZGlzdGFuY2U7XG4gICAgaWYgKGQwID49IG1pblNpZGUgJiYgZDEgPj0gbWluU2lkZSAmJiBkMiA+PSBtaW5TaWRlKVxuICAgICAgICBzY29yZSA9IGRpc3RhbmNlICogb3B0LnNjb3JpbmcubXVsdGlwbGllcjtcblxuICAgIGxldCBjcCA9IGdlb20uaXNUcmlhbmdsZUNsb3NlZCh0cFswXS5yLCB0cFsyXS5yLCBkaXN0YW5jZSwgb3B0KTtcbiAgICBpZiAoIWNwKVxuICAgICAgICByZXR1cm4geyBzY29yZTogMCB9O1xuXG4gICAgc2NvcmUgLT0gY2xvc2luZ1BlbmFsdHkoY3AuZCwgb3B0KTtcblxuICAgIHJldHVybiB7IGRpc3RhbmNlLCBzY29yZSwgdHAsIGNwIH07XG59XG5cbnZhciBzY29yaW5nID0ge1xuICAgIGNsb3NpbmdXaXRoTGltaXQsXG4gICAgY2xvc2luZ1dpdGhQZW5hbHR5LFxuICAgIGJvdW5kRmxhdFRyaWFuZ2xlLFxuICAgIHNjb3JlRmxhdFRyaWFuZ2xlLFxuICAgIGJvdW5kRGlzdGFuY2UzUG9pbnRzLFxuICAgIHNjb3JlRGlzdGFuY2UzUG9pbnRzLFxuICAgIGJvdW5kRkFJVHJpYW5nbGUsXG4gICAgc2NvcmVGQUlUcmlhbmdsZSxcbn07XG5cbi8qXG4gKiBUaGVzZSBhcmUgdGhlIHNjb3JpbmcgdHlwZXNcbiAqXG4gKiBUaGUgZGlmZmVyZW5jZXMgYXJlIG1vc3RseSBpbiB0aGUgbXV0aXBsaWVycyBhbmQgdGhlIHdheSB0aGUgY2xvc2luZyBkaXN0YW5jZXMgb2YgdGhlIHRyaWFuZ2xlcyBhcmUgY2FsY3VsYXRlZFxuICogXG4gKiBUaGVzZSBhcmUgdGhlIHRvb2xzIHRoYXQgYXJlIGFscmVhZHkgaW1wbGVtZW50ZWQgaW4gc2NvcmluZy5qcy9nZW9tLmpzOlxuICogY2xvc2luZ0Rpc3RhbmNlIGlzIHRoZSB0cmlhbmdsZSBjbG9zaW5nIHR5cGUsIHlvdSBjaG9vc2UgYmV0d2VlbiB0d28gdHlwZXM6XG4gKiAgICAgIGNsb3NpbmdXaXRoTGltaXQgLSBjbG9zaW5nIGRpc3RhbmNlIGlzIGxpbWl0ZWRcbiAqICAgICAgY2xvc2luZ1dpdGhQZW5hbHR5IC0gY2xvc2luZyBkaXN0YW5jZSBpcyB1bmxpbWl0ZWQgYnV0IGluY3VycyBhIHBlbmFsdHlcbiAqIGNsb3NpbmdEaXN0YW5jZUZpeGVkIGlzIHRoZSBmaXhlZCBjbG9zaW5nIGRpc3RhbmNlIHRoYXQgaXMgYWx3YXlzIGFjY2VwdGVkXG4gKiBjbG9zaW5nRGlzdGFuY2VGcmVlIGlzIHRoZSBjbG9zaW5nIGRpc3RhbmNlIHRoYXQgZG9lcyBub3QgaW5jdXIgYW55IHNjb3JpbmcgcGVuYWx0eVxuICogY2xvc2luZ0Rpc3RhbmNlUmVsYXRpdmUgaXMgdGhlIGNsb3NpbmcgZGlzdGFuY2UgdGhhdCBpcyByZWxhdGl2ZSB0byB0aGUgZnVsbCB0cmlhbmdsZSBsZW5ndGggYnV0IGluY3VycyBhIHBlbmFsdHlcbiovXG5jb25zdCBydWxlcyA9IHtcbiAgICAnRkZWTCc6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ0Rpc3RhbmNlIDMgcG9pbnRzJyxcbiAgICAgICAgICAgIG11bHRpcGxpZXI6IDEsXG4gICAgICAgICAgICBib3VuZDogc2NvcmluZy5ib3VuZERpc3RhbmNlM1BvaW50cyxcbiAgICAgICAgICAgIHNjb3JlOiBzY29yaW5nLnNjb3JlRGlzdGFuY2UzUG9pbnRzLFxuICAgICAgICAgICAgcm91bmRpbmc6IHJvdW5kMixcbiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAzXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdUcmlhbmdsZSBwbGF0JyxcbiAgICAgICAgICAgIG11bHRpcGxpZXI6IDEuMixcbiAgICAgICAgICAgIGJvdW5kOiBzY29yaW5nLmJvdW5kRmxhdFRyaWFuZ2xlLFxuICAgICAgICAgICAgc2NvcmU6IHNjb3Jpbmcuc2NvcmVGbGF0VHJpYW5nbGUsXG4gICAgICAgICAgICBjbG9zaW5nRGlzdGFuY2U6IHNjb3JpbmcuY2xvc2luZ1dpdGhMaW1pdCxcbiAgICAgICAgICAgIGNsb3NpbmdEaXN0YW5jZUZpeGVkOiAzLFxuICAgICAgICAgICAgY2xvc2luZ0Rpc3RhbmNlRnJlZTogMyxcbiAgICAgICAgICAgIGNsb3NpbmdEaXN0YW5jZVJlbGF0aXZlOiAwLjA1LFxuICAgICAgICAgICAgcm91bmRpbmc6IHJvdW5kMixcbiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAzXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdUcmlhbmdsZSBGQUknLFxuICAgICAgICAgICAgbXVsdGlwbGllcjogMS40LFxuICAgICAgICAgICAgYm91bmQ6IHNjb3JpbmcuYm91bmRGQUlUcmlhbmdsZSxcbiAgICAgICAgICAgIHNjb3JlOiBzY29yaW5nLnNjb3JlRkFJVHJpYW5nbGUsXG4gICAgICAgICAgICBtaW5TaWRlOiAwLjI4LFxuICAgICAgICAgICAgY2xvc2luZ0Rpc3RhbmNlOiBzY29yaW5nLmNsb3NpbmdXaXRoTGltaXQsXG4gICAgICAgICAgICBjbG9zaW5nRGlzdGFuY2VGaXhlZDogMyxcbiAgICAgICAgICAgIGNsb3NpbmdEaXN0YW5jZUZyZWU6IDMsXG4gICAgICAgICAgICBjbG9zaW5nRGlzdGFuY2VSZWxhdGl2ZTogMC4wNSxcbiAgICAgICAgICAgIHJvdW5kaW5nOiByb3VuZDIsXG4gICAgICAgICAgICBjYXJkaW5hbGl0eTogM1xuICAgICAgICB9XG4gICAgXSxcbiAgICAnWENvbnRlc3QnOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdGcmVlIGZsaWdodCcsXG4gICAgICAgICAgICBtdWx0aXBsaWVyOiAxLFxuICAgICAgICAgICAgYm91bmQ6IHNjb3JpbmcuYm91bmREaXN0YW5jZTNQb2ludHMsXG4gICAgICAgICAgICBzY29yZTogc2NvcmluZy5zY29yZURpc3RhbmNlM1BvaW50cyxcbiAgICAgICAgICAgIHJvdW5kaW5nOiByb3VuZDIsXG4gICAgICAgICAgICBjYXJkaW5hbGl0eTogM1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnRnJlZSB0cmlhbmdsZScsXG4gICAgICAgICAgICBtdWx0aXBsaWVyOiAxLjIsXG4gICAgICAgICAgICBib3VuZDogc2NvcmluZy5ib3VuZEZsYXRUcmlhbmdsZSxcbiAgICAgICAgICAgIHNjb3JlOiBzY29yaW5nLnNjb3JlRmxhdFRyaWFuZ2xlLFxuICAgICAgICAgICAgY2xvc2luZ0Rpc3RhbmNlOiBzY29yaW5nLmNsb3NpbmdXaXRoTGltaXQsXG4gICAgICAgICAgICBjbG9zaW5nRGlzdGFuY2VSZWxhdGl2ZTogMC4yLFxuICAgICAgICAgICAgcm91bmRpbmc6IHJvdW5kMixcbiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAzXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdGQUkgdHJpYW5nbGUnLFxuICAgICAgICAgICAgbXVsdGlwbGllcjogMS40LFxuICAgICAgICAgICAgYm91bmQ6IHNjb3JpbmcuYm91bmRGQUlUcmlhbmdsZSxcbiAgICAgICAgICAgIHNjb3JlOiBzY29yaW5nLnNjb3JlRkFJVHJpYW5nbGUsXG4gICAgICAgICAgICBtaW5TaWRlOiAwLjI4LFxuICAgICAgICAgICAgY2xvc2luZ0Rpc3RhbmNlOiBzY29yaW5nLmNsb3NpbmdXaXRoTGltaXQsXG4gICAgICAgICAgICBjbG9zaW5nRGlzdGFuY2VSZWxhdGl2ZTogMC4yLFxuICAgICAgICAgICAgcm91bmRpbmc6IHJvdW5kMixcbiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAzXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdDbG9zZWQgZnJlZSB0cmlhbmdsZScsXG4gICAgICAgICAgICBtdWx0aXBsaWVyOiAxLjQsXG4gICAgICAgICAgICBib3VuZDogc2NvcmluZy5ib3VuZEZsYXRUcmlhbmdsZSxcbiAgICAgICAgICAgIHNjb3JlOiBzY29yaW5nLnNjb3JlRmxhdFRyaWFuZ2xlLFxuICAgICAgICAgICAgY2xvc2luZ0Rpc3RhbmNlOiBzY29yaW5nLmNsb3NpbmdXaXRoTGltaXQsXG4gICAgICAgICAgICBjbG9zaW5nRGlzdGFuY2VGaXhlZDogMCxcbiAgICAgICAgICAgIGNsb3NpbmdEaXN0YW5jZUZyZWU6IDAsXG4gICAgICAgICAgICBjbG9zaW5nRGlzdGFuY2VSZWxhdGl2ZTogMC4wNSxcbiAgICAgICAgICAgIHJvdW5kaW5nOiByb3VuZDIsXG4gICAgICAgICAgICBjYXJkaW5hbGl0eTogM1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnQ2xvc2VkIEZBSSB0cmlhbmdsZScsXG4gICAgICAgICAgICBtdWx0aXBsaWVyOiAxLjYsXG4gICAgICAgICAgICBib3VuZDogc2NvcmluZy5ib3VuZEZBSVRyaWFuZ2xlLFxuICAgICAgICAgICAgc2NvcmU6IHNjb3Jpbmcuc2NvcmVGQUlUcmlhbmdsZSxcbiAgICAgICAgICAgIG1pblNpZGU6IDAuMjgsXG4gICAgICAgICAgICBjbG9zaW5nRGlzdGFuY2U6IHNjb3JpbmcuY2xvc2luZ1dpdGhMaW1pdCxcbiAgICAgICAgICAgIGNsb3NpbmdEaXN0YW5jZUZpeGVkOiAwLFxuICAgICAgICAgICAgY2xvc2luZ0Rpc3RhbmNlRnJlZTogMCxcbiAgICAgICAgICAgIGNsb3NpbmdEaXN0YW5jZVJlbGF0aXZlOiAwLjA1LFxuICAgICAgICAgICAgcm91bmRpbmc6IHJvdW5kMixcbiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAzXG4gICAgICAgIH1cbiAgICBdXG59O1xuXG5mdW5jdGlvbiByb3VuZDIoc2NvcmUpIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdChwYXJzZUZsb2F0KHNjb3JlKS50b0ZpeGVkKDIpKTtcbn1cblxudmFyIHNjb3JpbmdSdWxlc19jb25maWcgPSBydWxlcztcblxuLy9UT0RPOlxuLy8gUmVtb3ZlIERpY3QgYW5kIHVzZSBuYXRpdmUgTWFwIGFzIG11Y2ggYXMgcG9zc2libGUgaGVyZVxuLy9Vc2UgT2JqZWN0Q2hhbmdlRGVzY3JpcHRvciB0byBhdm9pZCBjcmVhdGluZyB1c2VsZXNzIGFycmF5cyBhbmQgYmVuZWZpdCBmcm9tIHNpbWlsYXIgZ2FpbnMgbWFkZSBpbiBwcm9wZXJ0eS1jaGFuZ2VzXG5cblxudmFyIE9iamVjdENoYW5nZURlc2NyaXB0b3IkMiA9IGNoYW5nZURlc2NyaXB0b3IuT2JqZWN0Q2hhbmdlRGVzY3JpcHRvcixcbiAgICBDaGFuZ2VMaXN0ZW5lcnNSZWNvcmQkMSA9IGNoYW5nZURlc2NyaXB0b3IuQ2hhbmdlTGlzdGVuZXJzUmVjb3JkLFxuICAgIExpc3RlbmVyR2hvc3QkMiA9IGNoYW5nZURlc2NyaXB0b3IuTGlzdGVuZXJHaG9zdDtcblxudmFyIHJhbmdlQ2hhbmdlRGVzY3JpcHRvcnMgPSBuZXcgd2Vha01hcCQxKCk7IC8vIHtpc0FjdGl2ZSwgd2lsbENoYW5nZUxpc3RlbmVycywgY2hhbmdlTGlzdGVuZXJzfVxuXG5cbi8vXG5mdW5jdGlvbiBSYW5nZUNoYW5nZURlc2NyaXB0b3IobmFtZSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuX3dpbGxDaGFuZ2VMaXN0ZW5lcnMgPSBudWxsO1xuICAgIHRoaXMuX2NoYW5nZUxpc3RlbmVycyA9IG51bGw7XG59XG5SYW5nZUNoYW5nZURlc2NyaXB0b3IucHJvdG90eXBlID0gbmV3IE9iamVjdENoYW5nZURlc2NyaXB0b3IkMigpO1xuUmFuZ2VDaGFuZ2VEZXNjcmlwdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJhbmdlQ2hhbmdlRGVzY3JpcHRvcjtcblxuUmFuZ2VDaGFuZ2VEZXNjcmlwdG9yLnByb3RvdHlwZS5jaGFuZ2VMaXN0ZW5lcnNSZWNvcmRDb25zdHJ1Y3RvciA9IFJhbmdlQ2hhbmdlTGlzdGVuZXJzUmVjb3JkO1xuUmFuZ2VDaGFuZ2VEZXNjcmlwdG9yLnByb3RvdHlwZS53aWxsQ2hhbmdlTGlzdGVuZXJzUmVjb3JkQ29uc3RydWN0b3IgPSBSYW5nZVdpbGxDaGFuZ2VMaXN0ZW5lcnNSZWNvcmQ7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoUmFuZ2VDaGFuZ2VEZXNjcmlwdG9yLnByb3RvdHlwZSxcImFjdGl2ZVwiLHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlIHx8ICh0aGlzLl9hY3RpdmUgPSB0aGlzLl9jdXJyZW50ID8gdGhpcy5fY3VycmVudC5zbGljZSgpOltdKTtcbiAgICB9XG59KTtcblxuXG52YXIgUmFuZ2VDaGFuZ2VMaXN0ZW5lcnNTcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lID0gbmV3IF9tYXAoKTtcblxuZnVuY3Rpb24gUmFuZ2VDaGFuZ2VMaXN0ZW5lcnNSZWNvcmQobmFtZSkge1xuICAgIHZhciBzcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lID0gUmFuZ2VDaGFuZ2VMaXN0ZW5lcnNTcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lLmdldChuYW1lKTtcbiAgICBpZighc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZSkge1xuICAgICAgICBzcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lID0gXCJoYW5kbGVcIjtcbiAgICAgICAgc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZSArPSBuYW1lLnNsaWNlKDAsIDEpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIHNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUgKz0gbmFtZS5zbGljZSgxKTtcbiAgICAgICAgc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZSArPSBcIlJhbmdlQ2hhbmdlXCI7XG4gICAgICAgIFJhbmdlQ2hhbmdlTGlzdGVuZXJzU3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZS5zZXQobmFtZSxzcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lKTtcbiAgICB9XG4gICAgdGhpcy5zcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lID0gc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZTtcblx0cmV0dXJuIHRoaXM7XG59XG5SYW5nZUNoYW5nZUxpc3RlbmVyc1JlY29yZC5wcm90b3R5cGUgPSBuZXcgQ2hhbmdlTGlzdGVuZXJzUmVjb3JkJDEoKTtcblJhbmdlQ2hhbmdlTGlzdGVuZXJzUmVjb3JkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJhbmdlQ2hhbmdlTGlzdGVuZXJzUmVjb3JkO1xuXG52YXIgUmFuZ2VXaWxsQ2hhbmdlTGlzdGVuZXJzU3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZSA9IG5ldyBfbWFwKCk7XG5cbmZ1bmN0aW9uIFJhbmdlV2lsbENoYW5nZUxpc3RlbmVyc1JlY29yZChuYW1lKSB7XG4gICAgdmFyIHNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUgPSBSYW5nZVdpbGxDaGFuZ2VMaXN0ZW5lcnNTcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lLmdldChuYW1lKTtcbiAgICBpZighc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZSkge1xuICAgICAgICBzcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lID0gXCJoYW5kbGVcIjtcbiAgICAgICAgc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZSArPSBuYW1lLnNsaWNlKDAsIDEpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIHNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUgKz0gbmFtZS5zbGljZSgxKTtcbiAgICAgICAgc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZSArPSBcIlJhbmdlV2lsbENoYW5nZVwiO1xuICAgICAgICBSYW5nZVdpbGxDaGFuZ2VMaXN0ZW5lcnNTcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lLnNldChuYW1lLHNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUpO1xuICAgIH1cbiAgICB0aGlzLnNwZWNpZmljSGFuZGxlck1ldGhvZE5hbWUgPSBzcGVjaWZpY0hhbmRsZXJNZXRob2ROYW1lO1xuICAgIHJldHVybiB0aGlzO1xufVxuUmFuZ2VXaWxsQ2hhbmdlTGlzdGVuZXJzUmVjb3JkLnByb3RvdHlwZSA9IG5ldyBDaGFuZ2VMaXN0ZW5lcnNSZWNvcmQkMSgpO1xuUmFuZ2VXaWxsQ2hhbmdlTGlzdGVuZXJzUmVjb3JkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJhbmdlV2lsbENoYW5nZUxpc3RlbmVyc1JlY29yZDtcblxudmFyIHJhbmdlQ2hhbmdlcyA9IFJhbmdlQ2hhbmdlcztcbmZ1bmN0aW9uIFJhbmdlQ2hhbmdlcygpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBjb25zdHJ1Y3QuIFJhbmdlQ2hhbmdlcyBpcyBhIG1peGluLlwiKTtcbn1cblxuUmFuZ2VDaGFuZ2VzLnByb3RvdHlwZS5nZXRBbGxSYW5nZUNoYW5nZURlc2NyaXB0b3JzID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghcmFuZ2VDaGFuZ2VEZXNjcmlwdG9ycy5oYXModGhpcykpIHtcbiAgICAgICAgcmFuZ2VDaGFuZ2VEZXNjcmlwdG9ycy5zZXQodGhpcywgbmV3IF9tYXAoKSk7XG4gICAgfVxuICAgIHJldHVybiByYW5nZUNoYW5nZURlc2NyaXB0b3JzLmdldCh0aGlzKTtcbn07XG5cblJhbmdlQ2hhbmdlcy5wcm90b3R5cGUuZ2V0UmFuZ2VDaGFuZ2VEZXNjcmlwdG9yID0gZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgdmFyIHRva2VuQ2hhbmdlRGVzY3JpcHRvcnMgPSB0aGlzLmdldEFsbFJhbmdlQ2hhbmdlRGVzY3JpcHRvcnMoKTtcbiAgICB0b2tlbiA9IHRva2VuIHx8IFwiXCI7XG4gICAgaWYgKCF0b2tlbkNoYW5nZURlc2NyaXB0b3JzLmhhcyh0b2tlbikpIHtcbiAgICAgICAgdG9rZW5DaGFuZ2VEZXNjcmlwdG9ycy5zZXQodG9rZW4sIG5ldyBSYW5nZUNoYW5nZURlc2NyaXB0b3IodG9rZW4pKTtcbiAgICB9XG4gICAgcmV0dXJuIHRva2VuQ2hhbmdlRGVzY3JpcHRvcnMuZ2V0KHRva2VuKTtcbn07XG5cbnZhciBPYmplY3RzRGlzcGF0Y2hlc1JhbmdlQ2hhbmdlcyA9IG5ldyB3ZWFrTWFwJDEoKSxcbiAgICBkaXNwYXRjaGVzUmFuZ2VDaGFuZ2VzR2V0dGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBPYmplY3RzRGlzcGF0Y2hlc1JhbmdlQ2hhbmdlcy5nZXQodGhpcyk7XG4gICAgfSxcbiAgICBkaXNwYXRjaGVzUmFuZ2VDaGFuZ2VzU2V0dGVyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdHNEaXNwYXRjaGVzUmFuZ2VDaGFuZ2VzLnNldCh0aGlzLHZhbHVlKTtcbiAgICB9LFxuICAgIGRpc3BhdGNoZXNDaGFuZ2VzTWV0aG9kTmFtZSQxID0gXCJkaXNwYXRjaGVzUmFuZ2VDaGFuZ2VzXCIsXG4gICAgZGlzcGF0Y2hlc0NoYW5nZXNQcm9wZXJ0eURlc2NyaXB0b3IkMSA9IHtcbiAgICAgICAgZ2V0OiBkaXNwYXRjaGVzUmFuZ2VDaGFuZ2VzR2V0dGVyLFxuICAgICAgICBzZXQ6IGRpc3BhdGNoZXNSYW5nZUNoYW5nZXNTZXR0ZXIsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICB9O1xuXG5SYW5nZUNoYW5nZXMucHJvdG90eXBlLmFkZFJhbmdlQ2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRSYW5nZUNoYW5nZUxpc3RlbmVyKGxpc3RlbmVyLCB0b2tlbiwgYmVmb3JlQ2hhbmdlKSB7XG4gICAgLy8gYSBjb25jZXNzaW9uIGZvciBvYmplY3RzIGxpa2UgQXJyYXkgdGhhdCBhcmUgbm90IGluaGVyZW50bHkgb2JzZXJ2YWJsZVxuICAgIGlmICghdGhpcy5pc09ic2VydmFibGUgJiYgdGhpcy5tYWtlT2JzZXJ2YWJsZSkge1xuICAgICAgICB0aGlzLm1ha2VPYnNlcnZhYmxlKCk7XG4gICAgfVxuXG4gICAgdmFyIGRlc2NyaXB0b3IgPSB0aGlzLmdldFJhbmdlQ2hhbmdlRGVzY3JpcHRvcih0b2tlbik7XG5cbiAgICB2YXIgbGlzdGVuZXJzO1xuICAgIGlmIChiZWZvcmVDaGFuZ2UpIHtcbiAgICAgICAgbGlzdGVuZXJzID0gZGVzY3JpcHRvci53aWxsQ2hhbmdlTGlzdGVuZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxpc3RlbmVycyA9IGRlc2NyaXB0b3IuY2hhbmdlTGlzdGVuZXJzO1xuICAgIH1cblxuICAgIC8vIGV2ZW4gaWYgYWxyZWFkeSByZWdpc3RlcmVkXG4gICAgaWYoIWxpc3RlbmVycy5fY3VycmVudCkge1xuICAgICAgICBsaXN0ZW5lcnMuX2N1cnJlbnQgPSBsaXN0ZW5lcjtcbiAgICB9XG4gICAgZWxzZSBpZighQXJyYXkuaXNBcnJheShsaXN0ZW5lcnMuX2N1cnJlbnQpKSB7XG4gICAgICAgIGxpc3RlbmVycy5fY3VycmVudCA9IFtsaXN0ZW5lcnMuX2N1cnJlbnQsbGlzdGVuZXJdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGlzdGVuZXJzLl9jdXJyZW50LnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIGlmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoKHRoaXMuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykpLGRpc3BhdGNoZXNDaGFuZ2VzTWV0aG9kTmFtZSQxKSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSgodGhpcy5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSksIGRpc3BhdGNoZXNDaGFuZ2VzTWV0aG9kTmFtZSQxLCBkaXNwYXRjaGVzQ2hhbmdlc1Byb3BlcnR5RGVzY3JpcHRvciQxKTtcbiAgICB9XG4gICAgdGhpcy5kaXNwYXRjaGVzUmFuZ2VDaGFuZ2VzID0gdHJ1ZTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gZnVuY3Rpb24gY2FuY2VsUmFuZ2VDaGFuZ2VMaXN0ZW5lcigpIHtcbiAgICAgICAgaWYgKCFzZWxmKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHRocm93IG5ldyBFcnJvcihcIlJhbmdlIGNoYW5nZSBsaXN0ZW5lciBcIiArIEpTT04uc3RyaW5naWZ5KHRva2VuKSArIFwiIGhhcyBhbHJlYWR5IGJlZW4gY2FuY2VsZWRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5yZW1vdmVSYW5nZUNoYW5nZUxpc3RlbmVyKGxpc3RlbmVyLCB0b2tlbiwgYmVmb3JlQ2hhbmdlKTtcbiAgICAgICAgc2VsZiA9IG51bGw7XG4gICAgfTtcbn07XG5cblxuUmFuZ2VDaGFuZ2VzLnByb3RvdHlwZS5yZW1vdmVSYW5nZUNoYW5nZUxpc3RlbmVyID0gZnVuY3Rpb24gKGxpc3RlbmVyLCB0b2tlbiwgYmVmb3JlQ2hhbmdlKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSB0aGlzLmdldFJhbmdlQ2hhbmdlRGVzY3JpcHRvcih0b2tlbik7XG5cbiAgICB2YXIgbGlzdGVuZXJzO1xuICAgIGlmIChiZWZvcmVDaGFuZ2UpIHtcbiAgICAgICAgbGlzdGVuZXJzID0gZGVzY3JpcHRvci5fd2lsbENoYW5nZUxpc3RlbmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgICBsaXN0ZW5lcnMgPSBkZXNjcmlwdG9yLl9jaGFuZ2VMaXN0ZW5lcnM7XG4gICAgfVxuXG4gICAgaWYobGlzdGVuZXJzLl9jdXJyZW50KSB7XG4gICAgICAgIGlmKGxpc3RlbmVycy5fY3VycmVudCA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycy5fY3VycmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuX2N1cnJlbnQubGFzdEluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IHJlbW92ZSByYW5nZSBjaGFuZ2UgbGlzdGVuZXI6IGRvZXMgbm90IGV4aXN0OiB0b2tlbiBcIiArIEpTT04uc3RyaW5naWZ5KHRva2VuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZihkZXNjcmlwdG9yLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5naG9zdENvdW50ID0gbGlzdGVuZXJzLmdob3N0Q291bnQrMTtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLl9jdXJyZW50W2luZGV4XT1MaXN0ZW5lckdob3N0JDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuX2N1cnJlbnQuc3BsaWNlT25lKGluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn07XG5cblJhbmdlQ2hhbmdlcy5wcm90b3R5cGUuZGlzcGF0Y2hSYW5nZUNoYW5nZSA9IGZ1bmN0aW9uIChwbHVzLCBtaW51cywgaW5kZXgsIGJlZm9yZUNoYW5nZSkge1xuICAgIHZhciBkZXNjcmlwdG9ycyA9IHRoaXMuZ2V0QWxsUmFuZ2VDaGFuZ2VEZXNjcmlwdG9ycygpLFxuICAgICAgICBkZXNjcmlwdG9yLFxuICAgICAgICBtYXBJdGVyICA9IGRlc2NyaXB0b3JzLnZhbHVlcygpLFxuICAgICAgICBsaXN0ZW5lcnMsXG4gICAgICAgIHRva2VuTmFtZSxcbiAgICAgICAgaSxcbiAgICAgICAgY291bnRJLFxuICAgICAgICBsaXN0ZW5lcixcbiAgICAgICAgY3VycmVudExpc3RlbmVycyxcbiAgICAgICAgR2hvc3Q7XG5cbiAgICBkZXNjcmlwdG9ycy5kaXNwYXRjaEJlZm9yZUNoYW5nZSA9IGJlZm9yZUNoYW5nZTtcblxuICAgICB3aGlsZSAoZGVzY3JpcHRvciA9IG1hcEl0ZXIubmV4dCgpLnZhbHVlKSB7XG5cbiAgICAgICAgaWYgKGRlc2NyaXB0b3IuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJlZm9yZSBvciBhZnRlclxuICAgICAgICBsaXN0ZW5lcnMgPSBiZWZvcmVDaGFuZ2UgPyBkZXNjcmlwdG9yLl93aWxsQ2hhbmdlTGlzdGVuZXJzIDogZGVzY3JpcHRvci5fY2hhbmdlTGlzdGVuZXJzO1xuICAgICAgICBpZihsaXN0ZW5lcnMgJiYgbGlzdGVuZXJzLl9jdXJyZW50KSB7XG4gICAgICAgICAgICB0b2tlbk5hbWUgPSBsaXN0ZW5lcnMuc3BlY2lmaWNIYW5kbGVyTWV0aG9kTmFtZTtcbiAgICAgICAgICAgIGlmKEFycmF5LmlzQXJyYXkobGlzdGVuZXJzLl9jdXJyZW50KSkge1xuICAgICAgICAgICAgICAgIGlmKGxpc3RlbmVycy5fY3VycmVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90YWJseSwgZGVmYXVsdHMgdG8gXCJoYW5kbGVSYW5nZUNoYW5nZVwiIG9yIFwiaGFuZGxlUmFuZ2VXaWxsQ2hhbmdlXCJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdG9rZW4gaXMgXCJcIiAodGhlIGRlZmF1bHQpXG5cbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvci5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc3BhdGNoIGVhY2ggbGlzdGVuZXJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JlbW92ZUdvc3RMaXN0ZW5lcnNJZk5lZWRlZCByZXR1cm5zIGxpc3RlbmVycy5jdXJyZW50IG9yIGEgbmV3IGZpbHRlcmVkIG9uZSB3aGVuIGNvbmRpdGlvbnMgYXJlIG1ldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRMaXN0ZW5lcnMgPSBsaXN0ZW5lcnMucmVtb3ZlQ3VycmVudEdvc3RMaXN0ZW5lcnNJZk5lZWRlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdob3N0ID0gTGlzdGVuZXJHaG9zdCQyO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGk9MCwgY291bnRJID0gY3VycmVudExpc3RlbmVycy5sZW5ndGg7aTxjb3VudEk7aSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChsaXN0ZW5lciA9IGN1cnJlbnRMaXN0ZW5lcnNbaV0pICE9PSBHaG9zdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXJbdG9rZW5OYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJbdG9rZW5OYW1lXShwbHVzLCBtaW51cywgaW5kZXgsIHRoaXMsIGJlZm9yZUNoYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXIuY2FsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBwbHVzLCBtaW51cywgaW5kZXgsIHRoaXMsIGJlZm9yZUNoYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJIYW5kbGVyIFwiICsgbGlzdGVuZXIgKyBcIiBoYXMgbm8gbWV0aG9kIFwiICsgdG9rZW5OYW1lICsgXCIgYW5kIGlzIG5vdCBjYWxsYWJsZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IuaXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIGRpc3BhdGNoIGVhY2ggbGlzdGVuZXJcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVycy5fY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyW3Rva2VuTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyW3Rva2VuTmFtZV0ocGx1cywgbWludXMsIGluZGV4LCB0aGlzLCBiZWZvcmVDaGFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpc3RlbmVyLmNhbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgcGx1cywgbWludXMsIGluZGV4LCB0aGlzLCBiZWZvcmVDaGFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSGFuZGxlciBcIiArIGxpc3RlbmVyICsgXCIgaGFzIG5vIG1ldGhvZCBcIiArIHRva2VuTmFtZSArIFwiIGFuZCBpcyBub3QgY2FsbGFibGVcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmlzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cbn07XG5cblJhbmdlQ2hhbmdlcy5wcm90b3R5cGUuYWRkQmVmb3JlUmFuZ2VDaGFuZ2VMaXN0ZW5lciA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgdG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5hZGRSYW5nZUNoYW5nZUxpc3RlbmVyKGxpc3RlbmVyLCB0b2tlbiwgdHJ1ZSk7XG59O1xuXG5SYW5nZUNoYW5nZXMucHJvdG90eXBlLnJlbW92ZUJlZm9yZVJhbmdlQ2hhbmdlTGlzdGVuZXIgPSBmdW5jdGlvbiAobGlzdGVuZXIsIHRva2VuKSB7XG4gICAgcmV0dXJuIHRoaXMucmVtb3ZlUmFuZ2VDaGFuZ2VMaXN0ZW5lcihsaXN0ZW5lciwgdG9rZW4sIHRydWUpO1xufTtcblxuUmFuZ2VDaGFuZ2VzLnByb3RvdHlwZS5kaXNwYXRjaEJlZm9yZVJhbmdlQ2hhbmdlID0gZnVuY3Rpb24gKHBsdXMsIG1pbnVzLCBpbmRleCkge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoUmFuZ2VDaGFuZ2UocGx1cywgbWludXMsIGluZGV4LCB0cnVlKTtcbn07XG5cbnZhciBzb3J0ZWRTZXQgPSBTb3J0ZWRTZXQ7XG5cblxuXG5cblxuXG5cblxuZnVuY3Rpb24gU29ydGVkU2V0KHZhbHVlcywgZXF1YWxzLCBjb21wYXJlLCBnZXREZWZhdWx0KSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNvcnRlZFNldCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTb3J0ZWRTZXQodmFsdWVzLCBlcXVhbHMsIGNvbXBhcmUsIGdldERlZmF1bHQpO1xuICAgIH1cbiAgICB0aGlzLmNvbnRlbnRFcXVhbHMgPSBlcXVhbHMgfHwgT2JqZWN0LmVxdWFscztcbiAgICB0aGlzLmNvbnRlbnRDb21wYXJlID0gY29tcGFyZSB8fCBPYmplY3QuY29tcGFyZTtcbiAgICB0aGlzLmdldERlZmF1bHQgPSBnZXREZWZhdWx0IHx8IEZ1bmN0aW9uLm5vb3A7XG4gICAgdGhpcy5yb290ID0gbnVsbDtcbiAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5hZGRFYWNoKHZhbHVlcyk7XG59XG5cbi8vIGhhY2sgc28gcmVxdWlyZShcInNvcnRlZC1zZXRcIikuU29ydGVkU2V0IHdpbGwgd29yayBpbiBNb250YWdlSlNcblNvcnRlZFNldC5Tb3J0ZWRTZXQgPSBTb3J0ZWRTZXQ7XG5cbk9iamVjdC5hZGRFYWNoKFNvcnRlZFNldC5wcm90b3R5cGUsIGdlbmVyaWNDb2xsZWN0aW9uLnByb3RvdHlwZSk7XG5PYmplY3QuYWRkRWFjaChTb3J0ZWRTZXQucHJvdG90eXBlLCBnZW5lcmljU2V0LnByb3RvdHlwZSk7XG5PYmplY3QuYWRkRWFjaChTb3J0ZWRTZXQucHJvdG90eXBlLCBwcm9wZXJ0eUNoYW5nZXMucHJvdG90eXBlKTtcbk9iamVjdC5hZGRFYWNoKFNvcnRlZFNldC5wcm90b3R5cGUsIHJhbmdlQ2hhbmdlcy5wcm90b3R5cGUpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvcnRlZFNldC5wcm90b3R5cGUsXCJzaXplXCIsZ2VuZXJpY0NvbGxlY3Rpb24uX3NpemVQcm9wZXJ0eURlc2NyaXB0b3IpO1xuU29ydGVkU2V0LmZyb20gPSBnZW5lcmljQ29sbGVjdGlvbi5mcm9tO1xuXG5Tb3J0ZWRTZXQucHJvdG90eXBlLmlzU29ydGVkID0gdHJ1ZTtcblxuU29ydGVkU2V0LnByb3RvdHlwZS5jb25zdHJ1Y3RDbG9uZSA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoXG4gICAgICAgIHZhbHVlcyxcbiAgICAgICAgdGhpcy5jb250ZW50RXF1YWxzLFxuICAgICAgICB0aGlzLmNvbnRlbnRDb21wYXJlLFxuICAgICAgICB0aGlzLmdldERlZmF1bHRcbiAgICApO1xufTtcblxuU29ydGVkU2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAodmFsdWUsIGVxdWFscykge1xuICAgIGlmIChlcXVhbHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU29ydGVkU2V0I2hhcyBkb2VzIG5vdCBzdXBwb3J0IHNlY29uZCBhcmd1bWVudDogZXF1YWxzXCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5yb290KSB7XG4gICAgICAgIHRoaXMuc3BsYXkodmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50RXF1YWxzKHZhbHVlLCB0aGlzLnJvb3QudmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59O1xuXG5Tb3J0ZWRTZXQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh2YWx1ZSwgZXF1YWxzKSB7XG4gICAgaWYgKGVxdWFscykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTb3J0ZWRTZXQjZ2V0IGRvZXMgbm90IHN1cHBvcnQgc2Vjb25kIGFyZ3VtZW50OiBlcXVhbHNcIik7XG4gICAgfVxuICAgIGlmICh0aGlzLnJvb3QpIHtcbiAgICAgICAgdGhpcy5zcGxheSh2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnRFcXVhbHModmFsdWUsIHRoaXMucm9vdC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJvb3QudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0RGVmYXVsdCh2YWx1ZSk7XG59O1xuXG5Tb3J0ZWRTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciBub2RlID0gbmV3IHRoaXMuTm9kZSh2YWx1ZSk7XG4gICAgaWYgKHRoaXMucm9vdCkge1xuICAgICAgICB0aGlzLnNwbGF5KHZhbHVlKTtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRlbnRFcXVhbHModmFsdWUsIHRoaXMucm9vdC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhciBjb21wYXJpc29uID0gdGhpcy5jb250ZW50Q29tcGFyZSh2YWx1ZSwgdGhpcy5yb290LnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChjb21wYXJpc29uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU29ydGVkU2V0IGNhbm5vdCBjb250YWluIGluY29tcGFyYWJsZSBidXQgaW5lcXVhbCB2YWx1ZXM6IFwiICsgdmFsdWUgKyBcIiBhbmQgXCIgKyB0aGlzLnJvb3QudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hlc1JhbmdlQ2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hCZWZvcmVSYW5nZUNoYW5nZShbdmFsdWVdLCBbXSwgdGhpcy5yb290LmluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wYXJpc29uIDwgMCkge1xuICAgICAgICAgICAgICAgIC8vIHJvdGF0ZSByaWdodFxuICAgICAgICAgICAgICAgIC8vICAgUiAgICAgICAgTlxuICAgICAgICAgICAgICAgIC8vICAvIFxcICAtPiAgLyBcXFxuICAgICAgICAgICAgICAgIC8vIGwgICByICAgIGwgICBSXG4gICAgICAgICAgICAgICAgLy8gOiAgIDogICAgOiAgICBcXFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgbm9kZS5yaWdodCA9IHRoaXMucm9vdDtcbiAgICAgICAgICAgICAgICBub2RlLmxlZnQgPSB0aGlzLnJvb3QubGVmdDtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QubGVmdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5yb290LnRvdWNoKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHJvdGF0ZSBsZWZ0XG4gICAgICAgICAgICAgICAgLy8gICBSICAgICAgICBOXG4gICAgICAgICAgICAgICAgLy8gIC8gXFwgIC0+ICAvIFxcXG4gICAgICAgICAgICAgICAgLy8gbCAgIHIgICAgUiAgIHJcbiAgICAgICAgICAgICAgICAvLyA6ICAgOiAgIC8gICAgOlxuICAgICAgICAgICAgICAgIC8vICAgICAgICBsXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIDpcbiAgICAgICAgICAgICAgICBub2RlLmxlZnQgPSB0aGlzLnJvb3Q7XG4gICAgICAgICAgICAgICAgbm9kZS5yaWdodCA9IHRoaXMucm9vdC5yaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QucmlnaHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMucm9vdC50b3VjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZS50b3VjaCgpO1xuICAgICAgICAgICAgdGhpcy5yb290ID0gbm9kZTtcbiAgICAgICAgICAgIHRoaXMubGVuZ3RoKys7XG4gICAgICAgICAgICBpZiAodGhpcy5kaXNwYXRjaGVzUmFuZ2VDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaFJhbmdlQ2hhbmdlKFt2YWx1ZV0sIFtdLCB0aGlzLnJvb3QuaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5kaXNwYXRjaGVzUmFuZ2VDaGFuZ2VzKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoQmVmb3JlUmFuZ2VDaGFuZ2UoW3ZhbHVlXSwgW10sIDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucm9vdCA9IG5vZGU7XG4gICAgICAgIHRoaXMubGVuZ3RoKys7XG4gICAgICAgIGlmICh0aGlzLmRpc3BhdGNoZXNSYW5nZUNoYW5nZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hSYW5nZUNoYW5nZShbdmFsdWVdLCBbXSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cblNvcnRlZFNldC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24gKHZhbHVlLCBlcXVhbHMpIHtcbiAgICBpZiAoZXF1YWxzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNvcnRlZFNldCNkZWxldGUgZG9lcyBub3Qgc3VwcG9ydCBzZWNvbmQgYXJndW1lbnQ6IGVxdWFsc1wiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucm9vdCkge1xuICAgICAgICB0aGlzLnNwbGF5KHZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudEVxdWFscyh2YWx1ZSwgdGhpcy5yb290LnZhbHVlKSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5yb290LmluZGV4O1xuICAgICAgICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hlc1JhbmdlQ2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hCZWZvcmVSYW5nZUNoYW5nZShbXSwgW3ZhbHVlXSwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnJvb3QubGVmdCkge1xuICAgICAgICAgICAgICAgIHRoaXMucm9vdCA9IHRoaXMucm9vdC5yaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSByaWdodCBzaWRlIG9mIHRoZSB0cmVlLFxuICAgICAgICAgICAgICAgIHZhciByaWdodCA9IHRoaXMucm9vdC5yaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QgPSB0aGlzLnJvb3QubGVmdDtcbiAgICAgICAgICAgICAgICAvLyB0aGUgdHJlZSBub3cgb25seSBjb250YWlucyB0aGUgbGVmdCBzaWRlIG9mIHRoZSB0cmVlLCBzbyBhbGxcbiAgICAgICAgICAgICAgICAvLyB2YWx1ZXMgYXJlIGxlc3MgdGhhbiB0aGUgdmFsdWUgZGVsZXRlZC5cbiAgICAgICAgICAgICAgICAvLyBzcGxheSBzbyB0aGF0IHRoZSByb290IGhhcyBhbiBlbXB0eSByaWdodCBjaGlsZFxuICAgICAgICAgICAgICAgIHRoaXMuc3BsYXkodmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vIHB1dCB0aGUgcmlnaHQgc2lkZSBvZiB0aGUgdHJlZSBiYWNrXG4gICAgICAgICAgICAgICAgdGhpcy5yb290LnJpZ2h0ID0gcmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxlbmd0aC0tO1xuICAgICAgICAgICAgaWYgKHRoaXMucm9vdCkge1xuICAgICAgICAgICAgICAgIHRoaXMucm9vdC50b3VjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZGlzcGF0Y2hlc1JhbmdlQ2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hSYW5nZUNoYW5nZShbXSwgW3ZhbHVlXSwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuU29ydGVkU2V0LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgIGlmIChpbmRleCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTb3J0ZWRTZXQjaW5kZXhPZiBkb2VzIG5vdCBzdXBwb3J0IHNlY29uZCBhcmd1bWVudDogc3RhcnRJbmRleFwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucm9vdCkge1xuICAgICAgICB0aGlzLnNwbGF5KHZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudEVxdWFscyh2YWx1ZSwgdGhpcy5yb290LnZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5pbmRleDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59O1xuXG5Tb3J0ZWRTZXQucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAodmFsdWUsIGVxdWFscywgaW5kZXgpIHtcbiAgICBpZiAoZXF1YWxzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNvcnRlZFNldCNmaW5kIGRvZXMgbm90IHN1cHBvcnQgc2Vjb25kIGFyZ3VtZW50OiBlcXVhbHNcIik7XG4gICAgfVxuICAgIGlmIChpbmRleCkge1xuICAgICAgICAvLyBUT0RPIGNvbnRlbXBsYXRlIHVzaW5nIHNwbGF5SW5kZXggdG8gaXNvbGF0ZSBhIHN1YnRyZWUgaW5cbiAgICAgICAgLy8gd2hpY2ggdG8gc2VhcmNoLlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTb3J0ZWRTZXQjZmluZCBkb2VzIG5vdCBzdXBwb3J0IHRoaXJkIGFyZ3VtZW50OiBpbmRleFwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucm9vdCkge1xuICAgICAgICB0aGlzLnNwbGF5KHZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudEVxdWFscyh2YWx1ZSwgdGhpcy5yb290LnZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm9vdDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblNvcnRlZFNldC5wcm90b3R5cGUuZmluZEdyZWF0ZXN0ID0gZnVuY3Rpb24gKGF0KSB7XG4gICAgaWYgKHRoaXMucm9vdCkge1xuICAgICAgICBhdCA9IGF0IHx8IHRoaXMucm9vdDtcbiAgICAgICAgd2hpbGUgKGF0LnJpZ2h0KSB7XG4gICAgICAgICAgICBhdCA9IGF0LnJpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdDtcbiAgICB9XG59O1xuXG5Tb3J0ZWRTZXQucHJvdG90eXBlLmZpbmRMZWFzdCA9IGZ1bmN0aW9uIChhdCkge1xuICAgIGlmICh0aGlzLnJvb3QpIHtcbiAgICAgICAgYXQgPSBhdCB8fCB0aGlzLnJvb3Q7XG4gICAgICAgIHdoaWxlIChhdC5sZWZ0KSB7XG4gICAgICAgICAgICBhdCA9IGF0LmxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF0O1xuICAgIH1cbn07XG5cblNvcnRlZFNldC5wcm90b3R5cGUuZmluZEdyZWF0ZXN0TGVzc1RoYW5PckVxdWFsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMucm9vdCkge1xuICAgICAgICB0aGlzLnNwbGF5KHZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudENvbXBhcmUodGhpcy5yb290LnZhbHVlLCB2YWx1ZSkgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb290LmdldFByZXZpb3VzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb290O1xuICAgICAgICB9XG4gICAgfVxufTtcblxuU29ydGVkU2V0LnByb3RvdHlwZS5maW5kR3JlYXRlc3RMZXNzVGhhbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh0aGlzLnJvb3QpIHtcbiAgICAgICAgdGhpcy5zcGxheSh2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnRDb21wYXJlKHRoaXMucm9vdC52YWx1ZSwgdmFsdWUpID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJvb3QuZ2V0UHJldmlvdXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJvb3Q7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5Tb3J0ZWRTZXQucHJvdG90eXBlLmZpbmRMZWFzdEdyZWF0ZXJUaGFuT3JFcXVhbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh0aGlzLnJvb3QpIHtcbiAgICAgICAgdGhpcy5zcGxheSh2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnRDb21wYXJlKHRoaXMucm9vdC52YWx1ZSwgdmFsdWUpID49IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJvb3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb290LmdldE5leHQoKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblNvcnRlZFNldC5wcm90b3R5cGUuZmluZExlYXN0R3JlYXRlclRoYW4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAodGhpcy5yb290KSB7XG4gICAgICAgIHRoaXMuc3BsYXkodmFsdWUpO1xuICAgICAgICBpZiAodGhpcy5jb250ZW50Q29tcGFyZSh0aGlzLnJvb3QudmFsdWUsIHZhbHVlKSA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb290LmdldE5leHQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJvb3Q7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5Tb3J0ZWRTZXQucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5yb290KSB7XG4gICAgICAgIHZhciBmb3VuZCA9IHRoaXMuZmluZEdyZWF0ZXN0KCk7XG4gICAgICAgIHRoaXNbXCJkZWxldGVcIl0oZm91bmQudmFsdWUpO1xuICAgICAgICByZXR1cm4gZm91bmQudmFsdWU7XG4gICAgfVxufTtcblxuU29ydGVkU2V0LnByb3RvdHlwZS5zaGlmdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5yb290KSB7XG4gICAgICAgIHZhciBmb3VuZCA9IHRoaXMuZmluZExlYXN0KCk7XG4gICAgICAgIHRoaXNbXCJkZWxldGVcIl0oZm91bmQudmFsdWUpO1xuICAgICAgICByZXR1cm4gZm91bmQudmFsdWU7XG4gICAgfVxufTtcblxuU29ydGVkU2V0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYWRkRWFjaChhcmd1bWVudHMpO1xufTtcblxuU29ydGVkU2V0LnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYWRkRWFjaChhcmd1bWVudHMpO1xufTtcblxuU29ydGVkU2V0LnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gICAgc3RhcnQgPSBzdGFydCB8fCAwO1xuICAgIGVuZCA9IGVuZCB8fCB0aGlzLmxlbmd0aDtcbiAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgIHN0YXJ0ICs9IHRoaXMubGVuZ3RoO1xuICAgIH1cbiAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gdGhpcy5sZW5ndGg7XG4gICAgfVxuICAgIHZhciBzbGljZWQgPSBbXTtcbiAgICBpZiAodGhpcy5yb290KSB7XG4gICAgICAgIHRoaXMuc3BsYXlJbmRleChzdGFydCk7XG4gICAgICAgIHdoaWxlICh0aGlzLnJvb3QuaW5kZXggPCBlbmQpIHtcbiAgICAgICAgICAgIHNsaWNlZC5wdXNoKHRoaXMucm9vdC52YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMucm9vdC5yaWdodCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zcGxheSh0aGlzLnJvb3QuZ2V0TmV4dCgpLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2xpY2VkO1xufTtcblxuU29ydGVkU2V0LnByb3RvdHlwZS5zcGxpY2UgPSBmdW5jdGlvbiAoYXQsIGxlbmd0aCAvKi4uLnBsdXMqLykge1xuICAgIHJldHVybiB0aGlzLnN3YXAoYXQsIGxlbmd0aCwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSk7XG59O1xuXG5Tb3J0ZWRTZXQucHJvdG90eXBlLnN3YXAgPSBmdW5jdGlvbiAoc3RhcnQsIGxlbmd0aCwgcGx1cykge1xuICAgIGlmIChzdGFydCA9PT0gdW5kZWZpbmVkICYmIGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgc3RhcnQgPSBzdGFydCB8fCAwO1xuICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgKz0gdGhpcy5sZW5ndGg7XG4gICAgfVxuICAgIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsZW5ndGggPSBJbmZpbml0eTtcbiAgICB9XG4gICAgdmFyIHN3YXBwZWQgPSBbXTtcblxuICAgIGlmICh0aGlzLnJvb3QpIHtcblxuICAgICAgICAvLyBzdGFydFxuICAgICAgICB0aGlzLnNwbGF5SW5kZXgoc3RhcnQpO1xuXG4gICAgICAgIC8vIG1pbnVzIGxlbmd0aFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzd2FwcGVkLnB1c2godGhpcy5yb290LnZhbHVlKTtcbiAgICAgICAgICAgIHZhciBuZXh0ID0gdGhpcy5yb290LmdldE5leHQoKTtcbiAgICAgICAgICAgIHRoaXNbXCJkZWxldGVcIl0odGhpcy5yb290LnZhbHVlKTtcbiAgICAgICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zcGxheShuZXh0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHBsdXNcbiAgICB0aGlzLmFkZEVhY2gocGx1cyk7XG5cbiAgICByZXR1cm4gc3dhcHBlZDtcbn07XG5cbi8vIFRoaXMgaXMgdGhlIHNpbXBsaWZpZWQgdG9wLWRvd24gc3BsYXlpbmcgYWxnb3JpdGhtIGZyb206IFwiU2VsZi1hZGp1c3Rpbmdcbi8vIEJpbmFyeSBTZWFyY2ggVHJlZXNcIiBieSBTbGVhdG9yIGFuZCBUYXJqYW4uIEd1YXJhbnRlZXMgdGhhdCByb290LnZhbHVlXG4vLyBlcXVhbHMgdmFsdWUgaWYgdmFsdWUgZXhpc3RzLiBJZiB2YWx1ZSBkb2VzIG5vdCBleGlzdCwgdGhlbiByb290IHdpbGwgYmVcbi8vIHRoZSBub2RlIHdob3NlIHZhbHVlIGVpdGhlciBpbW1lZGlhdGVseSBwcmVjZWVkcyBvciBpbW1lZGlhdGVseSBmb2xsb3dzIHZhbHVlLlxuLy8gLSBhcyBkZXNjcmliZWQgaW4gaHR0cHM6Ly9naXRodWIuY29tL2hpajFueC9mb3Jlc3RcblNvcnRlZFNldC5wcm90b3R5cGUuc3BsYXkgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgc3R1YiwgbGVmdCwgcmlnaHQsIHRlbXAsIHJvb3QsIGhpc3Rvcnk7XG5cbiAgICBpZiAoIXRoaXMucm9vdCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgc3R1YiBub2RlLiAgVGhlIHVzZSBvZiB0aGUgc3R1YiBub2RlIGlzIGEgYml0XG4gICAgLy8gY291bnRlci1pbnR1aXRpdmU6IFRoZSByaWdodCBjaGlsZCBvZiB0aGUgc3R1YiBub2RlIHdpbGwgaG9sZCB0aGUgTCB0cmVlXG4gICAgLy8gb2YgdGhlIGFsZ29yaXRobS4gIFRoZSBsZWZ0IGNoaWxkIG9mIHRoZSBzdHViIG5vZGUgd2lsbCBob2xkIHRoZSBSIHRyZWVcbiAgICAvLyBvZiB0aGUgYWxnb3JpdGhtLiAgVXNpbmcgYSBzdHViIG5vZGUsIGxlZnQgYW5kIHJpZ2h0IHdpbGwgYWx3YXlzIGJlXG4gICAgLy8gbm9kZXMgYW5kIHdlIGF2b2lkIHNwZWNpYWwgY2FzZXMuXG4gICAgLy8gLSBodHRwOi8vY29kZS5nb29nbGUuY29tL3Avdjgvc291cmNlL2Jyb3dzZS9icmFuY2hlcy9ibGVlZGluZ19lZGdlL3NyYy9zcGxheS10cmVlLWlubC5oXG4gICAgc3R1YiA9IGxlZnQgPSByaWdodCA9IG5ldyB0aGlzLk5vZGUoKTtcbiAgICAvLyBUaGUgaGlzdG9yeSBpcyBhbiB1cHNpZGUgZG93biB0cmVlIHVzZWQgdG8gcHJvcGFnYXRlIG5ldyB0cmVlIHNpemVzIGJhY2tcbiAgICAvLyB1cCB0aGUgbGVmdCBhbmQgcmlnaHQgYXJtcyBvZiBhIHRyYXZlcnNhbC4gIFRoZSByaWdodCBjaGlsZHJlbiBvZiB0aGVcbiAgICAvLyB0cmFuc2l0aXZlIGxlZnQgc2lkZSBvZiB0aGUgdHJlZSB3aWxsIGJlIGZvcm1lciByb290cyB3aGlsZSBsaW5raW5nXG4gICAgLy8gbGVmdC4gIFRoZSBsZWZ0IGNoaWxkcmVuIG9mIHRoZSB0cmFuc2l0aXZlIHdhbGsgdG8gdGhlIHJpZ2h0IHNpZGUgb2YgdGhlXG4gICAgLy8gaGlzdG9yeSB0cmVlIHdpbGwgYWxsIGJlIHByZXZpb3VzIHJvb3RzIGZyb20gbGlua2luZyByaWdodC4gIFRoZSBsYXN0XG4gICAgLy8gbm9kZSBvZiB0aGUgbGVmdCBhbmQgcmlnaHQgdHJhdmVyc2FsIHdpbGwgZWFjaCBiZWNvbWUgYSBjaGlsZCBvZiB0aGUgbmV3XG4gICAgLy8gcm9vdC5cbiAgICBoaXN0b3J5ID0gbmV3IHRoaXMuTm9kZSgpO1xuICAgIHJvb3QgPSB0aGlzLnJvb3Q7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgY29tcGFyaXNvbiA9IHRoaXMuY29udGVudENvbXBhcmUodmFsdWUsIHJvb3QudmFsdWUpO1xuICAgICAgICBpZiAoY29tcGFyaXNvbiA8IDApIHtcbiAgICAgICAgICAgIGlmIChyb290LmxlZnQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250ZW50Q29tcGFyZSh2YWx1ZSwgcm9vdC5sZWZ0LnZhbHVlKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcm90YXRlIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICBSb290ICAgICAgICAgTCh0ZW1wKVxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgIC8gICAgIFxcICAgICAgIC8gXFxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIEwodGVtcCkgUiAgICBMTCAgICBSb290XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIC8gXFwgICAgICAgICAgICAgICAgLyAgICBcXFxuICAgICAgICAgICAgICAgICAgICAvLyAgTEwgICBMUiAgICAgICAgICAgIExSICAgICAgUlxuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gcm9vdC5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICByb290LmxlZnQgPSB0ZW1wLnJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICByb290LnRvdWNoKCk7XG4gICAgICAgICAgICAgICAgICAgIHRlbXAucmlnaHQgPSByb290O1xuICAgICAgICAgICAgICAgICAgICB0ZW1wLnRvdWNoKCk7XG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPSB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJvb3QubGVmdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmVtZW1iZXIgZm9ybWVyIHJvb3QgZm9yIHJlcHJvcGFnYXRpbmcgbGVuZ3RoXG4gICAgICAgICAgICAgICAgdGVtcCA9IG5ldyBOb2RlJDEoKTtcbiAgICAgICAgICAgICAgICB0ZW1wLnJpZ2h0ID0gcm9vdDtcbiAgICAgICAgICAgICAgICB0ZW1wLmxlZnQgPSBoaXN0b3J5LmxlZnQ7XG4gICAgICAgICAgICAgICAgaGlzdG9yeS5sZWZ0ID0gdGVtcDtcbiAgICAgICAgICAgICAgICAvLyBsaW5rIGxlZnRcbiAgICAgICAgICAgICAgICByaWdodC5sZWZ0ID0gcm9vdDtcbiAgICAgICAgICAgICAgICByaWdodC50b3VjaCgpO1xuICAgICAgICAgICAgICAgIHJpZ2h0ID0gcm9vdDtcbiAgICAgICAgICAgICAgICByb290ID0gcm9vdC5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjb21wYXJpc29uID4gMCkge1xuICAgICAgICAgICAgaWYgKHJvb3QucmlnaHQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250ZW50Q29tcGFyZSh2YWx1ZSwgcm9vdC5yaWdodC52YWx1ZSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJvdGF0ZSBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICBSb290ICAgICAgICAgTCh0ZW1wKVxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgIC8gICAgIFxcICAgICAgIC8gXFxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIEwodGVtcCkgUiAgICBMTCAgICBSb290XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIC8gXFwgICAgICAgICAgICAgICAgLyAgICBcXFxuICAgICAgICAgICAgICAgICAgICAvLyAgTEwgICBMUiAgICAgICAgICAgIExSICAgICAgUlxuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gcm9vdC5yaWdodDtcbiAgICAgICAgICAgICAgICAgICAgcm9vdC5yaWdodCA9IHRlbXAubGVmdDtcbiAgICAgICAgICAgICAgICAgICAgcm9vdC50b3VjaCgpO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wLmxlZnQgPSByb290O1xuICAgICAgICAgICAgICAgICAgICB0ZW1wLnRvdWNoKCk7XG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPSB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJvb3QucmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJlbWVtYmVyIGZvcm1lciByb290IGZvciByZXByb3BhZ2F0aW5nIGxlbmd0aFxuICAgICAgICAgICAgICAgIHRlbXAgPSBuZXcgTm9kZSQxKCk7XG4gICAgICAgICAgICAgICAgdGVtcC5sZWZ0ID0gcm9vdDtcbiAgICAgICAgICAgICAgICB0ZW1wLnJpZ2h0ID0gaGlzdG9yeS5yaWdodDtcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnJpZ2h0ID0gdGVtcDtcbiAgICAgICAgICAgICAgICAvLyBsaW5rIHJpZ2h0XG4gICAgICAgICAgICAgICAgbGVmdC5yaWdodCA9IHJvb3Q7XG4gICAgICAgICAgICAgICAgbGVmdC50b3VjaCgpO1xuICAgICAgICAgICAgICAgIGxlZnQgPSByb290O1xuICAgICAgICAgICAgICAgIHJvb3QgPSByb290LnJpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHsgLy8gZXF1YWwgb3IgaW5jb21wYXJhYmxlXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHJlYXNzZW1ibGVcbiAgICBsZWZ0LnJpZ2h0ID0gcm9vdC5sZWZ0O1xuICAgIGxlZnQudG91Y2goKTtcbiAgICByaWdodC5sZWZ0ID0gcm9vdC5yaWdodDtcbiAgICByaWdodC50b3VjaCgpO1xuICAgIHJvb3QubGVmdCA9IHN0dWIucmlnaHQ7XG4gICAgcm9vdC5yaWdodCA9IHN0dWIubGVmdDtcblxuICAgIC8vIHByb3BhZ2F0ZSBuZXcgbGVuZ3Roc1xuICAgIHdoaWxlIChoaXN0b3J5LmxlZnQpIHtcbiAgICAgICAgaGlzdG9yeS5sZWZ0LnJpZ2h0LnRvdWNoKCk7XG4gICAgICAgIGhpc3RvcnkubGVmdCA9IGhpc3RvcnkubGVmdC5sZWZ0O1xuICAgIH1cbiAgICB3aGlsZSAoaGlzdG9yeS5yaWdodCkge1xuICAgICAgICBoaXN0b3J5LnJpZ2h0LmxlZnQudG91Y2goKTtcbiAgICAgICAgaGlzdG9yeS5yaWdodCA9IGhpc3RvcnkucmlnaHQucmlnaHQ7XG4gICAgfVxuICAgIHJvb3QudG91Y2goKTtcblxuICAgIHRoaXMucm9vdCA9IHJvb3Q7XG59O1xuXG4vLyBhbiBpbnRlcm5hbCB1dGlsaXR5IGZvciBzcGxheWluZyBhIG5vZGUgYmFzZWQgb24gaXRzIGluZGV4XG5Tb3J0ZWRTZXQucHJvdG90eXBlLnNwbGF5SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICBpZiAodGhpcy5yb290KSB7XG4gICAgICAgIHZhciBhdCA9IHRoaXMucm9vdDtcbiAgICAgICAgdmFyIGF0SW5kZXggPSB0aGlzLnJvb3QuaW5kZXg7XG5cbiAgICAgICAgd2hpbGUgKGF0SW5kZXggIT09IGluZGV4KSB7XG4gICAgICAgICAgICBpZiAoYXRJbmRleCA+IGluZGV4ICYmIGF0LmxlZnQpIHtcbiAgICAgICAgICAgICAgICBhdCA9IGF0LmxlZnQ7XG4gICAgICAgICAgICAgICAgYXRJbmRleCAtPSAxICsgKGF0LnJpZ2h0ID8gYXQucmlnaHQubGVuZ3RoIDogMCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF0SW5kZXggPCBpbmRleCAmJiBhdC5yaWdodCkge1xuICAgICAgICAgICAgICAgIGF0ID0gYXQucmlnaHQ7XG4gICAgICAgICAgICAgICAgYXRJbmRleCArPSAxICsgKGF0LmxlZnQgPyBhdC5sZWZ0Lmxlbmd0aCA6IDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3BsYXkoYXQudmFsdWUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnJvb3QuaW5kZXggPT09IGluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG5Tb3J0ZWRTZXQucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uIChjYWxsYmFjaywgYmFzaXMsIHRoaXNwKSB7XG4gICAgaWYgKHRoaXMucm9vdCkge1xuICAgICAgICBiYXNpcyA9IHRoaXMucm9vdC5yZWR1Y2UoY2FsbGJhY2ssIGJhc2lzLCAwLCB0aGlzcCwgdGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBiYXNpcztcbn07XG5cblNvcnRlZFNldC5wcm90b3R5cGUucmVkdWNlUmlnaHQgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGJhc2lzLCB0aGlzcCkge1xuICAgIGlmICh0aGlzLnJvb3QpIHtcbiAgICAgICAgYmFzaXMgPSB0aGlzLnJvb3QucmVkdWNlUmlnaHQoY2FsbGJhY2ssIGJhc2lzLCB0aGlzLmxlbmd0aCAtIDEsIHRoaXNwLCB0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2lzO1xufTtcblxuU29ydGVkU2V0LnByb3RvdHlwZS5taW4gPSBmdW5jdGlvbiAoYXQpIHtcbiAgICB2YXIgbGVhc3QgPSB0aGlzLmZpbmRMZWFzdChhdCk7XG4gICAgaWYgKGxlYXN0KSB7XG4gICAgICAgIHJldHVybiBsZWFzdC52YWx1ZTtcbiAgICB9XG59O1xuXG5Tb3J0ZWRTZXQucHJvdG90eXBlLm1heCA9IGZ1bmN0aW9uIChhdCkge1xuICAgIHZhciBncmVhdGVzdCA9IHRoaXMuZmluZEdyZWF0ZXN0KGF0KTtcbiAgICBpZiAoZ3JlYXRlc3QpIHtcbiAgICAgICAgcmV0dXJuIGdyZWF0ZXN0LnZhbHVlO1xuICAgIH1cbn07XG5cblNvcnRlZFNldC5wcm90b3R5cGUub25lID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbigpO1xufTtcblxuU29ydGVkU2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbWludXM7XG4gICAgaWYgKHRoaXMuZGlzcGF0Y2hlc1JhbmdlQ2hhbmdlcykge1xuICAgICAgICBtaW51cyA9IHRoaXMudG9BcnJheSgpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoQmVmb3JlUmFuZ2VDaGFuZ2UoW10sIG1pbnVzLCAwKTtcbiAgICB9XG4gICAgdGhpcy5yb290ID0gbnVsbDtcbiAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgaWYgKHRoaXMuZGlzcGF0Y2hlc1JhbmdlQ2hhbmdlcykge1xuICAgICAgICB0aGlzLmRpc3BhdGNoUmFuZ2VDaGFuZ2UoW10sIG1pbnVzLCAwKTtcbiAgICB9XG59O1xuXG5Tb3J0ZWRTZXQucHJvdG90eXBlLml0ZXJhdGUgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiBuZXcgdGhpcy5JdGVyYXRvcih0aGlzLCBzdGFydCwgZW5kKTtcbn07XG5cblNvcnRlZFNldC5wcm90b3R5cGUuSXRlcmF0b3IgPSBJdGVyYXRvciQxO1xuXG5Tb3J0ZWRTZXQucHJvdG90eXBlLnN1bW1hcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucm9vdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290LnN1bW1hcnkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gXCIoKVwiO1xuICAgIH1cbn07XG5cblNvcnRlZFNldC5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGNoYXJtYXAsIGxvZ05vZGUsIGNhbGxiYWNrLCB0aGlzcCkge1xuICAgIGNoYXJtYXAgPSBjaGFybWFwIHx8IHRyZWVMb2cudW5pY29kZVJvdW5kO1xuICAgIGxvZ05vZGUgPSBsb2dOb2RlIHx8IHRoaXMubG9nTm9kZTtcbiAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gY29uc29sZS5sb2c7XG4gICAgICAgIHRoaXNwID0gY29uc29sZTtcbiAgICB9XG4gICAgY2FsbGJhY2sgPSBjYWxsYmFjay5iaW5kKHRoaXNwKTtcbiAgICBpZiAodGhpcy5yb290KSB7XG4gICAgICAgIHRoaXMucm9vdC5sb2coY2hhcm1hcCwgbG9nTm9kZSwgY2FsbGJhY2ssIGNhbGxiYWNrKTtcbiAgICB9XG59O1xuXG5Tb3J0ZWRTZXQucHJvdG90eXBlLmxvZ05vZGUgPSBmdW5jdGlvbiAobm9kZSwgbG9nLCBsb2dCZWZvcmUpIHtcbiAgICBsb2coXCIgXCIgKyBub2RlLnZhbHVlKTtcbn07XG5cblNvcnRlZFNldC5sb2dDaGFyc2V0cyA9IHRyZWVMb2c7XG5cblNvcnRlZFNldC5wcm90b3R5cGUuTm9kZSA9IE5vZGUkMTtcblxuZnVuY3Rpb24gTm9kZSQxKHZhbHVlKSB7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMubGVmdCA9IG51bGw7XG4gICAgdGhpcy5yaWdodCA9IG51bGw7XG4gICAgdGhpcy5sZW5ndGggPSAxO1xufVxuXG4vLyBUT0RPIGNhc2Ugd2hlcmUgbm8gYmFzaXMgaXMgcHJvdmlkZWQgZm9yIHJlZHVjdGlvblxuXG5Ob2RlJDEucHJvdG90eXBlLnJlZHVjZSA9IGZ1bmN0aW9uIChjYWxsYmFjaywgYmFzaXMsIGluZGV4LCB0aGlzcCwgdHJlZSwgZGVwdGgpIHtcbiAgICBkZXB0aCA9IGRlcHRoIHx8IDA7XG4gICAgaWYgKHRoaXMubGVmdCkge1xuICAgICAgICAvLyBwcmVyZWNvcmQgbGVuZ3RoIHRvIGJlIHJlc2lzdGFudCB0byBtdXRhdGlvblxuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5sZWZ0Lmxlbmd0aDtcbiAgICAgICAgYmFzaXMgPSB0aGlzLmxlZnQucmVkdWNlKGNhbGxiYWNrLCBiYXNpcywgaW5kZXgsIHRoaXNwLCB0cmVlLCBkZXB0aCArIDEpO1xuICAgICAgICBpbmRleCArPSBsZW5ndGg7XG4gICAgfVxuICAgIGJhc2lzID0gY2FsbGJhY2suY2FsbCh0aGlzcCwgYmFzaXMsIHRoaXMudmFsdWUsIGluZGV4LCB0cmVlLCB0aGlzLCBkZXB0aCk7XG4gICAgaW5kZXggKz0gMTtcbiAgICBpZiAodGhpcy5yaWdodCkge1xuICAgICAgICBiYXNpcyA9IHRoaXMucmlnaHQucmVkdWNlKGNhbGxiYWNrLCBiYXNpcywgaW5kZXgsIHRoaXNwLCB0cmVlLCBkZXB0aCArIDEpO1xuICAgIH1cbiAgICByZXR1cm4gYmFzaXM7XG59O1xuXG5Ob2RlJDEucHJvdG90eXBlLnJlZHVjZVJpZ2h0ID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBiYXNpcywgaW5kZXgsIHRoaXNwLCB0cmVlLCBkZXB0aCkge1xuICAgIGRlcHRoID0gZGVwdGggfHwgMDtcbiAgICBpZiAodGhpcy5yaWdodCkge1xuICAgICAgICBiYXNpcyA9IHRoaXMucmlnaHQucmVkdWNlUmlnaHQoY2FsbGJhY2ssIGJhc2lzLCBpbmRleCwgdGhpc3AsIHRyZWUsIGRlcHRoICsgMSk7XG4gICAgICAgIGluZGV4IC09IHRoaXMucmlnaHQubGVuZ3RoO1xuICAgIH1cbiAgICBiYXNpcyA9IGNhbGxiYWNrLmNhbGwodGhpc3AsIGJhc2lzLCB0aGlzLnZhbHVlLCB0aGlzLnZhbHVlLCB0cmVlLCB0aGlzLCBkZXB0aCk7XG4gICAgaW5kZXggLT0gMTtcbiAgICBpZiAodGhpcy5sZWZ0KSB7XG4gICAgICAgIGJhc2lzID0gdGhpcy5sZWZ0LnJlZHVjZVJpZ2h0KGNhbGxiYWNrLCBiYXNpcywgaW5kZXgsIHRoaXNwLCB0cmVlLCBkZXB0aCArIDEpO1xuICAgIH1cbiAgICByZXR1cm4gYmFzaXM7XG59O1xuXG5Ob2RlJDEucHJvdG90eXBlLnRvdWNoID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubGVuZ3RoID0gMSArXG4gICAgICAgICh0aGlzLmxlZnQgPyB0aGlzLmxlZnQubGVuZ3RoIDogMCkgK1xuICAgICAgICAodGhpcy5yaWdodCA/IHRoaXMucmlnaHQubGVuZ3RoIDogMCk7XG4gICAgdGhpcy5pbmRleCA9IHRoaXMubGVmdCA/IHRoaXMubGVmdC5sZW5ndGggOiAwO1xufTtcblxuTm9kZSQxLnByb3RvdHlwZS5jaGVja0ludGVncml0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbGVuZ3RoID0gMTtcbiAgICBsZW5ndGggKz0gdGhpcy5sZWZ0ID8gdGhpcy5sZWZ0LmNoZWNrSW50ZWdyaXR5KCkgOiAwO1xuICAgIGxlbmd0aCArPSB0aGlzLnJpZ2h0ID8gdGhpcy5yaWdodC5jaGVja0ludGVncml0eSgpIDogMDtcbiAgICBpZiAodGhpcy5sZW5ndGggIT09IGxlbmd0aClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW50ZWdyaXR5IGNoZWNrIGZhaWxlZDogXCIgKyB0aGlzLnN1bW1hcnkoKSk7XG4gICAgcmV0dXJuIGxlbmd0aDtcbn07XG5cbi8vIGdldCB0aGUgbmV4dCBub2RlIGluIHRoaXMgc3VidHJlZVxuTm9kZSQxLnByb3RvdHlwZS5nZXROZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBub2RlID0gdGhpcztcbiAgICBpZiAobm9kZS5yaWdodCkge1xuICAgICAgICBub2RlID0gbm9kZS5yaWdodDtcbiAgICAgICAgd2hpbGUgKG5vZGUubGVmdCkge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUubGVmdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG59O1xuXG4vLyBnZXQgdGhlIHByZXZpb3VzIG5vZGUgaW4gdGhpcyBzdWJ0cmVlXG5Ob2RlJDEucHJvdG90eXBlLmdldFByZXZpb3VzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBub2RlID0gdGhpcztcbiAgICBpZiAobm9kZS5sZWZ0KSB7XG4gICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgIHdoaWxlIChub2RlLnJpZ2h0KSB7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5yaWdodDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG59O1xuXG5Ob2RlJDEucHJvdG90eXBlLnN1bW1hcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSB8fCBcIi1cIjtcbiAgICB2YWx1ZSArPSBcIiA8XCIgKyB0aGlzLmxlbmd0aDtcbiAgICBpZiAoIXRoaXMubGVmdCAmJiAhdGhpcy5yaWdodCkge1xuICAgICAgICByZXR1cm4gXCIoXCIgKyB2YWx1ZSArIFwiKVwiO1xuICAgIH1cbiAgICByZXR1cm4gXCIoXCIgKyB2YWx1ZSArIFwiIFwiICsgKFxuICAgICAgICB0aGlzLmxlZnQgPyB0aGlzLmxlZnQuc3VtbWFyeSgpIDogXCIoKVwiXG4gICAgKSArIFwiLCBcIiArIChcbiAgICAgICAgdGhpcy5yaWdodCA/IHRoaXMucmlnaHQuc3VtbWFyeSgpIDogXCIoKVwiXG4gICAgKSArIFwiKVwiO1xufTtcblxuTm9kZSQxLnByb3RvdHlwZS5sb2cgPSBmdW5jdGlvbiAoY2hhcm1hcCwgbG9nTm9kZSwgbG9nLCBsb2dBYm92ZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBicmFuY2g7XG4gICAgaWYgKHRoaXMubGVmdCAmJiB0aGlzLnJpZ2h0KSB7XG4gICAgICAgIGJyYW5jaCA9IGNoYXJtYXAuaW50ZXJzZWN0aW9uO1xuICAgIH0gZWxzZSBpZiAodGhpcy5sZWZ0KSB7XG4gICAgICAgIGJyYW5jaCA9IGNoYXJtYXAuYnJhbmNoVXA7XG4gICAgfSBlbHNlIGlmICh0aGlzLnJpZ2h0KSB7XG4gICAgICAgIGJyYW5jaCA9IGNoYXJtYXAuYnJhbmNoRG93bjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBicmFuY2ggPSBjaGFybWFwLnRocm91Z2g7XG4gICAgfVxuXG4gICAgdmFyIGxvZ2dlZEFib3ZlO1xuICAgIHRoaXMubGVmdCAmJiB0aGlzLmxlZnQubG9nKFxuICAgICAgICBjaGFybWFwLFxuICAgICAgICBsb2dOb2RlLFxuICAgICAgICBmdW5jdGlvbiBpbm5lcldyaXRlKGxpbmUpIHtcbiAgICAgICAgICAgIGlmICghbG9nZ2VkQWJvdmUpIHtcbiAgICAgICAgICAgICAgICBsb2dnZWRBYm92ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gbGVhZGVyXG4gICAgICAgICAgICAgICAgbG9nQWJvdmUoY2hhcm1hcC5mcm9tQmVsb3cgKyBjaGFybWFwLnRocm91Z2ggKyBsaW5lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYmVsb3dcbiAgICAgICAgICAgICAgICBsb2dBYm92ZShjaGFybWFwLnN0cmFmZSArIFwiIFwiICsgbGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIGlubmVyV3JpdGVBYm92ZShsaW5lKSB7XG4gICAgICAgICAgICAvLyBhYm92ZVxuICAgICAgICAgICAgbG9nQWJvdmUoXCIgIFwiICsgbGluZSk7XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgdmFyIGxvZ2dlZE9uO1xuICAgIGxvZ05vZGUoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIGZ1bmN0aW9uIGlubmVyV3JpdGUobGluZSkge1xuICAgICAgICAgICAgaWYgKCFsb2dnZWRPbikge1xuICAgICAgICAgICAgICAgIGxvZ2dlZE9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsb2coYnJhbmNoICsgbGluZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZygoc2VsZi5yaWdodCA/IGNoYXJtYXAuc3RyYWZlIDogXCIgXCIpICsgbGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIGlubmVyV3JpdGVBYm92ZShsaW5lKSB7XG4gICAgICAgICAgICBsb2dBYm92ZSgoc2VsZi5sZWZ0ID8gY2hhcm1hcC5zdHJhZmUgOiBcIiBcIikgKyBsaW5lKTtcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICB2YXIgbG9nZ2VkQmVsb3c7XG4gICAgdGhpcy5yaWdodCAmJiB0aGlzLnJpZ2h0LmxvZyhcbiAgICAgICAgY2hhcm1hcCxcbiAgICAgICAgbG9nTm9kZSxcbiAgICAgICAgZnVuY3Rpb24gaW5uZXJXcml0ZShsaW5lKSB7XG4gICAgICAgICAgICBpZiAoIWxvZ2dlZEJlbG93KSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VkQmVsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxvZyhjaGFybWFwLmZyb21BYm92ZSArIGNoYXJtYXAudGhyb3VnaCArIGxpbmUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2coXCIgIFwiICsgbGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIGlubmVyV3JpdGVBYm92ZShsaW5lKSB7XG4gICAgICAgICAgICBsb2coY2hhcm1hcC5zdHJhZmUgKyBcIiBcIiArIGxpbmUpO1xuICAgICAgICB9XG4gICAgKTtcbn07XG5cbmZ1bmN0aW9uIEl0ZXJhdG9yJDEoc2V0LCBzdGFydCwgZW5kKSB7XG4gICAgdGhpcy5zZXQgPSBzZXQ7XG4gICAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgICB0aGlzLmVuZCA9IGVuZDtcbiAgICBpZiAoc3RhcnQpIHtcbiAgICAgICAgdmFyIG5leHQgPSB0aGlzLnNldC5maW5kTGVhc3RHcmVhdGVyVGhhbk9yRXF1YWwoc3RhcnQpO1xuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgdGhpcy5zZXQuc3BsYXkobmV4dC52YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLnByZXYgPSBuZXh0LmdldFByZXZpb3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5JdGVyYXRvciQxLnByb3RvdHlwZS5fX2l0ZXJhdGlvbk9iamVjdCA9IG51bGw7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoSXRlcmF0b3IkMS5wcm90b3R5cGUsXCJfaXRlcmF0aW9uT2JqZWN0XCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdGlvbk9iamVjdCB8fCAodGhpcy5fX2l0ZXJhdGlvbk9iamVjdCA9IHsgZG9uZTogZmFsc2UsIHZhbHVlOm51bGx9KTtcbiAgICB9XG59KTtcblxuSXRlcmF0b3IkMS5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbmV4dDtcbiAgICBpZiAodGhpcy5wcmV2KSB7XG4gICAgICAgIG5leHQgPSB0aGlzLnNldC5maW5kTGVhc3RHcmVhdGVyVGhhbih0aGlzLnByZXYudmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHQgPSB0aGlzLnNldC5maW5kTGVhc3QoKTtcbiAgICB9XG4gICAgaWYgKCFuZXh0KSB7XG4gICAgICAgIHRoaXMuX2l0ZXJhdGlvbk9iamVjdC5kb25lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faXRlcmF0aW9uT2JqZWN0LnZhbHVlID0gdm9pZCAwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5lbmQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgdGhpcy5zZXQuY29udGVudENvbXBhcmUobmV4dC52YWx1ZSwgdGhpcy5lbmQpID49IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYXRpb25PYmplY3QuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYXRpb25PYmplY3QudmFsdWUgPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnByZXYgPSBuZXh0O1xuICAgICAgICAgICAgdGhpcy5faXRlcmF0aW9uT2JqZWN0LnZhbHVlID0gIG5leHQudmFsdWU7XG4gICAgICAgIH1cblxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5faXRlcmF0aW9uT2JqZWN0O1xufTtcblxubGV0IGlkID0gMDtcblxuY29uc3QgQm94JDIgPSBmb3VuZGF0aW9uLkJveDtcbmNvbnN0IFBvaW50JDIgPSBmb3VuZGF0aW9uLlBvaW50O1xuY29uc3QgUmFuZ2UkMSA9IGZvdW5kYXRpb24uUmFuZ2U7XG5cbmNsYXNzIFNvbHV0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihyYW5nZXMsIG9wdCwgcGFyZW50KSB7XG4gICAgICAgIGlmIChyYW5nZXMubGVuZ3RoID4gb3B0LnNjb3JpbmcuY2FyZGluYWxpdHkpXG4gICAgICAgICAgICB0aGlzLnJhbmdlcyA9IHJhbmdlcy5zbGljZSgwLCBvcHQuc2NvcmluZy5jYXJkaW5hbGl0eSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucmFuZ2VzID0gcmFuZ2VzO1xuICAgICAgICB0aGlzLm9wdCA9IG9wdDtcbiAgICAgICAgZm9yIChsZXQgX3IgaW4gdGhpcy5yYW5nZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBwYXJzZUludChfcik7XG4gICAgICAgICAgICBpZiAociA+IDApXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmFuZ2VzW3IgLSAxXS5hID4gdGhpcy5yYW5nZXNbcl0uYSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yYW5nZXNbcl0gPSBuZXcgUmFuZ2UkMShNYXRoLm1heCh0aGlzLnJhbmdlc1tyIC0gMV0uYSwgdGhpcy5yYW5nZXNbcl0uYSksIHRoaXMucmFuZ2VzW3JdLmIpO1xuICAgICAgICAgICAgaWYgKHIgPCB0aGlzLnJhbmdlcy5sZW5ndGggLSAxKVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJhbmdlc1tyXS5iID4gdGhpcy5yYW5nZXNbciArIDFdLmIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmFuZ2VzW3JdID0gbmV3IFJhbmdlJDEodGhpcy5yYW5nZXNbcl0uYSwgTWF0aC5taW4odGhpcy5yYW5nZXNbciArIDFdLmIsIHRoaXMucmFuZ2VzW3JdLmIpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJhbmdlc1tyXS5hID4gdGhpcy5yYW5nZXNbcl0uYikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucmFuZ2VzLCBwYXJlbnQucmFuZ2VzKTtcbiAgICAgICAgICAgICAgICB0aHJvdyAnZXJyb3InO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYm94ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgciBpbiB0aGlzLnJhbmdlcylcbiAgICAgICAgICAgIHRoaXMuYm94ZXNbcl0gPSBuZXcgQm94JDIodGhpcy5yYW5nZXNbcl0sIG9wdC5mbGlnaHQpO1xuICAgICAgICB0aGlzLnNjb3JlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmJvdW5kID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmlkID0gaWQrKztcbiAgICAgICAgaWYgKHRoaXMub3B0LmNvbmZpZyAmJiB0aGlzLm9wdC5jb25maWcuZGVidWcpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICAgICAgdGhpcy50cmFjZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZG9fYnJhbmNoKCkge1xuICAgICAgICBsZXQgZGl2ID0gMDtcbiAgICAgICAgZm9yIChsZXQgciBpbiB0aGlzLnJhbmdlcylcbiAgICAgICAgICAgIGlmICh0aGlzLnJhbmdlc1tyXS5jb3VudCgpID4gdGhpcy5yYW5nZXNbZGl2XS5jb3VudCgpKVxuICAgICAgICAgICAgICAgIGRpdiA9IHBhcnNlSW50KHIpO1xuICAgICAgICBmb3IgKGxldCByIGluIHRoaXMucmFuZ2VzKVxuICAgICAgICAgICAgaWYgKHRoaXMucmFuZ2VzW3JdLmNvdW50KCkgPiAxICYmIHRoaXMuYm94ZXNbcl0uYXJlYSgpID4gdGhpcy5ib3hlc1tkaXZdLmFyZWEoKSAqIDgpXG4gICAgICAgICAgICAgICAgZGl2ID0gcGFyc2VJbnQocik7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5yYW5nZXNbZGl2XS5jb3VudCgpID09IDEpXG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIFxuICAgICAgICBsZXQgc3Vic29sdXRpb25zID0gW107XG4gICAgICAgIGZvciAobGV0IGkgb2YgW3RoaXMucmFuZ2VzW2Rpdl0ubGVmdCgpLCB0aGlzLnJhbmdlc1tkaXZdLnJpZ2h0KCldKSB7XG4gICAgICAgICAgICBsZXQgc3VicmFuZ2VzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCByIGluIHRoaXMucmFuZ2VzKVxuICAgICAgICAgICAgICAgIGlmIChyICE9IGRpdilcbiAgICAgICAgICAgICAgICAgICAgc3VicmFuZ2VzW3JdID0gdGhpcy5yYW5nZXNbcl07XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBzdWJyYW5nZXNbcl0gPSBpO1xuICAgICAgICAgICAgc3Vic29sdXRpb25zLnB1c2gobmV3IFNvbHV0aW9uKHN1YnJhbmdlcywgdGhpcy5vcHQsIHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic29sdXRpb25zO1xuICAgIH1cblxuICAgIGRvX2JvdW5kKCkge1xuICAgICAgICB0aGlzLmJvdW5kID0gdGhpcy5vcHQuc2NvcmluZy5ib3VuZCh0aGlzLnJhbmdlcywgdGhpcy5ib3hlcywgdGhpcy5vcHQpO1xuICAgICAgICB0aGlzLnRyYWNlKCk7XG4gICAgfVxuXG4gICAgZG9fc2NvcmUoKSB7XG4gICAgICAgIGZvciAobGV0IHIgaW4gdGhpcy5yYW5nZXMpXG4gICAgICAgICAgICBpZiAociA8IHRoaXMucmFuZ2VzLmxlbmd0aCAtIDEgJiYgdGhpcy5yYW5nZXNbcl0uY2VudGVyKCkgPj0gdGhpcy5yYW5nZXNbcGFyc2VJbnQocikgKyAxXS5jZW50ZXIoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmUgPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgbGV0IHRwID0gW107XG4gICAgICAgIGZvciAobGV0IHIgaW4gdGhpcy5yYW5nZXMpXG4gICAgICAgICAgICB0cFtyXSA9IG5ldyBQb2ludCQyKHRoaXMub3B0LmZsaWdodC5maWx0ZXJlZCwgdGhpcy5yYW5nZXNbcl0uY2VudGVyKCkpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5zY29yZUluZm8gPSB0aGlzLm9wdC5zY29yaW5nLnNjb3JlKHRwLCB0aGlzLm9wdCk7XG4gICAgICAgIHRoaXMuc2NvcmUgPSB0aGlzLnNjb3JlSW5mby5zY29yZTtcbiAgICAgICAgdGhpcy50cmFjZSgpO1xuICAgIH1cblxuICAgIGNvbnRlbnRFcXVhbHMoc2VsZiwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuaWQgPT09IG90aGVyLmlkO1xuICAgIH1cblxuICAgIGNvbnRlbnRDb21wYXJlKHNlbGYsIG90aGVyKSB7XG4gICAgICAgIGlmIChzZWxmLmJvdW5kIDwgb3RoZXIuYm91bmQpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGlmIChzZWxmLmJvdW5kID4gb3RoZXIuYm91bmQpXG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgaWYgKHNlbGYuaWQgPCBvdGhlci5pZClcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgaWYgKHNlbGYuaWQgPiBvdGhlci5pZClcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICAvKmVzbGludCBuby1lbXB0eTogW1wib2ZmXCJdKi9cbiAgICBnZW9qc29uKCkge1xuICAgICAgICBsZXQgZmVhdHVyZXMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMub3B0LmNvbmZpZyAmJiB0aGlzLm9wdC5jb25maWcuZGVidWcpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHIgaW4gdGhpcy5yYW5nZXMpXG4gICAgICAgICAgICAgICAgZmVhdHVyZXMucHVzaCgobmV3IEJveCQyKHRoaXMucmFuZ2VzW3JdLCB0aGlzLm9wdC5mbGlnaHQpKVxuICAgICAgICAgICAgICAgICAgICAuZ2VvanNvbignYm94JyArIHIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnYm94JyArIHIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmVhOiAobmV3IEJveCQyKHRoaXMucmFuZ2VzW3JdLCB0aGlzLm9wdC5mbGlnaHQpKS5hcmVhKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBhOiB0aGlzLnJhbmdlc1tyXS5hLFxuICAgICAgICAgICAgICAgICAgICAgICAgYjogdGhpcy5yYW5nZXNbcl0uYlxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHRwID0gdGhpcy5zY29yZUluZm8udHA7XG4gICAgICAgICAgICBmb3IgKGxldCByIG9mIFswLCAxLCAyXSkge1xuICAgICAgICAgICAgICAgIGZlYXR1cmVzLnB1c2godHBbcl1cbiAgICAgICAgICAgICAgICAgICAgLmdlb2pzb24oJ3RwJyArIHIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAndHAnICsgcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6IHRwW3JdLnIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRoaXMub3B0LmZsaWdodC5maWx0ZXJlZFt0cFtyXS5yXS50aW1lc3RhbXBcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGlmIChyIDwgMiB8fCB0aGlzLm9wdC5zY29yaW5nLmNsb3NpbmdEaXN0YW5jZSlcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnRmVhdHVyZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3NlZycgKyByLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnc2VnJyArIHIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0cm9rZSc6ICd5ZWxsb3cnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ6IHRwW3JdLmRpc3RhbmNlRWFydGgodHBbKHIgKyAxKSAlIDNdKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0xpbmVTdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBbW3RwW3JdLngsIHRwW3JdLnldLCBbdHBbKHIgKyAxKSAlIDNdLngsIHRwWyhyICsgMSkgJSAzXS55XV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgJ3N0cm9rZSc6ICd5ZWxsb3cnLCAnc3Ryb2tlLXdpZHRoJzogNCB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNjb3JlSW5mby5jcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3AgPSB0aGlzLnNjb3JlSW5mby5jcDtcbiAgICAgICAgICAgICAgICBjb25zdCB0cCA9IHRoaXMuc2NvcmVJbmZvLnRwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHIgb2YgWydpbicsICdvdXQnXSlcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXMucHVzaChjcFtyXVxuICAgICAgICAgICAgICAgICAgICAgICAgLmdlb2pzb24oJ2NwXycgKyByLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdjcF8nICsgcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByOiBjcFtyXS5yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5vcHQuZmxpZ2h0LmZpbHRlcmVkW2NwW3JdLnJdLnRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdC5zY29yaW5nLmNsb3NpbmdEaXN0YW5jZSlcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnRmVhdHVyZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2Nsb3NpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnY2xvc2luZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0cm9rZSc6ICdncmVlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZDogY3BbJ2luJ10uZGlzdGFuY2VFYXJ0aChjcFsnb3V0J10pXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnTGluZVN0cmluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IFtbY3BbJ2luJ10ueCwgY3BbJ2luJ10ueV0sIFtjcFsnb3V0J10ueCwgY3BbJ291dCddLnldXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyAnc3Ryb2tlJzogJ2dyZWVuJywgJ3N0cm9rZS13aWR0aCc6IDMgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnRmVhdHVyZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3NlZ19pbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdzZWdfaW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdHJva2UnOiAnZ3JlZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ6IGNwWydpbiddLmRpc3RhbmNlRWFydGgodHBbMF0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnTGluZVN0cmluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29vcmRpbmF0ZXM6IFtbY3BbJ2luJ10ueCwgY3BbJ2luJ10ueV0sIFt0cFswXS54LCB0cFswXS55XV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgJ3N0cm9rZSc6ICdncmVlbicsICdzdHJva2Utd2lkdGgnOiAzIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0ZlYXR1cmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdzZWdfb3V0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3NlZ19vdXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdHJva2UnOiAnZ3JlZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ6IGNwWydvdXQnXS5kaXN0YW5jZUVhcnRoKHRwWzJdKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0xpbmVTdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBbW2NwWydvdXQnXS54LCBjcFsnb3V0J10ueV0sIFt0cFsyXS54LCB0cFsyXS55XV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgJ3N0cm9rZSc6ICdncmVlbicsICdzdHJva2Utd2lkdGgnOiAzIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgbGkgaW4gdGhpcy5vcHQuZmxpZ2h0LmxsKSB7XG4gICAgICAgICAgICBjb25zdCBsID0gdGhpcy5vcHQuZmxpZ2h0LmxsW2xpXTtcbiAgICAgICAgICAgIGZlYXR1cmVzLnB1c2godGhpcy5vcHQuZmxpZ2h0LmZsaWdodFBvaW50c1tsLmxhdW5jaF1cbiAgICAgICAgICAgICAgICAuZ2VvanNvbignbGF1bmNoJyArIGxpLCB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAnbGF1bmNoJyArIGxpLFxuICAgICAgICAgICAgICAgICAgICByOiBsLmxhdW5jaCxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aGlzLm9wdC5mbGlnaHQuZmlsdGVyZWRbbC5sYXVuY2hdLnRpbWVzdGFtcFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGZlYXR1cmVzLnB1c2godGhpcy5vcHQuZmxpZ2h0LmZsaWdodFBvaW50c1tsLmxhbmRpbmddXG4gICAgICAgICAgICAgICAgLmdlb2pzb24oJ2xhbmQnICsgbGksIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdsYW5kJyArIGxpLFxuICAgICAgICAgICAgICAgICAgICByOiBsLmxhbmRpbmcsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5vcHQuZmxpZ2h0LmZpbHRlcmVkW2wubGFuZGluZ10udGltZXN0YW1wXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5vcHQuY29uZmlnIHx8ICF0aGlzLm9wdC5jb25maWcubm9mbGlnaHQpIHtcbiAgICAgICAgICAgIGxldCBmbGlnaHREYXRhID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCByIG9mIHRoaXMub3B0LmZsaWdodC5maWx0ZXJlZCkge1xuICAgICAgICAgICAgICAgIGZsaWdodERhdGEucHVzaChbci5sb25naXR1ZGUsIHIubGF0aXR1ZGVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdGZWF0dXJlJyxcbiAgICAgICAgICAgICAgICBpZDogJ2ZsaWdodCcsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczogeyBpZDogJ2ZsaWdodCcgfSxcbiAgICAgICAgICAgICAgICBnZW9tZXRyeToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnTGluZVN0cmluZycsXG4gICAgICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBmbGlnaHREYXRhXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbGxlY3Rpb24gPSB7XG4gICAgICAgICAgICB0eXBlOiAnRmVhdHVyZUNvbGxlY3Rpb24nLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdFUFNHOjM4NTcnLFxuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHNjb3JlOiB0aGlzLnNjb3JlICE9PSB1bmRlZmluZWQgPyB0aGlzLnNjb3JlIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGJvdW5kOiB0aGlzLmN1cnJlbnRVcHBlckJvdW5kICE9PSB1bmRlZmluZWQgPyB0aGlzLmN1cnJlbnRVcHBlckJvdW5kIDogdGhpcy5ib3VuZCxcbiAgICAgICAgICAgICAgICBvcHRpbWFsOiB0aGlzLm9wdGltYWwsXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkVGltZTogdGhpcy50aW1lIC8gMTAwMCxcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWRTb2x1dGlvbnM6IHRoaXMucHJvY2Vzc2VkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMub3B0LnNjb3JpbmcubmFtZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZlYXR1cmVzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgcyA9IGAke3RoaXMub3B0LnNjb3JpbmcubmFtZX1gO1xuICAgICAgICBpZiAodGhpcy5zY29yZSlcbiAgICAgICAgICAgIHMgKz0gYCAke3RoaXMub3B0LnNjb3Jpbmcucm91bmRpbmcodGhpcy5zY29yZSl9IHBvaW50c2A7XG4gICAgICAgIGlmICh0aGlzLnNjb3JlSW5mbylcbiAgICAgICAgICAgIHMgKz0gYCAke3RoaXMub3B0LnNjb3Jpbmcucm91bmRpbmcodGhpcy5zY29yZUluZm8uZGlzdGFuY2UpfWttYDtcbiAgICAgICAgcyArPSBgICggPCR7dGhpcy5ib3VuZC50b0ZpeGVkKDQpfSApYDtcbiAgICAgICAgaWYgKHRoaXMub3B0LmNvbmZpZyAmJiB0aGlzLm9wdC5jb25maWcuZGVidWcpIHtcbiAgICAgICAgICAgIHMgKz0gYCB7IGlkOiAke3RoaXMuaWR9IGA7XG4gICAgICAgICAgICBmb3IgKGxldCByIG9mIHRoaXMucmFuZ2VzKVxuICAgICAgICAgICAgICAgIHMgKz0gJyAnICsgci50b1N0cmluZygpO1xuICAgICAgICAgICAgcyArPSAnIH0gJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9XG5cbiAgICB0cmFjZShtc2cpIHtcbiAgICAgICAgaWYgKCF0aGlzLm9wdC5jb25maWcudHJhY2UgfHwgIXByb2Nlc3Muc3Rkb3V0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB0cmFjZSA9IHRoaXMub3B0LmNvbmZpZy50cmFjZS5zcGxpdCgnLCcpO1xuICAgICAgICBpZiAodHJhY2VbMF0gPCAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pZCAlIHBhcnNlSW50KHRyYWNlWzFdKSAhPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMucmFuZ2VzKVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5yYW5nZXNbaV0uY29udGFpbnModHJhY2VbaV0pKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHIgPSBgJHttc2cgPyBtc2cgOiAnJ30gc29sdXRpb24gdHJhY2luZzogJHt0aGlzLmlkfSAke3RoaXMub3B0LnNjb3JpbmcubmFtZX0gYDtcbiAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLnJhbmdlcylcbiAgICAgICAgICAgIHIgKz0gdGhpcy5yYW5nZXNbaV0gKyAnICc7XG4gICAgICAgIGlmICh0aGlzLmJvdW5kKVxuICAgICAgICAgICAgciArPSBgYm91bmQ6ICR7dGhpcy5ib3VuZH0gYDtcbiAgICAgICAgaWYgKHRoaXMuc2NvcmUpXG4gICAgICAgICAgICByICs9IGBzY29yZTogJHt0aGlzLnNjb3JlfSBgO1xuICAgICAgICBwcm9jZXNzLnN0ZG91dC53cml0ZSgnXFxuJyArIHIgKyAnXFxuJyk7XG4gICAgICAgIHRoaXMub3B0LmNvbmZpZy5lbnYuZnMud3JpdGVGaWxlU3luYyhgZGVidWctJHt0aGlzLmlkfS5qc29uYCwgSlNPTi5zdHJpbmdpZnkodGhpcy5nZW9qc29uKHtkZWJ1ZzogdHJ1ZX0pKSk7XG4gICAgfVxufVxuXG52YXIgc29sdXRpb24gPSB7XG4gICAgU29sdXRpb25cbn07XG5cbi8qIExhdW5jaCBhbmQgbGFuZGluZyBkZXRlY3Rpb24gY2FuIGFmZmVjdCB0aGUgc2NvcmUsXG4gKiBhbmQgbXVzdCBiZSBhcyBwcmVjaXNlIGFzIHBvc3NpYmxlXG4gKiBcbiAqIExhdW5jaCBhbmQgbGFuZGluZyBhcmUgZGV0ZWN0ZWQgb24gYSBuLXNlY29uZCBtb3ZpbmcgYXZlcmFnZVxuICogb2YgdGhlIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIHNwZWVkXG4gKiBcbiAqIG1hUGVyaW9kIGlzIHRoZSBudW1iZXIgb2Ygc2Vjb25kcyBmb3IgdGhlIG1vdmluZyBhdmVyYWdlXG4gKiBcbiAqIHQgaXMgdGhlIG51bWJlciBvZiBzZWNvbmRzIHRoYXQgdGhlIGNvbmRpdGlvbnMgbXVzdCBiZSB0cnVlXG4gKiAodGhlIGV2ZW50IGlzIHN0aWxsIGFzc2lnbmVkIHRvIHRoZSBzdGFydCBvZiB0aGUgcGVyaW9kKVxuICogXG4gKiB4IGlzIHRoZSBob3Jpem9udGFsIHNwZWVkIGluIG0vc1xuICogXG4gKiB6IGlzIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiB0aGUgdmVydGljYWwgc3BlZWQgaW4gbS9zXG4gKiBcbiAqIExhdW5jaC9sYW5kaW5nIGlzIGRldGVjdGVkIHdoZW4gYm90aCBvZiB0aGUgbW92aW5nIGF2ZXJhZ2VzXG4gKiBjcm9zcyB0aGUgZGV0ZWN0aW9uIHRocmVzaG9sZCBmb3IgdCBzZWNvbmRzXG4gKi9cbmNvbnN0IG1hUGVyaW9kID0gMTA7XG5jb25zdCBkZWZpbml0aW9uRmxpZ2h0ID0ge1xuICAgIHQ6IDYwLFxuICAgIHgwOiAxLjUsXG4gICAgeHQ6IDUsXG4gICAgejA6IDAuMDUsXG4gICAgenQ6IDAuOVxufTtcblxuY29uc3QgZGVmaW5pdGlvbkdyb3VuZCA9IHtcbiAgICB0OiAyMCxcbiAgICB4bWF4OiAyLjUsXG4gICAgem1heDogMC4xXG59O1xuXG5jb25zdCBQb2ludCQzID0gZm91bmRhdGlvbi5Qb2ludDtcblxuZnVuY3Rpb24gcHJlcGFyZShmaXhlcykge1xuICAgIGZvciAobGV0IGkgaW4gZml4ZXMpIHtcbiAgICAgICAgaWYgKGZpeGVzW2ldLnByZXNzdXJlQWx0aXR1ZGUgPT09IG51bGwgfHwgZml4ZXNbaV0ucHJlc3N1cmVBbHRpdHVkZSA9PT0gdW5kZWZpbmVkIHx8IGZpeGVzW2ldLnByZXNzdXJlQWx0aXR1ZGUgPCAtMTAwMClcbiAgICAgICAgICAgIGZpeGVzW2ldLnByZXNzdXJlQWx0aXR1ZGUgPSBmaXhlc1tpXS5ncHNBbHRpdHVkZTtcbiAgICAgICAgaWYgKGZpeGVzW2ldLnByZXNzdXJlQWx0aXR1ZGUgPT09IG51bGwpXG4gICAgICAgICAgICBmaXhlc1tpXS5ncHNBbHRpdHVkZSA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGlmIChmaXhlc1tpXS50aW1lc3RhbXAgIT09IGZpeGVzW2kgLSAxXS50aW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICBmaXhlc1tpXS5oc3BlZWQgPSAobmV3IFBvaW50JDMoZml4ZXMsIGkgLSAxKS5kaXN0YW5jZUVhcnRoKG5ldyBQb2ludCQzKGZpeGVzLCBpKSkpICogMTAwMCAvXG4gICAgICAgICAgICAgICAgICAgIChmaXhlc1tpXS50aW1lc3RhbXAgLSBmaXhlc1tpIC0gMV0udGltZXN0YW1wKSAqIDEwMDA7XG4gICAgICAgICAgICAgICAgZml4ZXNbaV0udnNwZWVkID0gKGZpeGVzW2ldLnByZXNzdXJlQWx0aXR1ZGUgLSBmaXhlc1tpIC0gMV0ucHJlc3N1cmVBbHRpdHVkZSkgL1xuICAgICAgICAgICAgICAgICAgICAoZml4ZXNbaV0udGltZXN0YW1wIC0gZml4ZXNbaSAtIDFdLnRpbWVzdGFtcCkgKiAxMDAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaXhlc1tpXS5oc3BlZWQgPSBmaXhlc1tpIC0gMV0uaHNwZWVkO1xuICAgICAgICAgICAgICAgIGZpeGVzW2ldLnZzcGVlZCA9IGZpeGVzW2kgLSAxXS52c3BlZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaXhlc1tpXS5oc3BlZWQgPSAwO1xuICAgICAgICAgICAgZml4ZXNbaV0udnNwZWVkID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IF9pIGluIGZpeGVzKSB7XG4gICAgICAgIGNvbnN0IGkgPSBwYXJzZUludChfaSk7XG4gICAgICAgIGNvbnN0IG5vdyA9IGZpeGVzW2ldLnRpbWVzdGFtcDtcbiAgICAgICAgbGV0IHN0YXJ0LCBlbmQ7XG4gICAgICAgIGZvciAoc3RhcnQgPSBpOyBzdGFydCA+IDAgJiYgZml4ZXNbc3RhcnRdLnRpbWVzdGFtcCA+IG5vdyAtIE1hdGgucm91bmQobWFQZXJpb2QgKiAxMDAwIC8gMik7IHN0YXJ0LS0pO1xuICAgICAgICBmb3IgKGVuZCA9IGk7IGVuZCA8IGZpeGVzLmxlbmd0aCAtIDEgJiYgZml4ZXNbZW5kXS50aW1lc3RhbXAgPCBub3cgKyBNYXRoLnJvdW5kKG1hUGVyaW9kICogMTAwMCAvIDIpOyBlbmQrKyk7XG4gICAgICAgIGNvbnN0IG1hU2VnbWVudCA9IGZpeGVzLnNsaWNlKHN0YXJ0LCBlbmQgKyAxKTtcbiAgICAgICAgZml4ZXNbaV0uaG1hID0gbWFTZWdtZW50LnJlZHVjZSgoc3VtLCB4KSA9PiAoc3VtICsgeC5oc3BlZWQpLCAwKSAvIG1hU2VnbWVudC5sZW5ndGg7XG4gICAgICAgIGZpeGVzW2ldLnZtYSA9IG1hU2VnbWVudC5yZWR1Y2UoKHN1bSwgeCkgPT4gKHN1bSArIE1hdGguYWJzKHgudnNwZWVkKSksIDApIC8gbWFTZWdtZW50Lmxlbmd0aDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRldGVjdEZsaWdodChmaXhlcykge1xuICAgIGxldCBzdGFydDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpeGVzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCAmJiBmaXhlc1tpXS5obWEgPiBkZWZpbml0aW9uRmxpZ2h0Lnh0ICYmIGZpeGVzW2ldLnZtYSA+IGRlZmluaXRpb25GbGlnaHQuenQpXG4gICAgICAgICAgICBzdGFydCA9IGk7XG4gICAgICAgIGlmIChzdGFydCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgaWYgKGZpeGVzW2ldLmhtYSA+IGRlZmluaXRpb25GbGlnaHQueDAgJiYgZml4ZXNbaV0udm1hID4gZGVmaW5pdGlvbkZsaWdodC56MCkge1xuICAgICAgICAgICAgICAgIGlmIChmaXhlc1tpXS50aW1lc3RhbXAgPiBmaXhlc1tzdGFydF0udGltZXN0YW1wICsgZGVmaW5pdGlvbkZsaWdodC50ICogMTAwMClcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IHN0YXJ0OyBqIDw9IGk7IGorKylcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpeGVzW2ldLnN0YXRlRmxpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZXRlY3RHcm91bmQoZml4ZXMpIHtcbiAgICBsZXQgc3RhcnQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaXhlcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQgJiYgZml4ZXNbaV0uaG1hIDwgZGVmaW5pdGlvbkdyb3VuZC54bWF4ICYmIGZpeGVzW2ldLnZtYSA8IGRlZmluaXRpb25Hcm91bmQuem1heClcbiAgICAgICAgICAgIHN0YXJ0ID0gaTtcbiAgICAgICAgaWYgKHN0YXJ0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBpZiAoZml4ZXNbaV0uaG1hIDwgZGVmaW5pdGlvbkdyb3VuZC54bWF4ICYmIGZpeGVzW2ldLnZtYSA8IGRlZmluaXRpb25Hcm91bmQuem1heCkge1xuICAgICAgICAgICAgICAgIGlmIChmaXhlc1tpXS50aW1lc3RhbXAgPiBmaXhlc1tzdGFydF0udGltZXN0YW1wICsgZGVmaW5pdGlvbkdyb3VuZC50ICogMTAwMClcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IHN0YXJ0OyBqIDw9IGk7IGorKylcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpeGVzW2ldLnN0YXRlR3JvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZXRlY3RMYXVuY2hMYW5kaW5nKGZpeGVzKSB7XG4gICAgbGV0IGxsID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaXhlcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgaWYgKGZpeGVzW2ldLnN0YXRlRmxpZ2h0KSB7XG4gICAgICAgICAgICBsZXQgajtcbiAgICAgICAgICAgIGZvciAoaiA9IGk7IGogPiAwICYmICFmaXhlc1tqXS5zdGF0ZUdyb3VuZDsgai0tKTtcbiAgICAgICAgICAgIGNvbnN0IGxhdW5jaCA9IGo7XG4gICAgICAgICAgICBmb3IgKGogPSBpOyBqIDwgZml4ZXMubGVuZ3RoIC0gMiAmJiAhZml4ZXNbal0uc3RhdGVHcm91bmQ7IGorKyk7XG4gICAgICAgICAgICBjb25zdCBsYW5kaW5nID0gajtcbiAgICAgICAgICAgIGkgPSBqO1xuICAgICAgICAgICAgbGwucHVzaCh7IGxhdW5jaCwgbGFuZGluZyB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobGwubGVuZ3RoID09IDApXG4gICAgICAgIGxsLnB1c2goeyBsYXVuY2g6IDAsIGxhbmRpbmc6IGZpeGVzLmxlbmd0aCAtIDEgfSk7XG4gICAgcmV0dXJuIGxsO1xufVxuXG5mdW5jdGlvbiBhbmFseXplKGZsaWdodCwgY29uZmlnKSB7XG4gICAgaWYgKCFjb25maWcuaW52YWxpZClcbiAgICAgICAgZmxpZ2h0LmZpbHRlcmVkID0gZmxpZ2h0LmZpeGVzLmZpbHRlcih4ID0+IHgudmFsaWQpLmZpbHRlcigoeCwgaSwgYSkgPT4gaSA9PSAwIHx8IGFbaS0xXS50aW1lc3RhbXAgIT09IHgudGltZXN0YW1wKTtcbiAgICBlbHNlXG4gICAgICAgIGZsaWdodC5maWx0ZXJlZCA9IGZsaWdodC5maXhlcy5zbGljZSgwKTtcbiAgICBpZiAoZmxpZ2h0LmZpbHRlcmVkLmxlbmd0aCA8IDUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmxpZ2h0IG11c3QgY29udGFpbiBhdCBsZWFzdCA1IHZhbGlkIEdQUyBmaXhlcywgJHtmbGlnaHQuZmlsdGVyZWQubGVuZ3RofSB2YWxpZCBmaXhlcyBmb3VuZCAob3V0IG9mICR7ZmxpZ2h0LmZpeGVzLmxlbmd0aH0pYCk7XG5cbiAgICBpZiAoY29uZmlnLnRyaW0gfHwgY29uZmlnLmRldGVjdExhdW5jaCB8fCBjb25maWcuZGV0ZWN0TGFuZGluZykge1xuICAgICAgICBwcmVwYXJlKGZsaWdodC5maWx0ZXJlZCk7XG4gICAgICAgIGRldGVjdEZsaWdodChmbGlnaHQuZmlsdGVyZWQpO1xuICAgICAgICBkZXRlY3RHcm91bmQoZmxpZ2h0LmZpbHRlcmVkKTtcbiAgICAgICAgZmxpZ2h0LmxsID0gZGV0ZWN0TGF1bmNoTGFuZGluZyhmbGlnaHQuZmlsdGVyZWQpO1xuICAgIH0gZWxzZVxuICAgICAgICBmbGlnaHQubGwgPSBbIHsgbGF1bmNoOiAwLCBsYW5kaW5nOiBmbGlnaHQuZmlsdGVyZWQubGVuZ3RoIC0gMSB9IF07ICAgIFxufVxuXG52YXIgZmxpZ2h0ID0ge1xuICAgIGFuYWx5emVcbn07XG5cbmNvbnN0IFNvbHV0aW9uJDEgPSBzb2x1dGlvbi5Tb2x1dGlvbjtcblxuY29uc3QgUmFuZ2UkMiA9IGZvdW5kYXRpb24uUmFuZ2U7XG5jb25zdCBQb2ludCQ0ID0gZm91bmRhdGlvbi5Qb2ludDtcblxuXG5cblxuZnVuY3Rpb24qIHNvbHZlcihmbGlnaHQkMSwgX3Njb3JpbmdUeXBlcywgX2NvbmZpZykge1xuICAgIGxldCByZXNldDtcblxuICAgIGNvbnN0IHNjb3JpbmdUeXBlcyA9IF9zY29yaW5nVHlwZXMgfHwgc2NvcmluZ1J1bGVzX2NvbmZpZy5GRlZMO1xuICAgIGNvbnN0IGNvbmZpZyA9IF9jb25maWcgfHwge307XG4gICAgZmxpZ2h0LmFuYWx5emUoZmxpZ2h0JDEsIGNvbmZpZyk7XG4gICAgZ2VvbS5pbml0KHsgZmxpZ2h0OiBmbGlnaHQkMSB9KTtcbiAgICBpZiAoY29uZmlnLmhwKVxuICAgICAgICBQb2ludCQ0LnByb3RvdHlwZS5kaXN0YW5jZUVhcnRoID0gUG9pbnQkNC5wcm90b3R5cGUuZGlzdGFuY2VFYXJ0aFZpbmNlbnR5cztcbiAgICBlbHNlXG4gICAgICAgIFBvaW50JDQucHJvdG90eXBlLmRpc3RhbmNlRWFydGggPSBQb2ludCQ0LnByb3RvdHlwZS5kaXN0YW5jZUVhcnRoRkNDO1xuICAgIGxldCBzb2x1dGlvblJvb3RzID0gW107XG4gICAgZm9yIChsZXQgc2NvcmluZ1R5cGUgb2Ygc2NvcmluZ1R5cGVzKSB7XG4gICAgICAgIGZvciAobGV0IGwgb2YgZmxpZ2h0JDEubGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdCA9IHtcbiAgICAgICAgICAgICAgICBmbGlnaHQ6IGZsaWdodCQxLFxuICAgICAgICAgICAgICAgIGxhdW5jaDogbC5sYXVuY2gsXG4gICAgICAgICAgICAgICAgbGFuZGluZzogbC5sYW5kaW5nLFxuICAgICAgICAgICAgICAgIHNjb3Jpbmc6IHNjb3JpbmdUeXBlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCBzb2x1dGlvblJvb3QgPSBuZXcgU29sdXRpb24kMShbXG4gICAgICAgICAgICAgICAgbmV3IFJhbmdlJDIobC5sYXVuY2gsIGwubGFuZGluZyksXG4gICAgICAgICAgICAgICAgbmV3IFJhbmdlJDIobC5sYXVuY2gsIGwubGFuZGluZyksXG4gICAgICAgICAgICAgICAgbmV3IFJhbmdlJDIobC5sYXVuY2gsIGwubGFuZGluZylcbiAgICAgICAgICAgIF0sIG9wdCk7XG4gICAgICAgICAgICBzb2x1dGlvblJvb3QuZG9fYm91bmQoKTtcbiAgICAgICAgICAgIHNvbHV0aW9uUm9vdC5kb19zY29yZSgpO1xuICAgICAgICAgICAgc29sdXRpb25Sb290cy5wdXNoKHNvbHV0aW9uUm9vdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgYmVzdCA9IHNvbHV0aW9uUm9vdHNbMF07XG4gICAgbGV0IHNvbHV0aW9uUXVldWUgPSBuZXcgc29ydGVkU2V0KHNvbHV0aW9uUm9vdHMsIFNvbHV0aW9uJDEucHJvdG90eXBlLmNvbnRlbnRFcXVhbHMsIFNvbHV0aW9uJDEucHJvdG90eXBlLmNvbnRlbnRDb21wYXJlKTtcbiAgICBsZXQgcHJvY2Vzc2VkID0gMDtcblxuICAgIGxldCB0Y3VtID0gMDtcbiAgICBkbyB7XG4gICAgICAgIGNvbnN0IHRzdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgIHdoaWxlIChzb2x1dGlvblF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzZWQgJSAxMDAgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MubWVtb3J5VXNhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVtID0gcHJvY2Vzcy5tZW1vcnlVc2FnZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVtLmhlYXBVc2VkIC8gbWVtLmhlYXBUb3RhbCA+IDAuOTgpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gc29sdXRpb25RdWV1ZS5wb3AoKTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnQub3B0LnNjb3Jpbmcucm91bmRpbmcoY3VycmVudC5ib3VuZCkgPD0gYmVzdC5vcHQuc2NvcmluZy5yb3VuZGluZyhiZXN0LnNjb3JlKSkge1xuICAgICAgICAgICAgICAgIHNvbHV0aW9uUXVldWUuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjaGlsZHJlbiA9IGN1cnJlbnQuZG9fYnJhbmNoKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBzIG9mIGNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgcy5kb19ib3VuZCgpO1xuICAgICAgICAgICAgICAgIGlmIChzLmJvdW5kIDw9IGJlc3Quc2NvcmUpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIHMuZG9fc2NvcmUoKTtcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWQrKztcbiAgICAgICAgICAgICAgICBpZiAocy5zY29yZSA+PSBiZXN0LnNjb3JlICYmIHMuc2NvcmUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlc3QgPSBzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc29sdXRpb25RdWV1ZS5sZW5ndGggPiAxMDAwMCAmJiBzb2x1dGlvblF1ZXVlLmZpbmRMZWFzdCgpLnZhbHVlLmJvdW5kIDw9IGJlc3Quc2NvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdhcmJhZ2VCZXN0ID0gc29sdXRpb25RdWV1ZS5maW5kR3JlYXRlc3RMZXNzVGhhbk9yRXF1YWwoeyBib3VuZDogYmVzdC5zY29yZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnYXJiYWdlQmVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3V0b2ZmID0gc29sdXRpb25RdWV1ZS5pbmRleE9mKGdhcmJhZ2VCZXN0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2x1dGlvblF1ZXVlLnNwbGljZSgwLCBjdXRvZmYgKyAxKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc29sdXRpb25RdWV1ZS5wdXNoKHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb2Nlc3NlZCA+IGNvbmZpZy5tYXhsb29wIHx8IChEYXRlLm5vdygpIC0gdHN0YXJ0KSA+IGNvbmZpZy5tYXhjeWNsZSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYmVzdC5wcm9jZXNzZWQgPSBwcm9jZXNzZWQ7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRVcHBlckJvdW5kID0gc29sdXRpb25RdWV1ZS5maW5kR3JlYXRlc3QoKTsgXG4gICAgICAgIGJlc3QuY3VycmVudFVwcGVyQm91bmQgPSBjdXJyZW50VXBwZXJCb3VuZCA/IGN1cnJlbnRVcHBlckJvdW5kLnZhbHVlLmJvdW5kIDogYmVzdC5ib3VuZDtcbiAgICAgICAgdGN1bSArPSBEYXRlLm5vdygpIC0gdHN0YXJ0O1xuICAgICAgICBiZXN0LnRpbWUgPSB0Y3VtO1xuICAgICAgICBpZiAoc29sdXRpb25RdWV1ZS5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIGJlc3Qub3B0aW1hbCA9IHRydWU7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGJlc3Qub3B0aW1hbCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChiZXN0Lm9wdGltYWwpIHtcbiAgICAgICAgICAgIGJlc3Quc2NvcmUgPSBiZXN0Lm9wdC5zY29yaW5nLnJvdW5kaW5nKGJlc3Quc2NvcmUpO1xuICAgICAgICAgICAgaWYgKGJlc3Quc2NvcmVJbmZvKSB7XG4gICAgICAgICAgICAgICAgYmVzdC5zY29yZUluZm8uZGlzdGFuY2UgPSBiZXN0Lm9wdC5zY29yaW5nLnJvdW5kaW5nKGJlc3Quc2NvcmVJbmZvLmRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBpZiAoYmVzdC5zY29yZUluZm8uY3AuZClcbiAgICAgICAgICAgICAgICAgICAgYmVzdC5zY29yZUluZm8uY3AuZCA9IGJlc3Qub3B0LnNjb3Jpbmcucm91bmRpbmcoYmVzdC5zY29yZUluZm8uY3AuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNldCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gYmVzdDtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICByZXNldCA9IHlpZWxkIGJlc3Q7XG4gICAgfSB3aGlsZSAoIXJlc2V0KTtcbn1cblxudmFyIHNvbHZlcl8xID0gc29sdmVyO1xuXG52YXIgbWFudWZhY3R1cmVycyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcblx0X19wcm90b19fOiBudWxsXG59KTtcblxudmFyIE1BTlVGQUNUVVJFUlMgPSBnZXRDanNFeHBvcnRGcm9tTmFtZXNwYWNlKG1hbnVmYWN0dXJlcnMpO1xuXG52YXIgbG9va3VwID0gZnVuY3Rpb24gbG9va3VwKGlkKSB7XG4gIGxldCBzaG9ydCA9IGlkLmxlbmd0aCA9PT0gMTtcblxuICBpZCA9IGlkLnRvVXBwZXJDYXNlKCk7XG5cbiAgbGV0IG1hbnVmYWN0dXJlcnMgPSBNQU5VRkFDVFVSRVJTLmZpbHRlcihpdCA9PiBpdFtzaG9ydCA/ICdzaG9ydCcgOiAnbG9uZyddID09PSBpZCk7XG4gIHJldHVybiBtYW51ZmFjdHVyZXJzLmxlbmd0aCAhPT0gMCA/IG1hbnVmYWN0dXJlcnNbMF0ubmFtZSA6IGlkO1xufTtcblxudmFyIE9ORV9IT1VSID0gNjAgKiA2MCAqIDEwMDA7XG52YXIgT05FX0RBWSA9IDI0ICogNjAgKiA2MCAqIDEwMDA7XG4vKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbnZhciBSRV9BID0gL15BKFxcd3szfSkoXFx3ezMsfT8pKD86RkxJR0hUOihcXGQrKXw6KC4rKSk/JC87XG52YXIgUkVfSEZEVEUgPSAvXkhGRFRFKD86REFURTopPyhcXGR7Mn0pKFxcZHsyfSkoXFxkezJ9KSg/Oiw/KFxcZHsyfSkpPy87XG52YXIgUkVfUExUX0hFQURFUiA9IC9eSFtGT1BdUExUKD86LnswLH0/OiguKil8KC4qKSkkLztcbnZhciBSRV9DTTJfSEVBREVSID0gL15IW0ZPUF1DTTIoPzouezAsfT86KC4qKXwoLiopKSQvOyAvLyBQIGlzIHVzZWQgYnkgc29tZSBicm9rZW4gRmxhcm1zXG52YXIgUkVfR1RZX0hFQURFUiA9IC9eSFtGT1BdR1RZKD86LnswLH0/OiguKil8KC4qKSkkLztcbnZhciBSRV9HSURfSEVBREVSID0gL15IW0ZPUF1HSUQoPzouezAsfT86KC4qKXwoLiopKSQvO1xudmFyIFJFX0NJRF9IRUFERVIgPSAvXkhbRk9QXUNJRCg/Oi57MCx9PzooLiopfCguKikpJC87XG52YXIgUkVfQ0NMX0hFQURFUiA9IC9eSFtGT1BdQ0NMKD86LnswLH0/OiguKil8KC4qKSkkLztcbnZhciBSRV9GVFlfSEVBREVSID0gL15IW0ZPUF1GVFkoPzouezAsfT86KC4qKXwoLiopKSQvO1xudmFyIFJFX1JGV19IRUFERVIgPSAvXkhbRk9QXVJGVyg/Oi57MCx9PzooLiopfCguKikpJC87XG52YXIgUkVfUkhXX0hFQURFUiA9IC9eSFtGT1BdUkhXKD86LnswLH0/OiguKil8KC4qKSkkLztcbnZhciBSRV9CID0gL15CKFxcZHsyfSkoXFxkezJ9KShcXGR7Mn0pKFxcZHsyfSkoXFxkezJ9KShcXGR7M30pKFtOU10pKFxcZHszfSkoXFxkezJ9KShcXGR7M30pKFtFV10pKFtBVl0pKC1cXGR7NH18XFxkezV9KSgtXFxkezR9fFxcZHs1fSkvO1xudmFyIFJFX0sgPSAvXksoXFxkezJ9KShcXGR7Mn0pKFxcZHsyfSkvO1xudmFyIFJFX0lKID0gL15bSUpdKFxcZHsyfSkoPzpcXGR7Mn1cXGR7Mn1bQS1aXXszfSkrLztcbnZhciBSRV9UQVNLID0gL15DKFxcZHsyfSkoXFxkezJ9KShcXGR7Mn0pKFxcZHsyfSkoXFxkezJ9KShcXGR7Mn0pKFxcZHsyfSkoXFxkezJ9KShcXGR7Mn0pKFxcZHs0fSkoWy1cXGRdezJ9KSguKikvO1xudmFyIFJFX1RBU0tQT0lOVCA9IC9eQyhcXGR7Mn0pKFxcZHsyfSkoXFxkezN9KShbTlNdKShcXGR7M30pKFxcZHsyfSkoXFxkezN9KShbRVddKSguKikvO1xudmFyIElHQ1BhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJR0NQYXJzZXIoKSB7XG4gICAgICAgIHRoaXMuX3Jlc3VsdCA9IHtcbiAgICAgICAgICAgIG51bUZsaWdodDogbnVsbCxcbiAgICAgICAgICAgIHBpbG90OiBudWxsLFxuICAgICAgICAgICAgY29waWxvdDogbnVsbCxcbiAgICAgICAgICAgIGdsaWRlclR5cGU6IG51bGwsXG4gICAgICAgICAgICByZWdpc3RyYXRpb246IG51bGwsXG4gICAgICAgICAgICBjYWxsc2lnbjogbnVsbCxcbiAgICAgICAgICAgIGNvbXBldGl0aW9uQ2xhc3M6IG51bGwsXG4gICAgICAgICAgICBsb2dnZXJUeXBlOiBudWxsLFxuICAgICAgICAgICAgZmlybXdhcmVWZXJzaW9uOiBudWxsLFxuICAgICAgICAgICAgaGFyZHdhcmVWZXJzaW9uOiBudWxsLFxuICAgICAgICAgICAgdGFzazogbnVsbCxcbiAgICAgICAgICAgIGZpeGVzOiBbXSxcbiAgICAgICAgICAgIGRhdGFSZWNvcmRzOiBbXSxcbiAgICAgICAgICAgIHNlY3VyaXR5OiBudWxsLFxuICAgICAgICAgICAgZXJyb3JzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5maXhFeHRlbnNpb25zID0gW107XG4gICAgICAgIHRoaXMuZGF0YUV4dGVuc2lvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5saW5lTnVtYmVyID0gMDtcbiAgICAgICAgdGhpcy5wcmV2VGltZXN0YW1wID0gbnVsbDtcbiAgICB9XG4gICAgSUdDUGFyc2VyLnBhcnNlID0gZnVuY3Rpb24gKHN0ciwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgcGFyc2VyID0gbmV3IElHQ1BhcnNlcigpO1xuICAgICAgICB2YXIgZXJyb3JzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBzdHIuc3BsaXQoJ1xcbicpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBfYVtfaV07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhcnNlci5wcm9jZXNzTGluZShsaW5lLnRyaW0oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5sZW5pZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gcGFyc2VyLnJlc3VsdDtcbiAgICAgICAgcmVzdWx0LmVycm9ycyA9IGVycm9ycztcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJR0NQYXJzZXIucHJvdG90eXBlLCBcInJlc3VsdFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9yZXN1bHQubG9nZ2VyTWFudWZhY3R1cmVyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIk1pc3NpbmcgQSByZWNvcmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3Jlc3VsdC5kYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBIRkRURSByZWNvcmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBJR0NQYXJzZXIucHJvdG90eXBlLnByb2Nlc3NMaW5lID0gZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgdGhpcy5saW5lTnVtYmVyICs9IDE7XG4gICAgICAgIHZhciByZWNvcmRUeXBlID0gbGluZVswXTtcbiAgICAgICAgaWYgKHJlY29yZFR5cGUgPT09ICdCJykge1xuICAgICAgICAgICAgdmFyIGZpeCA9IHRoaXMucGFyc2VCUmVjb3JkKGxpbmUpO1xuICAgICAgICAgICAgdGhpcy5wcmV2VGltZXN0YW1wID0gZml4LnRpbWVzdGFtcDtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdC5maXhlcy5wdXNoKGZpeCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVjb3JkVHlwZSA9PT0gJ0snKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMucGFyc2VLUmVjb3JkKGxpbmUpO1xuICAgICAgICAgICAgdGhpcy5wcmV2VGltZXN0YW1wID0gZGF0YS50aW1lc3RhbXA7XG4gICAgICAgICAgICB0aGlzLl9yZXN1bHQuZGF0YVJlY29yZHMucHVzaChkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWNvcmRUeXBlID09PSAnSCcpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0hlYWRlcihsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWNvcmRUeXBlID09PSAnQycpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1Rhc2tMaW5lKGxpbmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlY29yZFR5cGUgPT09ICdBJykge1xuICAgICAgICAgICAgdmFyIHJlY29yZCA9IHRoaXMucGFyc2VBUmVjb3JkKGxpbmUpO1xuICAgICAgICAgICAgdGhpcy5fcmVzdWx0LmxvZ2dlcklkID0gcmVjb3JkLmxvZ2dlcklkO1xuICAgICAgICAgICAgdGhpcy5fcmVzdWx0LmxvZ2dlck1hbnVmYWN0dXJlciA9IHJlY29yZC5tYW51ZmFjdHVyZXI7XG4gICAgICAgICAgICBpZiAocmVjb3JkLm51bUZsaWdodCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc3VsdC5udW1GbGlnaHQgPSByZWNvcmQubnVtRmxpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlY29yZFR5cGUgPT09ICdJJykge1xuICAgICAgICAgICAgdGhpcy5maXhFeHRlbnNpb25zID0gdGhpcy5wYXJzZUlKUmVjb3JkKGxpbmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlY29yZFR5cGUgPT09ICdKJykge1xuICAgICAgICAgICAgdGhpcy5kYXRhRXh0ZW5zaW9ucyA9IHRoaXMucGFyc2VJSlJlY29yZChsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZWNvcmRUeXBlID09PSAnRycpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdC5zZWN1cml0eSA9ICh0aGlzLl9yZXN1bHQuc2VjdXJpdHkgfHwgJycpICsgbGluZS5zbGljZSgxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSUdDUGFyc2VyLnByb3RvdHlwZS5wcm9jZXNzSGVhZGVyID0gZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgdmFyIGhlYWRlclR5cGUgPSBsaW5lLnNsaWNlKDIsIDUpO1xuICAgICAgICBpZiAoaGVhZGVyVHlwZSA9PT0gJ0RURScpIHtcbiAgICAgICAgICAgIHZhciByZWNvcmQgPSB0aGlzLnBhcnNlRGF0ZUhlYWRlcihsaW5lKTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdC5kYXRlID0gcmVjb3JkLmRhdGU7XG4gICAgICAgICAgICBpZiAocmVjb3JkLm51bUZsaWdodCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc3VsdC5udW1GbGlnaHQgPSByZWNvcmQubnVtRmxpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhlYWRlclR5cGUgPT09ICdQTFQnKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXN1bHQucGlsb3QgPSB0aGlzLnBhcnNlUGlsb3QobGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGVhZGVyVHlwZSA9PT0gJ0NNMicpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdC5jb3BpbG90ID0gdGhpcy5wYXJzZUNvcGlsb3QobGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGVhZGVyVHlwZSA9PT0gJ0dUWScpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdC5nbGlkZXJUeXBlID0gdGhpcy5wYXJzZUdsaWRlclR5cGUobGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGVhZGVyVHlwZSA9PT0gJ0dJRCcpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdC5yZWdpc3RyYXRpb24gPSB0aGlzLnBhcnNlUmVnaXN0cmF0aW9uKGxpbmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhlYWRlclR5cGUgPT09ICdDSUQnKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXN1bHQuY2FsbHNpZ24gPSB0aGlzLnBhcnNlQ2FsbHNpZ24obGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGVhZGVyVHlwZSA9PT0gJ0NDTCcpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdC5jb21wZXRpdGlvbkNsYXNzID0gdGhpcy5wYXJzZUNvbXBldGl0aW9uQ2xhc3MobGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGVhZGVyVHlwZSA9PT0gJ0ZUWScpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdC5sb2dnZXJUeXBlID0gdGhpcy5wYXJzZUxvZ2dlclR5cGUobGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGVhZGVyVHlwZSA9PT0gJ1JGVycpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdC5maXJtd2FyZVZlcnNpb24gPSB0aGlzLnBhcnNlRmlybXdhcmVWZXJzaW9uKGxpbmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhlYWRlclR5cGUgPT09ICdSSFcnKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXN1bHQuaGFyZHdhcmVWZXJzaW9uID0gdGhpcy5wYXJzZUhhcmR3YXJlVmVyc2lvbihsaW5lKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSUdDUGFyc2VyLnByb3RvdHlwZS5wYXJzZUFSZWNvcmQgPSBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKFJFX0EpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGxldCBtYW51ZmFjdHVyZXIgPSBsb29rdXAobWF0Y2hbMV0pO1xuICAgICAgICAgICAgdmFyIGxvZ2dlcklkID0gbWF0Y2hbMl07XG4gICAgICAgICAgICB2YXIgbnVtRmxpZ2h0ID0gbWF0Y2hbM10gPyBwYXJzZUludChtYXRjaFszXSwgMTApIDogbnVsbDtcbiAgICAgICAgICAgIGxldCBhZGRpdGlvbmFsRGF0YSA9IG1hdGNoWzRdIHx8IG51bGw7XG4gICAgICAgICAgICByZXR1cm4geyBtYW51ZmFjdHVyZXI6IG1hbnVmYWN0dXJlciwgbG9nZ2VySWQ6IGxvZ2dlcklkLCBudW1GbGlnaHQ6IG51bUZsaWdodCwgYWRkaXRpb25hbERhdGE6IGFkZGl0aW9uYWxEYXRhIH07XG4gICAgICAgIH1cbiAgICAgICAgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eQShcXHd7M30pKC4rKT8kLyk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgbGV0IG1hbnVmYWN0dXJlciA9IGxvb2t1cChtYXRjaFsxXSk7XG4gICAgICAgICAgICBsZXQgYWRkaXRpb25hbERhdGEgPSBtYXRjaFsyXSA/IG1hdGNoWzJdLnRyaW0oKSA6IG51bGw7XG4gICAgICAgICAgICByZXR1cm4geyBtYW51ZmFjdHVyZXI6IG1hbnVmYWN0dXJlciwgbG9nZ2VySWQ6IG51bGwsIG51bUZsaWdodDogbnVsbCwgYWRkaXRpb25hbERhdGE6IGFkZGl0aW9uYWxEYXRhIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBBIHJlY29yZCBhdCBsaW5lIFwiICsgdGhpcy5saW5lTnVtYmVyICsgXCI6IFwiICsgbGluZSk7XG4gICAgfTtcbiAgICBJR0NQYXJzZXIucHJvdG90eXBlLnBhcnNlRGF0ZUhlYWRlciA9IGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2goUkVfSEZEVEUpO1xuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIERURSBoZWFkZXIgYXQgbGluZSBcIiArIHRoaXMubGluZU51bWJlciArIFwiOiBcIiArIGxpbmUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsYXN0Q2VudHVyeSA9IG1hdGNoWzNdWzBdID09PSAnOCcgfHwgbWF0Y2hbM11bMF0gPT09ICc5JztcbiAgICAgICAgdmFyIGRhdGUgPSBcIlwiICsgKGxhc3RDZW50dXJ5ID8gJzE5JyA6ICcyMCcpICsgbWF0Y2hbM10gKyBcIi1cIiArIG1hdGNoWzJdICsgXCItXCIgKyBtYXRjaFsxXTtcbiAgICAgICAgdmFyIG51bUZsaWdodCA9IG1hdGNoWzRdID8gcGFyc2VJbnQobWF0Y2hbNF0sIDEwKSA6IG51bGw7XG4gICAgICAgIHJldHVybiB7IGRhdGU6IGRhdGUsIG51bUZsaWdodDogbnVtRmxpZ2h0IH07XG4gICAgfTtcbiAgICBJR0NQYXJzZXIucHJvdG90eXBlLnBhcnNlVGV4dEhlYWRlciA9IGZ1bmN0aW9uIChoZWFkZXJUeXBlLCByZWdleCwgbGluZSwgdW5kZXJzY29yZVJlcGxhY2VtZW50KSB7XG4gICAgICAgIGlmICh1bmRlcnNjb3JlUmVwbGFjZW1lbnQgPT09IHZvaWQgMCkgeyB1bmRlcnNjb3JlUmVwbGFjZW1lbnQgPSAnICc7IH1cbiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaChyZWdleCk7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKG1hdGNoWzFdIHx8IG1hdGNoWzJdIHx8ICcnKS5yZXBsYWNlKC9fL2csIHVuZGVyc2NvcmVSZXBsYWNlbWVudCkudHJpbSgpO1xuICAgIH07XG4gICAgSUdDUGFyc2VyLnByb3RvdHlwZS5wYXJzZVBpbG90ID0gZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VUZXh0SGVhZGVyKCdQTFQnLCBSRV9QTFRfSEVBREVSLCBsaW5lKTtcbiAgICB9O1xuICAgIElHQ1BhcnNlci5wcm90b3R5cGUucGFyc2VDb3BpbG90ID0gZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VUZXh0SGVhZGVyKCdDTTInLCBSRV9DTTJfSEVBREVSLCBsaW5lKTtcbiAgICB9O1xuICAgIElHQ1BhcnNlci5wcm90b3R5cGUucGFyc2VHbGlkZXJUeXBlID0gZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VUZXh0SGVhZGVyKCdHVFknLCBSRV9HVFlfSEVBREVSLCBsaW5lKTtcbiAgICB9O1xuICAgIElHQ1BhcnNlci5wcm90b3R5cGUucGFyc2VSZWdpc3RyYXRpb24gPSBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVRleHRIZWFkZXIoJ0dJRCcsIFJFX0dJRF9IRUFERVIsIGxpbmUsICctJyk7XG4gICAgfTtcbiAgICBJR0NQYXJzZXIucHJvdG90eXBlLnBhcnNlQ2FsbHNpZ24gPSBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVRleHRIZWFkZXIoJ0NJRCcsIFJFX0NJRF9IRUFERVIsIGxpbmUpO1xuICAgIH07XG4gICAgSUdDUGFyc2VyLnByb3RvdHlwZS5wYXJzZUNvbXBldGl0aW9uQ2xhc3MgPSBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVRleHRIZWFkZXIoJ0dJRCcsIFJFX0NDTF9IRUFERVIsIGxpbmUpO1xuICAgIH07XG4gICAgSUdDUGFyc2VyLnByb3RvdHlwZS5wYXJzZUxvZ2dlclR5cGUgPSBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVRleHRIZWFkZXIoJ0ZUWScsIFJFX0ZUWV9IRUFERVIsIGxpbmUpO1xuICAgIH07XG4gICAgSUdDUGFyc2VyLnByb3RvdHlwZS5wYXJzZUZpcm13YXJlVmVyc2lvbiA9IGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlVGV4dEhlYWRlcignUkZXJywgUkVfUkZXX0hFQURFUiwgbGluZSk7XG4gICAgfTtcbiAgICBJR0NQYXJzZXIucHJvdG90eXBlLnBhcnNlSGFyZHdhcmVWZXJzaW9uID0gZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VUZXh0SGVhZGVyKCdSSFcnLCBSRV9SSFdfSEVBREVSLCBsaW5lKTtcbiAgICB9O1xuICAgIElHQ1BhcnNlci5wcm90b3R5cGUucHJvY2Vzc1Rhc2tMaW5lID0gZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9yZXN1bHQudGFzaykge1xuICAgICAgICAgICAgdGhpcy5fcmVzdWx0LnRhc2sgPSB0aGlzLnBhcnNlVGFzayhsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdC50YXNrLnBvaW50cy5wdXNoKHRoaXMucGFyc2VUYXNrUG9pbnQobGluZSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJR0NQYXJzZXIucHJvdG90eXBlLnBhcnNlVGFzayA9IGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2goUkVfVEFTSyk7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdGFzayBkZWNsYXJhdGlvbiBhdCBsaW5lIFwiICsgdGhpcy5saW5lTnVtYmVyICsgXCI6IFwiICsgbGluZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RDZW50dXJ5ID0gbWF0Y2hbM11bMF0gPT09ICc4JyB8fCBtYXRjaFszXVswXSA9PT0gJzknO1xuICAgICAgICB2YXIgZGVjbGFyYXRpb25EYXRlID0gXCJcIiArIChsYXN0Q2VudHVyeSA/ICcxOScgOiAnMjAnKSArIG1hdGNoWzNdICsgXCItXCIgKyBtYXRjaFsyXSArIFwiLVwiICsgbWF0Y2hbMV07XG4gICAgICAgIHZhciBkZWNsYXJhdGlvblRpbWUgPSBtYXRjaFs0XSArIFwiOlwiICsgbWF0Y2hbNV0gKyBcIjpcIiArIG1hdGNoWzZdO1xuICAgICAgICB2YXIgZGVjbGFyYXRpb25UaW1lc3RhbXAgPSBEYXRlLnBhcnNlKGRlY2xhcmF0aW9uRGF0ZSArIFwiVFwiICsgZGVjbGFyYXRpb25UaW1lICsgXCJaXCIpO1xuICAgICAgICB2YXIgZmxpZ2h0RGF0ZSA9IG51bGw7XG4gICAgICAgIGlmIChtYXRjaFs3XSAhPT0gJzAwJyB8fCBtYXRjaFs4XSAhPT0gJzAwJyB8fCBtYXRjaFs5XSAhPT0gJzAwJykge1xuICAgICAgICAgICAgbGFzdENlbnR1cnkgPSBtYXRjaFs5XVswXSA9PT0gJzgnIHx8IG1hdGNoWzldWzBdID09PSAnOSc7XG4gICAgICAgICAgICBmbGlnaHREYXRlID0gXCJcIiArIChsYXN0Q2VudHVyeSA/ICcxOScgOiAnMjAnKSArIG1hdGNoWzldICsgXCItXCIgKyBtYXRjaFs4XSArIFwiLVwiICsgbWF0Y2hbN107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRhc2tOdW1iZXIgPSAobWF0Y2hbMTBdICE9PSAnMDAwMCcpID8gcGFyc2VJbnQobWF0Y2hbMTBdLCAxMCkgOiBudWxsO1xuICAgICAgICB2YXIgbnVtVHVybnBvaW50cyA9IHBhcnNlSW50KG1hdGNoWzExXSwgMTApO1xuICAgICAgICB2YXIgY29tbWVudCA9IG1hdGNoWzEyXSB8fCBudWxsO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGVjbGFyYXRpb25EYXRlOiBkZWNsYXJhdGlvbkRhdGUsXG4gICAgICAgICAgICBkZWNsYXJhdGlvblRpbWU6IGRlY2xhcmF0aW9uVGltZSxcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uVGltZXN0YW1wOiBkZWNsYXJhdGlvblRpbWVzdGFtcCxcbiAgICAgICAgICAgIGZsaWdodERhdGU6IGZsaWdodERhdGUsXG4gICAgICAgICAgICB0YXNrTnVtYmVyOiB0YXNrTnVtYmVyLFxuICAgICAgICAgICAgbnVtVHVybnBvaW50czogbnVtVHVybnBvaW50cyxcbiAgICAgICAgICAgIGNvbW1lbnQ6IGNvbW1lbnQsXG4gICAgICAgICAgICBwb2ludHM6IFtdLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgSUdDUGFyc2VyLnByb3RvdHlwZS5wYXJzZVRhc2tQb2ludCA9IGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2goUkVfVEFTS1BPSU5UKTtcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0YXNrIHBvaW50IGRlY2xhcmF0aW9uIGF0IGxpbmUgXCIgKyB0aGlzLmxpbmVOdW1iZXIgKyBcIjogXCIgKyBsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGF0aXR1ZGUgPSBJR0NQYXJzZXIucGFyc2VMYXRpdHVkZShtYXRjaFsxXSwgbWF0Y2hbMl0sIG1hdGNoWzNdLCBtYXRjaFs0XSk7XG4gICAgICAgIHZhciBsb25naXR1ZGUgPSBJR0NQYXJzZXIucGFyc2VMb25naXR1ZGUobWF0Y2hbNV0sIG1hdGNoWzZdLCBtYXRjaFs3XSwgbWF0Y2hbOF0pO1xuICAgICAgICB2YXIgbmFtZSA9IG1hdGNoWzldIHx8IG51bGw7XG4gICAgICAgIHJldHVybiB7IGxhdGl0dWRlOiBsYXRpdHVkZSwgbG9uZ2l0dWRlOiBsb25naXR1ZGUsIG5hbWU6IG5hbWUgfTtcbiAgICB9O1xuICAgIElHQ1BhcnNlci5wcm90b3R5cGUucGFyc2VCUmVjb3JkID0gZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9yZXN1bHQuZGF0ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBIRkRURSByZWNvcmQgYmVmb3JlIGZpcnN0IEIgcmVjb3JkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2goUkVfQik7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgQiByZWNvcmQgYXQgbGluZSBcIiArIHRoaXMubGluZU51bWJlciArIFwiOiBcIiArIGxpbmUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aW1lID0gbWF0Y2hbMV0gKyBcIjpcIiArIG1hdGNoWzJdICsgXCI6XCIgKyBtYXRjaFszXTtcbiAgICAgICAgdmFyIHRpbWVzdGFtcCA9IHRoaXMuY2FsY1RpbWVzdGFtcCh0aW1lKTtcbiAgICAgICAgdmFyIGxhdGl0dWRlID0gSUdDUGFyc2VyLnBhcnNlTGF0aXR1ZGUobWF0Y2hbNF0sIG1hdGNoWzVdLCBtYXRjaFs2XSwgbWF0Y2hbN10pO1xuICAgICAgICB2YXIgbG9uZ2l0dWRlID0gSUdDUGFyc2VyLnBhcnNlTG9uZ2l0dWRlKG1hdGNoWzhdLCBtYXRjaFs5XSwgbWF0Y2hbMTBdLCBtYXRjaFsxMV0pO1xuICAgICAgICB2YXIgdmFsaWQgPSBtYXRjaFsxMl0gPT09ICdBJztcbiAgICAgICAgdmFyIHByZXNzdXJlQWx0aXR1ZGUgPSBtYXRjaFsxM10gPT09ICcwMDAwMCcgPyBudWxsIDogcGFyc2VJbnQobWF0Y2hbMTNdLCAxMCk7XG4gICAgICAgIHZhciBncHNBbHRpdHVkZSA9IG1hdGNoWzE0XSA9PT0gJzAwMDAwJyA/IG51bGwgOiBwYXJzZUludChtYXRjaFsxNF0sIDEwKTtcbiAgICAgICAgdmFyIGV4dGVuc2lvbnMgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuZml4RXh0ZW5zaW9ucykge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuZml4RXh0ZW5zaW9uczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgX2IgPSBfYVtfaV0sIGNvZGUgPSBfYi5jb2RlLCBzdGFydCA9IF9iLnN0YXJ0LCBsZW5ndGggPSBfYi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uc1tjb2RlXSA9IGxpbmUuc2xpY2Uoc3RhcnQsIHN0YXJ0ICsgbGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZW5sID0gbnVsbDtcbiAgICAgICAgaWYgKGV4dGVuc2lvbnNbJ0VOTCddKSB7XG4gICAgICAgICAgICB2YXIgZW5sTGVuZ3RoID0gdGhpcy5maXhFeHRlbnNpb25zLmZpbHRlcihmdW5jdGlvbiAoaXQpIHsgcmV0dXJuIGl0LmNvZGUgPT09ICdFTkwnOyB9KVswXS5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgZW5sTWF4ID0gTWF0aC5wb3coMTAsIGVubExlbmd0aCk7XG4gICAgICAgICAgICBlbmwgPSBwYXJzZUludChleHRlbnNpb25zWydFTkwnXSwgMTApIC8gZW5sTWF4O1xuICAgICAgICB9XG4gICAgICAgIHZhciBmaXhBY2N1cmFjeSA9IGV4dGVuc2lvbnNbJ0ZYQSddID8gcGFyc2VJbnQoZXh0ZW5zaW9uc1snRlhBJ10sIDEwKSA6IG51bGw7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcCxcbiAgICAgICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgICAgICBsYXRpdHVkZTogbGF0aXR1ZGUsXG4gICAgICAgICAgICBsb25naXR1ZGU6IGxvbmdpdHVkZSxcbiAgICAgICAgICAgIHZhbGlkOiB2YWxpZCxcbiAgICAgICAgICAgIHByZXNzdXJlQWx0aXR1ZGU6IHByZXNzdXJlQWx0aXR1ZGUsXG4gICAgICAgICAgICBncHNBbHRpdHVkZTogZ3BzQWx0aXR1ZGUsXG4gICAgICAgICAgICBleHRlbnNpb25zOiBleHRlbnNpb25zLFxuICAgICAgICAgICAgZW5sOiBlbmwsXG4gICAgICAgICAgICBmaXhBY2N1cmFjeTogZml4QWNjdXJhY3ksXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBJR0NQYXJzZXIucHJvdG90eXBlLnBhcnNlS1JlY29yZCA9IGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIGlmICghdGhpcy5fcmVzdWx0LmRhdGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgSEZEVEUgcmVjb3JkIGJlZm9yZSBmaXJzdCBLIHJlY29yZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZGF0YUV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgSiByZWNvcmQgYmVmb3JlIGZpcnN0IEsgcmVjb3JkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2goUkVfSyk7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSyByZWNvcmQgYXQgbGluZSBcIiArIHRoaXMubGluZU51bWJlciArIFwiOiBcIiArIGxpbmUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aW1lID0gbWF0Y2hbMV0gKyBcIjpcIiArIG1hdGNoWzJdICsgXCI6XCIgKyBtYXRjaFszXTtcbiAgICAgICAgdmFyIHRpbWVzdGFtcCA9IHRoaXMuY2FsY1RpbWVzdGFtcCh0aW1lKTtcbiAgICAgICAgdmFyIGV4dGVuc2lvbnMgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YUV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmRhdGFFeHRlbnNpb25zOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBfYiA9IF9hW19pXSwgY29kZSA9IF9iLmNvZGUsIHN0YXJ0ID0gX2Iuc3RhcnQsIGxlbmd0aCA9IF9iLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zW2NvZGVdID0gbGluZS5zbGljZShzdGFydCwgc3RhcnQgKyBsZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHRpbWVzdGFtcDogdGltZXN0YW1wLCB0aW1lOiB0aW1lLCBleHRlbnNpb25zOiBleHRlbnNpb25zIH07XG4gICAgfTtcbiAgICBJR0NQYXJzZXIucHJvdG90eXBlLnBhcnNlSUpSZWNvcmQgPSBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKFJFX0lKKTtcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgXCIgKyBsaW5lWzBdICsgXCIgcmVjb3JkIGF0IGxpbmUgXCIgKyB0aGlzLmxpbmVOdW1iZXIgKyBcIjogXCIgKyBsaW5lKTtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbnVtID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICAgICAgaWYgKGxpbmUubGVuZ3RoIDwgMyArIG51bSAqIDcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgXCIgKyBsaW5lWzBdICsgXCIgcmVjb3JkIGF0IGxpbmUgXCIgKyB0aGlzLmxpbmVOdW1iZXIgKyBcIjogXCIgKyBsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXh0ZW5zaW9ucyA9IG5ldyBBcnJheShudW0pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gMyArIGkgKiA3O1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gcGFyc2VJbnQobGluZS5zbGljZShvZmZzZXQsIG9mZnNldCArIDIpLCAxMCk7XG4gICAgICAgICAgICB2YXIgZW5kID0gcGFyc2VJbnQobGluZS5zbGljZShvZmZzZXQgKyAyLCBvZmZzZXQgKyA0KSwgMTApO1xuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IGVuZCAtIHN0YXJ0ICsgMTtcbiAgICAgICAgICAgIHZhciBjb2RlID0gbGluZS5zbGljZShvZmZzZXQgKyA0LCBvZmZzZXQgKyA3KTtcbiAgICAgICAgICAgIGV4dGVuc2lvbnNbaV0gPSB7IHN0YXJ0OiBzdGFydCwgbGVuZ3RoOiBsZW5ndGgsIGNvZGU6IGNvZGUgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXh0ZW5zaW9ucztcbiAgICB9O1xuICAgIElHQ1BhcnNlci5wYXJzZUxhdGl0dWRlID0gZnVuY3Rpb24gKGRkLCBtbSwgbW1tLCBucykge1xuICAgICAgICB2YXIgZGVncmVlcyA9IHBhcnNlSW50KGRkLCAxMCkgKyBwYXJzZUZsb2F0KG1tICsgXCIuXCIgKyBtbW0pIC8gNjA7XG4gICAgICAgIHJldHVybiAobnMgPT09ICdTJykgPyAtZGVncmVlcyA6IGRlZ3JlZXM7XG4gICAgfTtcbiAgICBJR0NQYXJzZXIucGFyc2VMb25naXR1ZGUgPSBmdW5jdGlvbiAoZGRkLCBtbSwgbW1tLCBldykge1xuICAgICAgICB2YXIgZGVncmVlcyA9IHBhcnNlSW50KGRkZCwgMTApICsgcGFyc2VGbG9hdChtbSArIFwiLlwiICsgbW1tKSAvIDYwO1xuICAgICAgICByZXR1cm4gKGV3ID09PSAnVycpID8gLWRlZ3JlZXMgOiBkZWdyZWVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmlndXJlcyBvdXQgYSBVbml4IHRpbWVzdGFtcCBpbiBtaWxsaXNlY29uZHMgYmFzZWQgb24gdGhlXG4gICAgICogZGF0ZSBoZWFkZXIgdmFsdWUsIHRoZSB0aW1lIGZpZWxkIGluIHRoZSBjdXJyZW50IHJlY29yZCBhbmRcbiAgICAgKiB0aGUgcHJldmlvdXMgdGltZXN0YW1wLlxuICAgICAqL1xuICAgIElHQ1BhcnNlci5wcm90b3R5cGUuY2FsY1RpbWVzdGFtcCA9IGZ1bmN0aW9uICh0aW1lKSB7XG4gICAgICAgIHZhciB0aW1lc3RhbXAgPSBEYXRlLnBhcnNlKHRoaXMuX3Jlc3VsdC5kYXRlICsgXCJUXCIgKyB0aW1lICsgXCJaXCIpO1xuICAgICAgICAvLyBhbGxvdyB0aW1lc3RhbXBzIG9uZSBob3VyIGJlZm9yZSB0aGUgcHJldmlvdXMgdGltZXN0YW1wLFxuICAgICAgICAvLyBvdGhlcndpc2Ugd2UgYXNzdW1lIHRoZSBuZXh0IGRheSBpcyBtZWFudFxuICAgICAgICB3aGlsZSAodGhpcy5wcmV2VGltZXN0YW1wICYmIHRpbWVzdGFtcCA8IHRoaXMucHJldlRpbWVzdGFtcCAtIE9ORV9IT1VSKSB7XG4gICAgICAgICAgICB0aW1lc3RhbXAgKz0gT05FX0RBWTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGltZXN0YW1wO1xuICAgIH07XG4gICAgcmV0dXJuIElHQ1BhcnNlcjtcbn0oKSk7XG52YXIgaWdjUGFyc2VyID0gSUdDUGFyc2VyO1xuXG5leHBvcnRzLklHQ1BhcnNlciA9IGlnY1BhcnNlcjtcbmV4cG9ydHMuc2NvcmluZ1J1bGVzID0gc2NvcmluZ1J1bGVzX2NvbmZpZztcbmV4cG9ydHMuc29sdmVyID0gc29sdmVyXzE7XG4iLCJpbXBvcnQgeyBzb2x2ZXIsIHNjb3JpbmdSdWxlcyB9IGZyb20gJ2lnYy14Yy1zY29yZSc7XG5pbXBvcnQgeyBJR0NGaWxlIH0gZnJvbSAnaWdjLXBhcnNlcic7XG5cbmZ1bmN0aW9uIGZpbHRlckZ1bmMobzogYW55KTogb2JqZWN0IHtcbiAgICBjb25zdCByOiBhbnkgPSB7fTtcbiAgICBmb3IgKGxldCBrIG9mIE9iamVjdC5rZXlzKG8pKVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiBvW2tdKSB7XG4gICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgICAgIGlmIChvW2tdICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICByW2tdID0gZmlsdGVyRnVuYyhvW2tdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcltrXSA9IG9ba107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICByZXR1cm4gcjtcbn1cblxuc2VsZi5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAobXNnOiBhbnkpIHtcbiAgICBpZiAobXNnLmRhdGEubXNnID0gJ3hjLXNjb3JlJykge1xuICAgICAgICBjb25zdCBmbGlnaHQgPSA8SUdDRmlsZT57IGZpeGVzOiBtc2cuZGF0YS5mbGlnaHQgfTtcbiAgICAgICAgbGV0IHJ1bGVzOiBhbnk7XG4gICAgICAgIHN3aXRjaCAobXNnLmRhdGEubGVhZ3VlKSB7XG4gICAgICAgICAgICBjYXNlICd4Yyc6XG4gICAgICAgICAgICAgICAgcnVsZXMgPSBzY29yaW5nUnVsZXMuWENvbnRlc3Q7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdGRlZMJzpcbiAgICAgICAgICAgICAgICBydWxlcyA9IHNjb3JpbmdSdWxlcy5GRlZMO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChydWxlcyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBpdCA9IHNvbHZlcihmbGlnaHQsIHJ1bGVzLCB7IG1heGN5Y2xlOiAxMDAwIH0pO1xuICAgICAgICBsZXQgcyA9IGl0Lm5leHQoKTtcbiAgICAgICAgd2hpbGUgKCFzLmRvbmUpIHtcbiAgICAgICAgICAgIHNlbGYucG9zdE1lc3NhZ2UoeyBtc2c6ICd4Yy1zY29yZS1yZXN1bHQnLCByOiBmaWx0ZXJGdW5jKHMudmFsdWUpIH0pO1xuICAgICAgICAgICAgcyA9IGl0Lm5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHsgbXNnOiAneGMtc2NvcmUtcmVzdWx0JywgcjogZmlsdGVyRnVuYyhzLnZhbHVlKSB9KTtcbiAgICB9XG59OyJdLCJuYW1lcyI6WyJjb21tb25qc0dsb2JhbCIsImdsb2JhbCIsInNjb3JpbmdSdWxlcyIsInNvbHZlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRUEsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsWUFBWSxFQUFFLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7O0FBRTlELElBQUlBLGdCQUFjLEdBQUcsT0FBTyxVQUFVLEtBQUssV0FBVyxHQUFHLFVBQVUsR0FBRyxPQUFPLE1BQU0sS0FBSyxXQUFXLEdBQUcsTUFBTSxHQUFHLE9BQU9DLGNBQU0sS0FBSyxXQUFXLEdBQUdBLGNBQU0sR0FBRyxPQUFPLElBQUksS0FBSyxXQUFXLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQzs7QUFFaE0sU0FBUyxvQkFBb0IsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFO0NBQ3pDLE9BQU8sTUFBTSxHQUFHLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUM7Q0FDNUU7O0FBRUQsU0FBUyx5QkFBeUIsRUFBRSxDQUFDLEVBQUU7Q0FDdEMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUM5Qjs7Ozs7Ozs7O0FBU0QsUUFBUSxDQUFDLElBQUksR0FBRyxZQUFZO0NBQzNCLENBQUM7Ozs7Ozs7Ozs7O0FBV0YsUUFBUSxDQUFDLFFBQVEsR0FBRyxVQUFVLEtBQUssRUFBRTtJQUNqQyxPQUFPLEtBQUssQ0FBQztDQUNoQixDQUFDOzs7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RUFBRSxLQUFLLEVBQUU7SUFDeEIsTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLEdBQUcsRUFBRTtRQUN4QyxLQUFLLEVBQUUsS0FBSztRQUNaLFFBQVEsRUFBRSxJQUFJO1FBQ2QsWUFBWSxFQUFFLElBQUk7UUFDbEIsVUFBVSxFQUFFLEtBQUs7S0FDcEIsQ0FBQyxDQUFDO0NBQ047O0FBRUQsTUFBTSxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDdkQsTUFBTSxDQUFDLFlBQVksRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDN0QsTUFBTSxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDdkQsTUFBTSxDQUFDLFVBQVUsRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDekQsTUFBTSxDQUFDLEtBQUssRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDL0MsTUFBTSxDQUFDLEtBQUssRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDL0MsTUFBTSxDQUFDLEtBQUssRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDL0MsTUFBTSxDQUFDLEtBQUssRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDL0MsTUFBTSxDQUFDLEtBQUssRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDL0MsTUFBTSxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDdkQsTUFBTSxDQUFDLE1BQU0sRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDakQsTUFBTSxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDdkQsTUFBTSxDQUFDLEtBQUssRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDL0MsTUFBTSxDQUFDLFdBQVcsRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDM0QsTUFBTSxDQUFDLE9BQU8sRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDbkQsTUFBTSxDQUFDLFFBQVEsRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDckQsTUFBTSxDQUFDLFVBQVUsRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRXpELE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxVQUFVLE1BQU0sRUFBRTtJQUN2QyxJQUFJLEtBQUssR0FBRyxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNuQyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3RCLE9BQU8sS0FBSyxDQUFDO0NBQ2hCLENBQUMsQ0FBQzs7QUFFSCxNQUFNLENBQUMsS0FBSyxFQUFFLFVBQVUsS0FBSyxFQUFFLE1BQU0sRUFBRTtJQUNuQyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0NBQy9DLENBQUMsQ0FBQzs7QUFFSCxNQUFNLENBQUMsS0FBSyxFQUFFLFVBQVUsS0FBSyxFQUFFLFlBQVksRUFBRTtJQUN6QyxJQUFJLENBQUMsS0FBSyxLQUFLLEtBQUssRUFBRTtRQUNsQixNQUFNLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUM7S0FDL0MsTUFBTSxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRTtRQUN2QixPQUFPLFlBQVksQ0FBQztLQUN2QixNQUFNO1FBQ0gsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDdEI7Q0FDSixDQUFDLENBQUM7O0FBRUgsTUFBTSxDQUFDLEtBQUssRUFBRSxVQUFVLEtBQUssRUFBRSxLQUFLLEVBQUU7SUFDbEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQztJQUNwQixPQUFPLElBQUksQ0FBQztDQUNmLENBQUMsQ0FBQzs7QUFFSCxNQUFNLENBQUMsS0FBSyxFQUFFLFVBQVUsS0FBSyxFQUFFO0lBQzNCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDakIsT0FBTyxJQUFJLENBQUM7Q0FDZixDQUFDLENBQUM7O0FBRUgsTUFBTSxDQUFDLFFBQVEsRUFBRSxVQUFVLEtBQUssRUFBRSxNQUFNLEVBQUU7SUFDdEMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDMUMsSUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQUU7UUFDZCxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RCLE9BQU8sSUFBSSxDQUFDO0tBQ2Y7SUFDRCxPQUFPLEtBQUssQ0FBQztDQUNoQixDQUFDLENBQUM7O0FBRUgsTUFBTSxDQUFDLFdBQVcsRUFBRSxVQUFVLEtBQUssRUFBRSxNQUFNLEVBQUU7SUFDekMsTUFBTSxHQUFHLE1BQU0sSUFBSSxJQUFJLENBQUMsYUFBYSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDdkQsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO0lBQ2QsS0FBSyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUc7UUFDdEMsSUFBSSxNQUFNLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFO1lBQzVCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLEtBQUssRUFBRSxDQUFDO1NBQ1gsTUFBTTtZQUNILEtBQUssRUFBRSxDQUFDO1NBQ1g7S0FDSjtJQUNELE9BQU8sS0FBSyxDQUFDO0NBQ2hCLENBQUMsQ0FBQzs7OztBQUlILElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRTtJQUN2QixNQUFNLENBQUMsTUFBTSxFQUFFLFNBQVMsU0FBUyxFQUFFOztRQUUvQixJQUFJLElBQUksSUFBSSxJQUFJLEVBQUU7WUFDZCxNQUFNLElBQUksU0FBUyxDQUFDLCtCQUErQixDQUFDLENBQUM7U0FDeEQ7O1FBRUQsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDOzs7UUFHckIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUM7OztRQUd6QixJQUFJLE9BQU8sU0FBUyxLQUFLLFVBQVUsRUFBRTtZQUNqQyxNQUFNLElBQUksU0FBUyxDQUFDLDhCQUE4QixDQUFDLENBQUM7U0FDdkQ7OztRQUdELElBQUksT0FBTyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7O1FBRzNCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQzs7O1FBR1YsT0FBTyxDQUFDLEdBQUcsR0FBRyxFQUFFOzs7OztZQUtaLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNsQixJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3ZDLE9BQU8sTUFBTSxDQUFDO2FBQ2pCOztZQUVELENBQUMsRUFBRSxDQUFDO1NBQ1A7S0FDSixDQUFDLENBQUM7Q0FDTjs7O0FBR0QsSUFBSSxtQkFBbUIsR0FBRyxFQUFFLENBQUM7QUFDN0IsU0FBUyxjQUFjLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRTtJQUNsQztRQUNJLE9BQU8sT0FBTyxLQUFLLFdBQVc7WUFDMUIsT0FBTyxPQUFPLENBQUMsSUFBSSxLQUFLLFVBQVU7aUJBQzdCLE9BQU8sS0FBSyxJQUFJLElBQUksbUJBQW1CLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssQ0FBQztNQUNqRjtRQUNFLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDbEIsbUJBQW1CLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztLQUM5QjtDQUNKOzs7O0FBSUQsSUFBSSxrQkFBa0IsR0FBRyxNQUFNLENBQUMsd0JBQXdCLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUM7QUFDeEYsTUFBTSxDQUFDLE1BQU0sRUFBRSxVQUFVLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFO0lBQzNDO1FBQ0ksT0FBTyxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssVUFBVTtZQUM5QixJQUFJLFlBQVksS0FBSztNQUMzQjtRQUNFLE9BQU8sa0JBQWtCLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztLQUNwRCxNQUFNO1FBQ0gsY0FBYyxDQUFDLDJEQUEyRCxDQUFDLENBQUM7UUFDNUUsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7S0FDaEQ7Q0FDSixDQUFDLENBQUM7O0FBRUgsTUFBTSxDQUFDLFdBQVcsRUFBRSxVQUFVLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFO0lBQ2hELElBQUksS0FBSyxFQUFFO1FBQ1AsTUFBTSxJQUFJLEtBQUssQ0FBQyx3REFBd0QsQ0FBQyxDQUFDO0tBQzdFO0lBQ0QsTUFBTSxHQUFHLE1BQU0sSUFBSSxJQUFJLENBQUMsYUFBYSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDdkQsS0FBSyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDOUMsSUFBSSxLQUFLLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7WUFDN0MsT0FBTyxLQUFLLENBQUM7U0FDaEI7S0FDSjtJQUNELE9BQU8sQ0FBQyxDQUFDLENBQUM7Q0FDYixDQUFDLENBQUM7OztBQUdILE1BQU0sQ0FBQyxVQUFVLEVBQUUsVUFBVSxLQUFLLEVBQUUsTUFBTSxFQUFFO0lBQ3hDLGNBQWMsQ0FBQywrRUFBK0UsQ0FBQyxDQUFDO0lBQ2hHLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0NBQ3BELENBQUMsQ0FBQzs7QUFFSCxNQUFNLENBQUMsZUFBZSxFQUFFLFVBQVUsS0FBSyxFQUFFLE1BQU0sRUFBRTtJQUM3QyxNQUFNLEdBQUcsTUFBTSxJQUFJLElBQUksQ0FBQyxhQUFhLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUN2RCxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3hCLEdBQUc7UUFDQyxLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksS0FBSyxJQUFJLElBQUksSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFFO1lBQzdDLE9BQU8sS0FBSyxDQUFDO1NBQ2hCO0tBQ0osUUFBUSxLQUFLLEdBQUcsQ0FBQyxFQUFFO0lBQ3BCLE9BQU8sQ0FBQyxDQUFDLENBQUM7Q0FDYixDQUFDLENBQUM7O0FBRUgsTUFBTSxDQUFDLE1BQU0sRUFBRSxVQUFVLEtBQUssRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO0lBQzFDLElBQUksSUFBSSxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLFdBQVcsQ0FBQztJQUN4QyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFO1FBQ3JCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0tBQ3ZCO0lBQ0QsSUFBSSxPQUFPLElBQUksS0FBSyxXQUFXLEVBQUU7UUFDN0IsSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3RCLElBQUksR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2pDO1FBQ0QsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNOLFVBQVUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDOzs7Ozs7O1FBT3pCLElBQUksVUFBVSxHQUFHLElBQUksRUFBRTtZQUNuQixLQUFLLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUN6QixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUN2QjtZQUNELE9BQU8sWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDekMsTUFBTTs7O1lBR0gsV0FBVyxHQUFHLFlBQVksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDOztZQUU3QyxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxHQUFHO2dCQUNyQixJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNwQixLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLEdBQUcsVUFBVSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUM5QyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUNyQjtnQkFDRCxZQUFZLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQzthQUNsQztZQUNELE9BQU8sV0FBVyxDQUFDO1NBQ3RCOztLQUVKLE1BQU0sSUFBSSxPQUFPLE1BQU0sS0FBSyxXQUFXLEVBQUU7UUFDdEMsT0FBTyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7S0FDakQsT0FBTyxJQUFJLE9BQU8sS0FBSyxLQUFLLFdBQVcsRUFBRTtRQUN0QyxPQUFPLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ3pDLE1BQU07UUFDSCxPQUFPLEVBQUUsQ0FBQztLQUNiO0NBQ0osQ0FBQyxDQUFDOztBQUVILE1BQU0sQ0FBQyxNQUFNLEVBQUUsWUFBWTtJQUN2QixPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztDQUNsQixDQUFDLENBQUM7O0FBRUgsTUFBTSxDQUFDLE1BQU0sRUFBRSxVQUFVLEtBQUssRUFBRTtJQUM1QixJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQ2pCLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7S0FDbkI7Q0FDSixDQUFDLENBQUM7O0FBRUgsTUFBTSxDQUFDLFVBQVUsRUFBRSxZQUFZO0lBQzNCLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDakIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztLQUNoQztDQUNKLENBQUMsQ0FBQzs7QUFFSCxNQUFNLENBQUMsVUFBVSxFQUFFLFVBQVUsS0FBSyxFQUFFO0lBQ2hDLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDakIsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO0tBQ2pDO0NBQ0osQ0FBQyxDQUFDOztBQUVILE1BQU0sQ0FBQyxLQUFLLEVBQUUsWUFBWTtJQUN0QixLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRTtRQUNoQixJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQ3RCLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2xCO0tBQ0o7Q0FDSixDQUFDLENBQUM7O0FBRUgsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFO0lBQ3hCLE1BQU0sQ0FBQyxPQUFPLEVBQUUsWUFBWTtRQUN4QixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUNoQixPQUFPLElBQUksQ0FBQztLQUNmLENBQUMsQ0FBQztDQUNOOztBQUVELE1BQU0sQ0FBQyxTQUFTLEVBQUUsVUFBVSxJQUFJLEVBQUUsT0FBTyxFQUFFO0lBQ3ZDLE9BQU8sR0FBRyxPQUFPLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQztJQUNwQyxJQUFJLENBQUMsQ0FBQztJQUNOLElBQUksTUFBTSxDQUFDO0lBQ1gsSUFBSSxHQUFHLENBQUM7SUFDUixJQUFJLEdBQUcsQ0FBQztJQUNSLElBQUksUUFBUSxDQUFDOztJQUViLElBQUksSUFBSSxLQUFLLElBQUksRUFBRTtRQUNmLE9BQU8sQ0FBQyxDQUFDO0tBQ1o7O0lBRUQsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDL0IsT0FBTyxZQUFZLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztLQUNuRTs7SUFFRCxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDOztJQUVqRSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN6QixJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUU7WUFDWCxJQUFJLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFO2dCQUNkLE9BQU8sQ0FBQyxDQUFDLENBQUM7YUFDYixNQUFNO2dCQUNILEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2QsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDZCxRQUFRLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDN0IsSUFBSSxRQUFRLEVBQUU7b0JBQ1YsT0FBTyxRQUFRLENBQUM7aUJBQ25CO2FBQ0o7U0FDSixNQUFNLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRTtZQUNsQixPQUFPLENBQUMsQ0FBQztTQUNaO0tBQ0o7O0lBRUQsT0FBTyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7Q0FDcEMsQ0FBQyxDQUFDOztBQUVILE1BQU0sQ0FBQyxRQUFRLEVBQUUsVUFBVSxJQUFJLEVBQUUsTUFBTSxFQUFFO0lBQ3JDLE1BQU0sR0FBRyxNQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUNqQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDVixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3pCLElBQUksSUFBSSxDQUFDO0lBQ1QsSUFBSSxLQUFLLENBQUM7O0lBRVYsSUFBSSxJQUFJLEtBQUssSUFBSSxFQUFFO1FBQ2YsT0FBTyxJQUFJLENBQUM7S0FDZjtJQUNELElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQy9CLE9BQU8sWUFBWSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztLQUN6RDs7SUFFRCxJQUFJLE1BQU0sS0FBSyxJQUFJLENBQUMsTUFBTSxFQUFFO1FBQ3hCLE9BQU8sS0FBSyxDQUFDO0tBQ2hCLE1BQU07UUFDSCxPQUFPLENBQUMsR0FBRyxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDcEIsSUFBSSxDQUFDLElBQUksSUFBSSxFQUFFO2dCQUNYLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLEVBQUU7b0JBQ2QsT0FBTyxLQUFLLENBQUM7aUJBQ2hCO2dCQUNELElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2YsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDaEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLEVBQUU7b0JBQ3RCLE9BQU8sS0FBSyxDQUFDO2lCQUNoQjthQUNKLE1BQU07Z0JBQ0gsSUFBSSxDQUFDLElBQUksSUFBSSxFQUFFO29CQUNYLE9BQU8sS0FBSyxDQUFDO2lCQUNoQjthQUNKO1NBQ0o7S0FDSjtJQUNELE9BQU8sSUFBSSxDQUFDO0NBQ2YsQ0FBQyxDQUFDOztBQUVILE1BQU0sQ0FBQyxPQUFPLEVBQUUsVUFBVSxLQUFLLEVBQUUsSUFBSSxFQUFFO0lBQ25DLElBQUksS0FBSyxJQUFJLElBQUksRUFBRTtRQUNmLEtBQUssR0FBRyxRQUFRLENBQUM7S0FDcEIsTUFBTSxJQUFJLEtBQUssS0FBSyxDQUFDLEVBQUU7UUFDcEIsT0FBTyxJQUFJLENBQUM7S0FDZjtJQUNELElBQUksR0FBRyxJQUFJLElBQUksSUFBSSxTQUFTLEVBQUUsQ0FBQztJQUMvQixJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDaEIsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3pCO0lBQ0QsSUFBSSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ25DLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3RCLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxFQUFFO1FBQ2hCLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQ3JELElBQUksT0FBTyxLQUFLLENBQUM7Q0FDckIsQ0FBQyxDQUFDOztBQUVILE1BQU0sQ0FBQyxTQUFTLEVBQUUsVUFBVSxLQUFLLEVBQUUsR0FBRyxFQUFFO0lBQ3BDLE9BQU8sSUFBSSxhQUFhLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztDQUM5QyxDQUFDLENBQUM7O0FBRUgsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLFNBQVMsS0FBSyxLQUFLLENBQUMsRUFBRTtJQUNyQyxNQUFNLENBQUMsV0FBVyxFQUFFLFVBQVUsS0FBSyxDQUFDLFNBQVMsRUFBRTtRQUMzQyxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRSxNQUFNLEVBQUU7UUFDcEIsR0FBRyxTQUFTLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUN2QixPQUFPLEtBQUssQ0FBQyxHQUFHLEVBQUU7Z0JBQ2QsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzVCLEtBQUssRUFBRSxDQUFDO2FBQ1g7WUFDRCxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7U0FDakI7YUFDSTtZQUNELElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxTQUFTLENBQUM7U0FDM0I7S0FDSixDQUFDLENBQUM7Q0FDTjs7QUFFRCxNQUFNLENBQUMsVUFBVSxFQUFFLGFBQWEsQ0FBQyxDQUFDOztBQUVsQyxTQUFTLGFBQWEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRTtJQUN0QyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUNuQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssSUFBSSxJQUFJLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztJQUN2QyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztDQUNsQjs7QUFFRCxhQUFhLENBQUMsU0FBUyxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQztBQUNqRCxNQUFNLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsa0JBQWtCLEVBQUU7SUFDOUQsR0FBRyxFQUFFLFdBQVc7UUFDWixPQUFPLElBQUksQ0FBQyxpQkFBaUIsS0FBSyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0tBQzFGO0NBQ0osQ0FBQyxDQUFDOztBQUVILGFBQWEsQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLFlBQVk7SUFDdkMsSUFBSSxJQUFJLENBQUMsS0FBSyxNQUFNLElBQUksQ0FBQyxHQUFHLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNsRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNsQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDO0tBQ3hDLE1BQU07UUFDSCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7S0FDMUQ7SUFDRCxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztDQUNoQyxDQUFDOzs7Ozs7OztBQVFGLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO0lBQ2hCLElBQUksT0FBTyxHQUFHLDBCQUEwQixDQUFDO0lBQ3pDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsVUFBVSxNQUFNLEVBQUU7UUFDOUIsT0FBTyxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztLQUMxQyxDQUFDO0NBQ0w7O0FBRUQsSUFBSSxVQUFVLGdCQUFnQixNQUFNLENBQUMsTUFBTSxDQUFDO0NBQzNDLFNBQVMsRUFBRSxJQUFJO0NBQ2YsQ0FBQyxDQUFDOztBQUVILHlCQUF5QixDQUFDLFVBQVUsQ0FBQyxDQUFDOztBQUV0QyxJQUFJLFVBQVUsR0FBRyxVQUFVLENBQUM7QUFDNUIsU0FBUyxVQUFVLEdBQUc7SUFDbEIsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDO0NBQzlEOztBQUVELFVBQVUsQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQzs7QUFFbEMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsVUFBVSxJQUFJLEVBQUU7SUFDekMsSUFBSSxLQUFLLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN2QyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BCLE9BQU8sS0FBSyxDQUFDO0NBQ2hCLENBQUM7O0FBRUYsVUFBVSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEdBQUcsVUFBVSxJQUFJLEVBQUU7SUFDaEQsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxLQUFLLEVBQUU7UUFDcEQsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQzFCLENBQUMsQ0FBQyxDQUFDO0NBQ1AsQ0FBQzs7QUFFRixVQUFVLENBQUMsU0FBUyxDQUFDLFVBQVUsR0FBRyxVQUFVLElBQUksRUFBRTtJQUM5QyxJQUFJLEtBQUssSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3ZDLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdkIsT0FBTyxLQUFLLENBQUM7Q0FDaEIsQ0FBQzs7QUFFRixVQUFVLENBQUMsU0FBUyxDQUFDLG1CQUFtQixHQUFHLFVBQVUsSUFBSSxFQUFFO0lBQ3ZELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDN0IsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQyxPQUFPLEtBQUssQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUM7Q0FDekMsQ0FBQzs7QUFFRixVQUFVLENBQUMsU0FBUyxDQUFDLFNBQVMsR0FBRyxVQUFVLEtBQUssRUFBRTs7OztJQUk5QyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0NBQ2pDLENBQUM7O0FBRUYsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsVUFBVSxJQUFJLEVBQUUsTUFBTSxFQUFFO0lBQ2xELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztJQUNoQjtRQUNJLElBQUksSUFBSSxPQUFPLElBQUksQ0FBQyxNQUFNLEtBQUssVUFBVTtRQUN6QyxJQUFJLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxNQUFNO1FBQzNCLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxLQUFLLEVBQUUsS0FBSyxFQUFFO1lBQ2hDLE9BQU8sS0FBSyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1NBQzNDLEVBQUUsSUFBSSxDQUFDO01BQ1Y7Q0FDTCxDQUFDOztBQUVGLFVBQVUsQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLFVBQVUsUUFBUSxjQUFjO0lBQzNELElBQUksS0FBSyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN6QixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxXQUFXLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFOztRQUVqRSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztLQUNyRCxFQUFFLFNBQVMsQ0FBQyxDQUFDO0NBQ2pCLENBQUM7OztBQUdGLFVBQVUsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLFlBQVk7SUFDdEMsT0FBTyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7Q0FDekIsQ0FBQzs7OztBQUlGLFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLFVBQVUsS0FBSyxFQUFFO0lBQzdDLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztDQUMxQixDQUFDOztBQUVGLFVBQVUsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLFVBQVUsS0FBSyxFQUFFO0lBQzNDLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0NBQ2hDLENBQUM7O0FBRUYsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsVUFBVSxLQUFLLEVBQUU7SUFDM0MsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQ2pCLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUN6QixNQUFNO1FBQ0gsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUNuQjtDQUNKLENBQUM7O0FBRUYsSUFBSSxvQkFBb0IsR0FBRyxTQUFTLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQyxPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUM7QUFDL0QsVUFBVSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsV0FBVztJQUMxQyxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsQ0FBQztDQUN6QyxDQUFDO0FBQ0YsSUFBSSxxQkFBcUIsR0FBRyxTQUFTLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN0RSxVQUFVLENBQUMsU0FBUyxDQUFDLFlBQVksR0FBRyxXQUFXO0lBQzNDLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0NBQzFDLENBQUM7O0FBRUYsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDOzs7Ozs7QUFNakIsU0FBUyxJQUFJLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUU7SUFDdEMsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQztDQUM3RDs7QUFFRCxJQUFJLENBQUMsS0FBSyxHQUFHLFVBQVUsV0FBVyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRTtJQUNwRSxJQUFJLEVBQUUsTUFBTSxZQUFZLFdBQVcsQ0FBQyxFQUFFO1FBQ2xDLE9BQU8sSUFBSSxXQUFXLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQztLQUN0RDtJQUNELElBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDM0MsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDakIsTUFBTSxDQUFDLGFBQWEsR0FBRyxNQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUMvQyxNQUFNLENBQUMsVUFBVSxHQUFHLFVBQVUsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDO0lBQ2hELE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ2xCLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7Q0FDMUIsQ0FBQzs7QUFFRixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQzs7QUFFakIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQzVELE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUM7O0FBRXZELElBQUksQ0FBQyxJQUFJLEdBQUcsaUJBQWlCLENBQUMsSUFBSSxDQUFDOztBQUVuQyxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsR0FBRyxVQUFVLE1BQU0sRUFBRTtJQUM5QyxPQUFPLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7Q0FDNUUsQ0FBQzs7QUFFRixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxVQUFVLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFO0lBQ2xELE1BQU0sR0FBRyxNQUFNLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUN0QyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3JCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNyQyxPQUFPLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDaEIsSUFBSSxNQUFNLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsRUFBRTtZQUN6QixPQUFPLEVBQUUsQ0FBQztTQUNiO1FBQ0QsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUM7S0FDaEI7Q0FDSixDQUFDOztBQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLFVBQVUsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUU7SUFDdEQsTUFBTSxHQUFHLE1BQU0sSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQ3RDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDckIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3JDLE9BQU8sRUFBRSxLQUFLLElBQUksRUFBRTtRQUNoQixJQUFJLE1BQU0sQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxFQUFFO1lBQ3pCLE9BQU8sRUFBRSxDQUFDO1NBQ2I7UUFDRCxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQztLQUNoQjtDQUNKLENBQUM7O0FBRUYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEdBQUcsVUFBVSxLQUFLLEVBQUUsTUFBTSxFQUFFO0lBQzFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0NBQ3JDLENBQUM7O0FBRUYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEdBQUcsVUFBVSxLQUFLLEVBQUUsTUFBTSxFQUFFO0lBQzFDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3JDLElBQUksS0FBSyxFQUFFO1FBQ1AsT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDO0tBQ3RCO0lBQ0QsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO0NBQ2pDLENBQUM7OztBQUdGLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEdBQUcsVUFBVSxLQUFLLEVBQUUsTUFBTSxFQUFFO0lBQ2hELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3pDLElBQUksS0FBSyxFQUFFO1FBQ1AsS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7UUFDbEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2QsT0FBTyxJQUFJLENBQUM7S0FDZjtJQUNELE9BQU8sS0FBSyxDQUFDO0NBQ2hCLENBQUM7O0FBRUYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEdBQUcsVUFBVSxLQUFLLEVBQUUsTUFBTSxFQUFFO0lBQ2hELE1BQU0sR0FBRyxNQUFNLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUN0QyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3JCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbkIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO0lBQ2QsT0FBTyxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQ2hCLElBQUksTUFBTSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDekIsRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7WUFDZixLQUFLLEVBQUUsQ0FBQztTQUNYO1FBQ0QsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUM7S0FDaEI7SUFDRCxJQUFJLENBQUMsTUFBTSxJQUFJLEtBQUssQ0FBQztJQUNyQixPQUFPLEtBQUssQ0FBQztDQUNoQixDQUFDOztBQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLFlBQVk7SUFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztJQUM1QyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztDQUNuQixDQUFDOztBQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFVBQVUsS0FBSyxFQUFFO0lBQ2xDLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNoQyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDOUIsQ0FBQzs7QUFFRixJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsR0FBRyxVQUFVLElBQUksRUFBRTtJQUN0QyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMxQixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDZCxPQUFPLElBQUksQ0FBQztDQUNmLENBQUM7O0FBRUYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsWUFBWTtJQUM5QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3JCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3ZDLElBQUksS0FBSyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QixJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN4QjtJQUNELElBQUksQ0FBQyxNQUFNLElBQUksU0FBUyxDQUFDLE1BQU0sQ0FBQztDQUNuQyxDQUFDOztBQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLFlBQVk7SUFDakMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztJQUNuQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN2QyxJQUFJLEtBQUssR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekIsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2hDLEVBQUUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEIsRUFBRSxHQUFHLElBQUksQ0FBQztLQUNiO0lBQ0QsSUFBSSxDQUFDLE1BQU0sSUFBSSxTQUFTLENBQUMsTUFBTSxDQUFDO0NBQ25DLENBQUM7O0FBRUYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEdBQUcsWUFBWTtJQUNwQyxJQUFJLEtBQUssQ0FBQztJQUNWLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDckIsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksRUFBRTtRQUNwQixLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7S0FDM0I7SUFDRCxPQUFPLEtBQUssQ0FBQztDQUNoQixDQUFDOztBQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFVBQVUsT0FBTyxFQUFFLE1BQU0sRUFBRTtJQUM1QyxJQUFJLEtBQUssQ0FBQztJQUNWLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDckIsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksRUFBRTtRQUNwQixLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDeEIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDNUIsSUFBSSxxQkFBcUIsR0FBRyxPQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO1FBQzlFLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztRQUN0QixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDZCxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxxQkFBcUIsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO0tBQzFFO0lBQ0QsT0FBTyxLQUFLLENBQUM7Q0FDaEIsQ0FBQzs7QUFFRixJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxVQUFVLE9BQU8sRUFBRSxNQUFNLEVBQUU7SUFDOUMsSUFBSSxLQUFLLENBQUM7SUFDVixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3JCLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLEVBQUU7UUFDcEIsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3hCLElBQUksa0JBQWtCLEdBQUcsT0FBTyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7UUFDdEIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2QsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztLQUNsRTtJQUNELE9BQU8sS0FBSyxDQUFDO0NBQ2hCLENBQUM7O0FBRUYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsWUFBWTtJQUM5QixJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUU7UUFDOUIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7S0FDL0I7Q0FDSixDQUFDOztBQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLFVBQVUsS0FBSyxFQUFFO0lBQ25DLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRTtRQUM5QixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0tBQ2hDLE1BQU07UUFDSCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQ3BCO0NBQ0osQ0FBQzs7QUFFRixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxZQUFZO0lBQzdCLE9BQU8sSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0NBQ3RCLENBQUM7Ozs7Ozs7Ozs7O0FBV0YsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsVUFBVSxFQUFFLEVBQUUsUUFBUSxFQUFFO0lBQzFDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDckIsSUFBSSxPQUFPLEVBQUUsS0FBSyxRQUFRLEVBQUU7UUFDeEIsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ2YsSUFBSSxLQUFLLElBQUksQ0FBQyxFQUFFO1lBQ1osRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDZixPQUFPLEtBQUssRUFBRTtnQkFDVixLQUFLLEVBQUUsQ0FBQztnQkFDUixFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQztnQkFDYixJQUFJLEVBQUUsSUFBSSxJQUFJLEVBQUU7b0JBQ1osTUFBTTtpQkFDVDthQUNKO1NBQ0osTUFBTTtZQUNILEVBQUUsR0FBRyxJQUFJLENBQUM7WUFDVixPQUFPLEtBQUssR0FBRyxDQUFDLEVBQUU7Z0JBQ2QsS0FBSyxFQUFFLENBQUM7Z0JBQ1IsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUM7Z0JBQ2IsSUFBSSxFQUFFLElBQUksSUFBSSxFQUFFO29CQUNaLE1BQU07aUJBQ1Q7YUFDSjtTQUNKO1FBQ0QsT0FBTyxFQUFFLENBQUM7S0FDYixNQUFNO1FBQ0gsT0FBTyxFQUFFLElBQUksUUFBUSxDQUFDO0tBQ3pCO0NBQ0osQ0FBQzs7OztBQUlGLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLFVBQVUsRUFBRSxFQUFFLEdBQUcsRUFBRTtJQUN0QyxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7SUFDaEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztJQUNyQixFQUFFLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlCLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQzs7SUFFM0IsT0FBTyxFQUFFLEtBQUssR0FBRyxJQUFJLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDOUIsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdEIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUM7S0FDaEI7O0lBRUQsT0FBTyxNQUFNLENBQUM7Q0FDakIsQ0FBQzs7QUFFRixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxVQUFVLEVBQUUsRUFBRSxNQUFNLGNBQWM7SUFDdEQsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQzFFLENBQUM7O0FBRUYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsVUFBVSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFO0lBQ2xFLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQzs7O0lBR3BCLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDcEMsSUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO1FBQ2hCLE1BQU0sR0FBRyxRQUFRLENBQUM7S0FDckI7SUFDRCxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzs7O0lBR3hCLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztJQUNmLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQztJQUNmLE9BQU8sTUFBTSxFQUFFLElBQUksTUFBTSxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssSUFBSSxDQUFDLElBQUksRUFBRTtRQUNoRCxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQixFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQztLQUNoQjs7O0lBR0QsSUFBSSxLQUFLLENBQUM7SUFDVixLQUFLLEdBQUcsT0FBTyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7OztJQUdsRSxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFDZixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLEdBQUcsS0FBSyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSSxFQUFFO1FBQzdELEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDO0tBQ2xCOztJQUVELElBQUksT0FBTyxJQUFJLElBQUksSUFBSSxFQUFFLEtBQUssSUFBSSxDQUFDLElBQUksRUFBRTtRQUNyQyxFQUFFLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7S0FDdkI7SUFDRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNsQyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN0Qjs7SUFFRCxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQzs7SUFFMUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7O0lBRXhELE9BQU8sS0FBSyxDQUFDO0NBQ2hCLENBQUM7O0FBRUYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsWUFBWTtJQUNqQyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ25CLEdBQUc7UUFDQyxJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDO1FBQ25CLEVBQUUsQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQztRQUNsQixFQUFFLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNmLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDO0tBQ2hCLFFBQVEsRUFBRSxLQUFLLElBQUksQ0FBQyxJQUFJLEVBQUU7SUFDM0IsT0FBTyxJQUFJLENBQUM7Q0FDZixDQUFDOztBQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLFlBQVk7SUFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQztDQUNqRSxDQUFDOzs7QUFHRixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxVQUFVLFFBQVEsRUFBRSxLQUFLLGNBQWM7SUFDM0QsSUFBSSxLQUFLLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3pCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDckIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztJQUNuQixPQUFPLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDaEIsS0FBSyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN4RCxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQztLQUNoQjtJQUNELE9BQU8sS0FBSyxDQUFDO0NBQ2hCLENBQUM7O0FBRUYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsVUFBVSxRQUFRLEVBQUUsS0FBSyxjQUFjO0lBQ2hFLElBQUksS0FBSyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN6QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3JCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbkIsT0FBTyxFQUFFLEtBQUssSUFBSSxFQUFFO1FBQ2hCLEtBQUssR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDeEQsRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUM7S0FDaEI7SUFDRCxPQUFPLEtBQUssQ0FBQztDQUNoQixDQUFDOztBQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxHQUFHLFVBQVUsSUFBSSxFQUFFLEtBQUssRUFBRTtJQUNsRCxPQUFPLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxFQUFFO1FBQ3ZCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxFQUFFLENBQUM7UUFDckIsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7S0FDcEI7Q0FDSixDQUFDOzs7QUFHRixJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRyxZQUFZO0lBQ2pDLE9BQU8sSUFBSSxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0NBQ3RDLENBQUM7O0FBRUYsU0FBUyxZQUFZLENBQUMsSUFBSSxFQUFFO0lBQ3hCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ2pCLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztDQUN2QjtBQUNELFlBQVksQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDO0FBQ2hELE1BQU0sQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsRUFBRTtJQUM3RCxHQUFHLEVBQUUsV0FBVztRQUNaLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixLQUFLLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7S0FDMUY7Q0FDSixDQUFDLENBQUM7OztBQUdILFlBQVksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLFlBQVk7SUFDdEMsSUFBSSxJQUFJLENBQUMsRUFBRSxLQUFLLElBQUksQ0FBQyxJQUFJLEVBQUU7UUFDdkIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDbEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQztLQUN4QyxNQUFNO1FBQ0gsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7UUFDMUIsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztRQUN2QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztLQUN2QztJQUNELE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDO0NBQ2hDLENBQUM7O0FBRUYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDOztBQUUzQixTQUFTLElBQUksQ0FBQyxLQUFLLEVBQUU7SUFDakIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDbkIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7Q0FDcEI7QUFDRCxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxHQUFHLFlBQVk7SUFDbkMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztJQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0NBQzlCLENBQUM7O0FBRUYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEdBQUcsVUFBVSxJQUFJLEVBQUU7SUFDdkMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztJQUNyQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztDQUNwQixDQUFDOztBQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLFVBQVUsSUFBSSxFQUFFO0lBQ3RDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDckIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7Q0FDcEIsQ0FBQzs7QUFFRixJQUFJLFFBQVEsR0FBRyxRQUFRLENBQUM7Ozs7OztBQU14QixTQUFTLFFBQVEsQ0FBQyxRQUFRLEVBQUUsWUFBWSxFQUFFOzs7Ozs7OztJQVF0QyxJQUFJLE1BQU0sR0FBRyxZQUFZLElBQUksUUFBUSxJQUFJLFFBQVEsQ0FBQyxNQUFNLElBQUksUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQzlFLEdBQUcsTUFBTSxJQUFJLE9BQU8sTUFBTSxDQUFDLElBQUksS0FBSyxVQUFVLEdBQUc7UUFDN0MsT0FBTyxNQUFNLENBQUM7S0FDakI7O0lBRUQsSUFBSSxFQUFFLElBQUksWUFBWSxRQUFRLENBQUMsRUFBRTtRQUM3QixPQUFPLElBQUksUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQ2pDOztJQUVELElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxPQUFPLFFBQVEsS0FBSyxRQUFRO1FBQ3ZELE9BQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7SUFFdEMsUUFBUSxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQzs7SUFFaEMsSUFBSSxRQUFRLFlBQVksUUFBUSxFQUFFO1FBQzlCLE9BQU8sUUFBUSxDQUFDO0tBQ25CLE1BQU0sSUFBSSxRQUFRLENBQUMsSUFBSSxFQUFFO1FBQ3RCLElBQUksQ0FBQyxJQUFJLEdBQUcsWUFBWTtZQUNwQixPQUFPLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUMxQixDQUFDO0tBQ0wsTUFBTSxJQUFJLFFBQVEsQ0FBQyxPQUFPLEVBQUU7UUFDekIsSUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxJQUFJLEdBQUcsWUFBWTtZQUNwQixPQUFPLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUMxQixDQUFDO0tBQ0wsTUFBTSxJQUFJLFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxtQkFBbUIsRUFBRTtRQUM3RSxJQUFJLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQztLQUN4QixNQUFNO1FBQ0gsTUFBTSxJQUFJLFNBQVMsQ0FBQyxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsQ0FBQztLQUNwRDs7Q0FFSjs7QUFFRCxRQUFRLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDO0FBQ2pFLFFBQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUM7QUFDekQsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsaUJBQWlCLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQztBQUMvRCxRQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDO0FBQzdELFFBQVEsQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUM7QUFDM0QsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEdBQUcsaUJBQWlCLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQztBQUN6RCxRQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDO0FBQ3pELFFBQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUM7QUFDekQsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEdBQUcsaUJBQWlCLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQztBQUN6RCxRQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDO0FBQ3pELFFBQVEsQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUM7QUFDakUsUUFBUSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsaUJBQWlCLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQztBQUNqRSxRQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDO0FBQ3pELFFBQVEsQ0FBQyxTQUFTLENBQUMsU0FBUyxHQUFHLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUM7QUFDckUsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsaUJBQWlCLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQztBQUMvRCxRQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDO0FBQzdELFFBQVEsQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7QUFDbkUsUUFBUSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsaUJBQWlCLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQztBQUNqRSxRQUFRLENBQUMsU0FBUyxDQUFDLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDO0FBQ25FLFFBQVEsQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7O0FBRW5FLFFBQVEsQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDO0FBQzVDLFVBQVUsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsRUFBRTtJQUM3RCxHQUFHLEVBQUUsV0FBVztRQUNaLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixLQUFLLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUM1RjtDQUNKLENBQUMsQ0FBQzs7Ozs7QUFLSCxRQUFRLENBQUMsU0FBUyxDQUFDLGNBQWMsR0FBRyxVQUFVLE1BQU0sRUFBRTtJQUNsRCxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7SUFDZixLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3RCLE9BQU8sS0FBSyxDQUFDO0NBQ2hCLENBQUM7O0FBRUYsUUFBUSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsVUFBVSxRQUFRLGNBQWM7SUFDN0QsSUFBSSxJQUFJLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQztRQUNyQixLQUFLLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUNwQixDQUFDLEdBQUcsQ0FBQyxDQUFDOztJQUVWLElBQUksVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLG1CQUFtQjtRQUNuRSxNQUFNLElBQUksU0FBUyxFQUFFLENBQUM7O0lBRTFCLE9BQU8sSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVk7UUFDcEMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxLQUFLLElBQUksRUFBRTtZQUNwQyxJQUFJLGFBQWEsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ3ZFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsYUFBYSxDQUFDO1NBQy9DO1FBQ0QsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7S0FDaEMsQ0FBQyxDQUFDO0NBQ04sQ0FBQzs7QUFFRixRQUFRLENBQUMsU0FBUyxDQUFDLGNBQWMsR0FBRyxVQUFVLFFBQVEsY0FBYztJQUNoRSxJQUFJLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDO1FBQ3JCLEtBQUssR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLENBQUMsR0FBRyxDQUFDLENBQUM7O0lBRVYsSUFBSSxVQUFVLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksbUJBQW1CO1FBQ25FLE1BQU0sSUFBSSxTQUFTLEVBQUUsQ0FBQzs7SUFFMUIsT0FBTyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWTtRQUNwQyxJQUFJLFNBQVMsQ0FBQztRQUNkLE9BQU8sSUFBSSxFQUFFO1lBQ1QsU0FBUyxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUN4QixHQUFHLFNBQVMsQ0FBQyxJQUFJLEtBQUssSUFBSSxFQUFFO2dCQUN4QixJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDO29CQUNoRCxPQUFPLFNBQVMsQ0FBQzthQUN4QjtpQkFDSTs7Z0JBRUQsT0FBTyxTQUFTLENBQUM7YUFDcEI7U0FDSjtLQUNKLENBQUMsQ0FBQztDQUNOLENBQUM7O0FBRUYsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsVUFBVSxRQUFRLHVCQUF1QjtJQUNqRSxJQUFJLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDO1FBQ3JCLE1BQU0sR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDO1FBQ3JCLEtBQUssR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLENBQUMsR0FBRyxDQUFDO1FBQ0wsU0FBUyxDQUFDOztJQUVkLElBQUksVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLG1CQUFtQjtRQUNuRSxNQUFNLElBQUksU0FBUyxFQUFFLENBQUM7OztJQUcxQixTQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3hCLEdBQUcsU0FBUyxDQUFDLElBQUksS0FBSyxJQUFJLEVBQUU7UUFDeEIsSUFBSSxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUN0QixPQUFPLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN2QixNQUFNO1lBQ0gsTUFBTSxTQUFTLENBQUMsb0VBQW9FLENBQUMsQ0FBQztTQUN6RjtLQUNKO0lBQ0QsSUFBSSxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtRQUN0QixNQUFNLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQ25FLE1BQU07UUFDSCxNQUFNLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQztLQUM1QjtJQUNELENBQUMsRUFBRSxDQUFDOztJQUVKLE9BQU8sSUFBSSxFQUFFO1FBQ1QsU0FBUyxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUN4QixHQUFHLFNBQVMsQ0FBQyxJQUFJLEtBQUssSUFBSSxFQUFFO1lBQ3hCLE9BQU8sTUFBTSxDQUFDO1NBQ2pCO1FBQ0QsTUFBTSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxTQUFTLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRSxDQUFDLEVBQUUsQ0FBQztLQUNQOztDQUVKLENBQUM7O0FBRUYsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsWUFBWTtJQUNwQyxPQUFPLFFBQVEsQ0FBQyxNQUFNO1FBQ2xCLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDO0tBQ2hELENBQUM7Q0FDTCxDQUFDOztBQUVGLFFBQVEsQ0FBQyxTQUFTLENBQUMsU0FBUyxHQUFHLFVBQVUsUUFBUSxlQUFlO0lBQzVELElBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUM7UUFDckIsS0FBSyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFDcEIsT0FBTyxHQUFHLEtBQUs7UUFDZixTQUFTO1FBQ1QsU0FBUztRQUNULENBQUMsR0FBRyxDQUFDLENBQUM7O0lBRVYsSUFBSSxVQUFVLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksbUJBQW1CO1FBQ25FLE1BQU0sSUFBSSxTQUFTLEVBQUUsQ0FBQzs7SUFFMUIsT0FBTyxJQUFJLEVBQUU7UUFDVCxTQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ3hCLEdBQUcsU0FBUyxDQUFDLElBQUksS0FBSyxJQUFJLEVBQUU7WUFDeEIsTUFBTTtTQUNUO1FBQ0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFO1lBQ2pELE9BQU8sR0FBRyxJQUFJLENBQUM7WUFDZixTQUFTLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQztZQUM1QixNQUFNO1NBQ1Q7UUFDRCxDQUFDLEVBQUUsQ0FBQztLQUNQOztJQUVELElBQUksT0FBTyxFQUFFO1FBQ1QsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDckQsTUFBTTtRQUNILE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUMvQjtDQUNKLENBQUM7O0FBRUYsUUFBUSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEdBQUcsVUFBVSxRQUFRLGNBQWM7SUFDM0QsSUFBSSxJQUFJLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQztRQUNyQixLQUFLLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUNwQixDQUFDLEdBQUcsQ0FBQyxDQUFDOztJQUVWLElBQUksVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLG1CQUFtQjtRQUNuRSxNQUFNLElBQUksU0FBUyxFQUFFLENBQUM7O0lBRTFCLE9BQU8sSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVk7UUFDcEMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxLQUFLLElBQUksRUFBRTtZQUNwQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQzlCLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFO2dCQUN2QyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQzthQUN2QztpQkFDSTtnQkFDRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztnQkFDbEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQzthQUN4QztTQUNKO1FBQ0QsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7S0FDaEMsQ0FBQyxDQUFDOztDQUVOLENBQUM7O0FBRUYsUUFBUSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsWUFBWTtJQUN6QyxPQUFPLFFBQVEsQ0FBQyxLQUFLO1FBQ2pCLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDO0tBQ2hELENBQUM7Q0FDTCxDQUFDOztBQUVGLFFBQVEsQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEdBQUcsVUFBVSxLQUFLLEVBQUU7SUFDcEQsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUNsRCxDQUFDOzs7QUFHRixRQUFRLENBQUMsT0FBTyxHQUFHLFVBQVUsUUFBUSxFQUFFO0lBQ25DLElBQUksS0FBSyxDQUFDO0lBQ1YsS0FBSyxHQUFHLENBQUMsQ0FBQztJQUNWLE9BQU8sSUFBSSxRQUFRLENBQUMsWUFBWTs7UUFFNUIsSUFBSSxPQUFPLFFBQVEsS0FBSyxRQUFRLEVBQUU7WUFDOUIsT0FBTyxFQUFFLEtBQUssSUFBSSxRQUFRLENBQUMsRUFBRTs7Z0JBRXpCLElBQUksS0FBSyxJQUFJLFFBQVEsQ0FBQyxNQUFNLEVBQUU7b0JBQzFCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO29CQUNsQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDO29CQUNyQyxNQUFNO2lCQUNUO3FCQUNJLEtBQUssSUFBSSxDQUFDLENBQUM7YUFDbkI7U0FDSixNQUFNLElBQUksS0FBSyxJQUFJLFFBQVEsQ0FBQyxNQUFNLEVBQUU7WUFDakMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7WUFDbEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQztTQUN4Qzs7UUFFRCxHQUFHLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksRUFBRTtZQUM1QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM5QyxLQUFLLElBQUksQ0FBQyxDQUFDO1NBQ2Q7UUFDRCxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztLQUNoQyxDQUFDLENBQUM7Q0FDTixDQUFDOztBQUVGLFFBQVEsQ0FBQyxLQUFLLEdBQUcsVUFBVSxLQUFLLEVBQUUsS0FBSyxFQUFFO0lBQ3JDLElBQUksSUFBSSxDQUFDO0lBQ1QsSUFBSSxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUM7UUFDcEIsS0FBSyxHQUFHLFFBQVEsQ0FBQzs7SUFFckIsT0FBTyxJQUFJLFFBQVEsQ0FBQyxZQUFZO1FBQzVCLElBQUksU0FBUyxFQUFFLFNBQVMsQ0FBQzs7UUFFekIsR0FBRyxJQUFJLEVBQUU7WUFDTCxTQUFTLEdBQUcsSUFBSSxFQUFFLENBQUM7U0FDdEI7O1FBRUQsR0FBRyxDQUFDLElBQUksSUFBSSxTQUFTLENBQUMsSUFBSSxLQUFLLElBQUksRUFBRTtZQUNqQyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUU7Z0JBQ1gsS0FBSyxFQUFFLENBQUM7Z0JBQ1IsU0FBUyxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3BDLFNBQVMsR0FBRyxDQUFDLElBQUksR0FBRyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDO2FBQ3pEO2lCQUNJO2dCQUNELElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO2dCQUNsQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGFBQWE7U0FDdEQ7UUFDRCxPQUFPLFNBQVMsQ0FBQztLQUNwQixDQUFDLENBQUM7Q0FDTixDQUFDOztBQUVGLFFBQVEsQ0FBQyxNQUFNLEdBQUcsVUFBVSxTQUFTLEVBQUU7SUFDbkMsU0FBUyxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNoQyxJQUFJLElBQUksQ0FBQztJQUNULE9BQU8sSUFBSSxRQUFRLENBQUMsV0FBVztRQUMzQixJQUFJLFNBQVMsRUFBRSxTQUFTLENBQUM7UUFDekIsR0FBRyxJQUFJLEVBQUUsU0FBUyxHQUFHLElBQUksRUFBRSxDQUFDO1FBQzVCLEdBQUcsQ0FBQyxTQUFTLElBQUksU0FBUyxDQUFDLElBQUksS0FBSyxJQUFJLEVBQUU7WUFDdEMsU0FBUyxHQUFHLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUM3QixHQUFHLFNBQVMsQ0FBQyxJQUFJLEtBQUssS0FBSyxFQUFFO2dCQUN6QixTQUFTLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDdEMsSUFBSSxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUN0QyxPQUFPLElBQUksRUFBRSxDQUFDO2FBQ2pCO2lCQUNJO2dCQUNELE9BQU8sU0FBUyxDQUFDO2FBQ3BCO1NBQ0o7YUFDSSxPQUFPLFNBQVMsQ0FBQztLQUN6QixDQUFDLENBQUM7Q0FDTixDQUFDOztBQUVGLFFBQVEsQ0FBQyxLQUFLLEdBQUcsVUFBVSxTQUFTLEVBQUU7SUFDbEMsU0FBUyxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDOUMsSUFBSSxTQUFTLENBQUMsTUFBTSxLQUFLLENBQUM7UUFDdEIsT0FBTyxJQUFJLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUM1QixPQUFPLElBQUksUUFBUSxDQUFDLFlBQVk7UUFDNUIsSUFBSSxPQUFPLEVBQUUsU0FBUyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsVUFBVSxRQUFRLEVBQUU7WUFDM0MsU0FBUyxHQUFHLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUM1QixJQUFJLFNBQVMsQ0FBQyxJQUFJLEtBQUssSUFBSSxHQUFHO2dCQUMxQixPQUFPLEdBQUcsSUFBSSxDQUFDO2FBQ2xCO1lBQ0QsT0FBTyxTQUFTLENBQUMsS0FBSyxDQUFDO1NBQzFCLENBQUMsQ0FBQztRQUNILElBQUksT0FBTyxFQUFFO1lBQ1QsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7WUFDbEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQztTQUN4QzthQUNJO1lBQ0QsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssR0FBRyxNQUFNLENBQUM7U0FDeEM7UUFDRCxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztLQUNoQyxDQUFDLENBQUM7Q0FDTixDQUFDOztBQUVGLFFBQVEsQ0FBQyxHQUFHLEdBQUcsWUFBWTtJQUN2QixPQUFPLFFBQVEsQ0FBQyxLQUFLO1FBQ2pCLEtBQUssQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7S0FDeEMsQ0FBQztDQUNMLENBQUM7O0FBRUYsUUFBUSxDQUFDLEtBQUssR0FBRyxZQUFZO0lBQ3pCLE9BQU8sUUFBUSxDQUFDLE1BQU07UUFDbEIsS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztLQUN4QyxDQUFDO0NBQ0wsQ0FBQzs7QUFFRixRQUFRLENBQUMsS0FBSyxHQUFHLFVBQVUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7SUFDMUMsSUFBSSxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtRQUN0QixJQUFJLEdBQUcsQ0FBQyxDQUFDO0tBQ1o7SUFDRCxJQUFJLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQ3RCLElBQUksR0FBRyxLQUFLLENBQUM7UUFDYixLQUFLLEdBQUcsQ0FBQyxDQUFDO0tBQ2I7SUFDRCxLQUFLLEdBQUcsS0FBSyxJQUFJLENBQUMsQ0FBQztJQUNuQixJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQztJQUNqQixPQUFPLElBQUksUUFBUSxDQUFDLFlBQVk7UUFDNUIsSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFO1lBQ2YsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7WUFDbEMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQztTQUN4QztRQUNELElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNuQixLQUFLLElBQUksSUFBSSxDQUFDO1FBQ2QsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssR0FBRyxNQUFNLENBQUM7O1FBRXJDLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDO0tBQ2hDLENBQUMsQ0FBQztDQUNOLENBQUM7O0FBRUYsUUFBUSxDQUFDLEtBQUssR0FBRyxVQUFVLEtBQUssRUFBRSxJQUFJLEVBQUU7SUFDcEMsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7Q0FDaEQsQ0FBQzs7QUFFRixRQUFRLENBQUMsTUFBTSxHQUFHLFVBQVUsS0FBSyxFQUFFLEtBQUssRUFBRTtJQUN0QyxPQUFPLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLENBQUMsWUFBWTtRQUNyRCxPQUFPLEtBQUssQ0FBQztLQUNoQixDQUFDLENBQUM7Q0FDTixDQUFDOztBQUVGLElBQUksVUFBVSxHQUFHLFVBQVUsQ0FBQztBQUM1QixTQUFTLFVBQVUsR0FBRztJQUNsQixNQUFNLElBQUksS0FBSyxDQUFDLHlDQUF5QyxDQUFDLENBQUM7Q0FDOUQ7Ozs7QUFJRCxVQUFVLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7O0FBRWxDLFVBQVUsQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLFVBQVUsTUFBTSxFQUFFO0lBQzdDLElBQUksQ0FBQyxDQUFDO0lBQ04sSUFBSSxNQUFNLElBQUksVUFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLE1BQU0sRUFBRTtRQUN6QyxJQUFJLE9BQU8sTUFBTSxDQUFDLE9BQU8sS0FBSyxVQUFVLEVBQUU7O1lBRXRDLElBQUksTUFBTSxDQUFDLEtBQUssS0FBSyxJQUFJLEVBQUU7Z0JBQ3ZCLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBVSxLQUFLLEVBQUUsR0FBRyxFQUFFO29CQUNqQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztpQkFDeEIsRUFBRSxJQUFJLENBQUMsQ0FBQzs7YUFFWixNQUFNO2dCQUNILE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBVSxJQUFJLEVBQUU7b0JBQzNCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUM5QixFQUFFLElBQUksQ0FBQyxDQUFDO2FBQ1o7U0FDSixNQUFNLElBQUksT0FBTyxNQUFNLENBQUMsTUFBTSxLQUFLLFFBQVEsRUFBRTs7O1lBRzFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDaEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDMUI7U0FDSixNQUFNOztZQUVILFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsR0FBRyxFQUFFO2dCQUMzQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzthQUM5QixFQUFFLElBQUksQ0FBQyxDQUFDO1NBQ1o7S0FDSixNQUFNLElBQUksTUFBTSxJQUFJLE9BQU8sTUFBTSxDQUFDLE1BQU0sS0FBSyxRQUFRLEVBQUU7O1FBRXBELEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNoQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUMxQjtLQUNKO0lBQ0QsT0FBTyxJQUFJLENBQUM7Q0FDZixDQUFDOztBQUVGLFVBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFVBQVUsR0FBRyxFQUFFLFlBQVksRUFBRTtJQUNwRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUM5QyxJQUFJLElBQUksRUFBRTtRQUNOLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztLQUNyQixNQUFNLElBQUksU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDN0IsT0FBTyxDQUFDLEdBQUcsQ0FBQyw0RUFBNEUsQ0FBQyxDQUFDO1FBQzFGLE9BQU8sWUFBWSxDQUFDO0tBQ3ZCLE1BQU07UUFDSCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDL0I7Q0FDSixDQUFDOztBQUVGLFVBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFVBQVUsR0FBRyxFQUFFLEtBQUssRUFBRTtJQUM3QyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3JDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2pDLElBQUksS0FBSyxFQUFFO1FBQ1AsSUFBSSxJQUFJLENBQUMsb0JBQW9CLEVBQUU7WUFDM0IsSUFBSSxDQUFDLHVCQUF1QixDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDbEQ7UUFDRCxLQUFLLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtZQUMzQixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ3RDO0tBQ0osTUFBTTtRQUNILElBQUksSUFBSSxDQUFDLG9CQUFvQixFQUFFO1lBQzNCLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7U0FDaEQ7UUFDRCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3RCLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUNqQjtRQUNELElBQUksSUFBSSxDQUFDLG9CQUFvQixFQUFFO1lBQzNCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDdEM7S0FDSjtJQUNELE9BQU8sSUFBSSxDQUFDO0NBQ2YsQ0FBQzs7QUFFRixVQUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxVQUFVLEtBQUssRUFBRSxHQUFHLEVBQUU7SUFDN0MsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztDQUMvQixDQUFDOztBQUVGLFVBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFVBQVUsR0FBRyxFQUFFO0lBQ3RDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Q0FDN0MsQ0FBQzs7QUFFRixVQUFVLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxHQUFHLFVBQVUsR0FBRyxFQUFFO0lBQzVDLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM5QixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ3RCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUN0QyxJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtZQUMzQixJQUFJLENBQUMsdUJBQXVCLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQzNDO1FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDZCxJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtZQUMzQixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1NBQzFDO1FBQ0QsT0FBTyxJQUFJLENBQUM7S0FDZjtJQUNELE9BQU8sS0FBSyxDQUFDO0NBQ2hCLENBQUM7O0FBRUYsVUFBVSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsWUFBWTtJQUNyQyxJQUFJLElBQUksRUFBRSxHQUFHLENBQUM7SUFDZCxJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtRQUMzQixJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsS0FBSyxFQUFFLEdBQUcsRUFBRTtZQUMvQixJQUFJLENBQUMsdUJBQXVCLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQzVDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDVCxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO0tBQzNCO0lBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNuQixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUNoQixJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtRQUMzQixJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzdCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUMvQjs7OztLQUlKO0NBQ0osQ0FBQzs7QUFFRixVQUFVLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxVQUFVLFFBQVEsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFO0lBQzVELE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsVUFBVSxLQUFLLEVBQUUsSUFBSSxFQUFFO1FBQzVDLE9BQU8sUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztLQUNsRSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztDQUNuQixDQUFDOztBQUVGLFVBQVUsQ0FBQyxTQUFTLENBQUMsV0FBVyxHQUFHLFVBQVUsUUFBUSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7SUFDakUsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxVQUFVLEtBQUssRUFBRSxJQUFJLEVBQUU7UUFDakQsT0FBTyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQ2xFLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0NBQ25CLENBQUM7O0FBRUYsVUFBVSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEdBQUcsWUFBWTtJQUN6QyxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxLQUFLLEVBQUUsR0FBRyxFQUFFO1FBQ2xDLE9BQU8sR0FBRyxDQUFDO0tBQ2QsQ0FBQyxDQUFDO0NBQ04sQ0FBQztBQUNGLFVBQVUsQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLFlBQVk7SUFDcEMsT0FBTyxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7Q0FDL0MsQ0FBQzs7QUFFRixVQUFVLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBRyxZQUFZO0lBQzNDLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7Q0FDdEMsQ0FBQztBQUNGLFVBQVUsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLFlBQVk7SUFDdEMsT0FBTyxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7Q0FDakQsQ0FBQzs7QUFFRixVQUFVLENBQUMsU0FBUyxDQUFDLFlBQVksR0FBRyxZQUFZO0lBQzVDLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEtBQUssRUFBRSxHQUFHLEVBQUU7UUFDbEMsT0FBTyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUN2QixDQUFDLENBQUM7Q0FDTixDQUFDO0FBQ0YsVUFBVSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsWUFBWTtJQUN2QyxPQUFPLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQztDQUNsRCxDQUFDOzs7QUFHRixVQUFVLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxZQUFZO0lBQ3JDLE9BQU8sSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0NBQzlCLENBQUM7O0FBRUYsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsVUFBVSxJQUFJLEVBQUUsTUFBTSxFQUFFO0lBQ2xELE1BQU0sR0FBRyxNQUFNLElBQUksVUFBVSxDQUFDLE1BQU0sQ0FBQztJQUNyQyxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUU7UUFDZixPQUFPLElBQUksQ0FBQztLQUNmLE1BQU0sSUFBSSxJQUFJLElBQUksT0FBTyxJQUFJLENBQUMsS0FBSyxLQUFLLFVBQVUsRUFBRTtRQUNqRCxPQUFPLElBQUksQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsS0FBSyxFQUFFLEdBQUcsRUFBRTtZQUNuRSxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ3ZDLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDWixNQUFNO1FBQ0gsSUFBSSxJQUFJLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqQyxPQUFPLElBQUksQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLE1BQU0sSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsRUFBRTtZQUM3RSxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQzNDLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDWjtDQUNKLENBQUM7O0FBRUYsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsWUFBWTtJQUN0QyxPQUFPLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztDQUM5QixDQUFDOzs7QUFHRixVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7O0FBRWpDLFNBQVMsSUFBSSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUU7SUFDdEIsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7SUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztDQUN0Qjs7QUFFRCxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxVQUFVLElBQUksRUFBRTtJQUNwQyxPQUFPLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksVUFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztDQUM3RixDQUFDOztBQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLFVBQVUsSUFBSSxFQUFFO0lBQ3JDLE9BQU8sVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUNqRCxDQUFDOzs7O0FBSUYsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDO0FBQ2pCLFNBQVMsSUFBSSxDQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUU7SUFDOUIsSUFBSSxFQUFFLElBQUksWUFBWSxJQUFJLENBQUMsRUFBRTtRQUN6QixPQUFPLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUMsQ0FBQztLQUN2QztJQUNELFVBQVUsR0FBRyxVQUFVLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQztJQUN6QyxJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztJQUM3QixJQUFJLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDakMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDaEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztDQUN4Qjs7QUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQzs7QUFFakIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQzVELE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUM7O0FBRXJELElBQUksQ0FBQyxJQUFJLEdBQUcsaUJBQWlCLENBQUMsSUFBSSxDQUFDOztBQUVuQyxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsR0FBRyxVQUFVLE1BQU0sRUFBRTtJQUM5QyxPQUFPLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0NBQ3hELENBQUM7O0FBRUYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEdBQUcsVUFBVSxHQUFHLEVBQUU7SUFDekMsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLEVBQUU7UUFDekIsTUFBTSxJQUFJLFNBQVMsQ0FBQywrQkFBK0IsR0FBRyxHQUFHLENBQUMsQ0FBQztLQUM5RDtDQUNKLENBQUM7O0FBRUYsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ25FLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUM7SUFDN0MsR0FBRyxDQUFDLFdBQVc7UUFDWCxPQUFPLElBQUksQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLElBQUksT0FBTyxJQUFJLENBQUMsV0FBVyxLQUFLLFdBQVcsQ0FBQztLQUN2RjtDQUNKLENBQUMsQ0FBQztBQUNILE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUM7SUFDL0MsR0FBRyxDQUFDLFdBQVc7UUFDWCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztLQUM3QjtJQUNELEdBQUcsRUFBRSxTQUFTLEtBQUssRUFBRTtRQUNqQixJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsS0FBSyxDQUFDO0tBQzlCO0NBQ0osQ0FBQyxDQUFDOztBQUVILE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsdUJBQXVCLENBQUMsQ0FBQzs7O0FBR3ZGLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFVBQVUsR0FBRyxFQUFFLFlBQVksRUFBRTtJQUM5QyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZCLElBQUksR0FBRyxLQUFLLFdBQVcsRUFBRTtRQUNyQixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDaEIsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDO1NBQzNCLE1BQU0sSUFBSSxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUM3QixPQUFPLFlBQVksQ0FBQztTQUN2QixNQUFNO1lBQ0gsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQy9CO0tBQ0o7U0FDSTtRQUNELElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDbkIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQzFCLE1BQU0sSUFBSSxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUM3QixPQUFPLFlBQVksQ0FBQztTQUN2QixNQUFNO1lBQ0gsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQy9CO0tBQ0o7Q0FDSixDQUFDOztBQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFVBQVUsR0FBRyxFQUFFLEtBQUssRUFBRTtJQUN2QyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZCLElBQUksVUFBVSxJQUFJLEdBQUcsS0FBSyxXQUFXLENBQUMsQ0FBQzs7SUFFdkMsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtRQUNqRCxJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtZQUMzQixJQUFJLENBQUMsdUJBQXVCLENBQUMsR0FBRyxFQUFFLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUN0Rjs7UUFFRCxVQUFVO2NBQ0osSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLO2NBQ3hCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDOztRQUU5QixJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtZQUMzQixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ3RDO1FBQ0QsT0FBTyxLQUFLLENBQUM7S0FDaEIsTUFBTTtRQUNILElBQUksSUFBSSxDQUFDLG9CQUFvQixFQUFFO1lBQzNCLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7U0FDaEQ7UUFDRCxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7O1FBRWQsVUFBVTtjQUNKLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSztjQUN4QixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQzs7UUFFOUIsSUFBSSxJQUFJLENBQUMsb0JBQW9CLEVBQUU7WUFDM0IsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztTQUN0QztRQUNELE9BQU8sSUFBSSxDQUFDO0tBQ2Y7Q0FDSixDQUFDOztBQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFVBQVUsR0FBRyxFQUFFO0lBQ2hDLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdkIsT0FBTyxHQUFHLEtBQUssV0FBVyxHQUFHLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUM7Q0FDbkUsQ0FBQzs7QUFFRixJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxHQUFHLFVBQVUsR0FBRyxFQUFFO0lBQ3RDLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdkIsSUFBSSxHQUFHLEtBQUssV0FBVyxFQUFFO1FBQ3JCLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNoQixJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtnQkFDM0IsSUFBSSxDQUFDLHVCQUF1QixDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7YUFDdkQ7WUFDRCxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztZQUM3QixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDZCxJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtnQkFDM0IsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQzthQUMxQztZQUNELE9BQU8sSUFBSSxDQUFDO1NBQ2Y7UUFDRCxPQUFPLEtBQUssQ0FBQztLQUNoQjtTQUNJO1FBQ0QsSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNuQixJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtnQkFDM0IsSUFBSSxDQUFDLHVCQUF1QixDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDdEQ7WUFDRCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDdkIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2QsSUFBSSxJQUFJLENBQUMsb0JBQW9CLEVBQUU7Z0JBQzNCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7YUFDMUM7WUFDRCxPQUFPLElBQUksQ0FBQztTQUNmO1FBQ0QsT0FBTyxLQUFLLENBQUM7S0FDaEI7Q0FDSixDQUFDOztBQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLFlBQVk7SUFDL0IsSUFBSSxHQUFHLENBQUM7SUFDUixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7UUFDaEIsSUFBSSxJQUFJLENBQUMsb0JBQW9CLEVBQUU7WUFDM0IsSUFBSSxDQUFDLHVCQUF1QixDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7U0FDL0Q7UUFDRCxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztRQUM3QixJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtZQUMzQixJQUFJLENBQUMsaUJBQWlCLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1NBQ2xEO0tBQ0o7SUFDRCxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO1FBQ3BCLElBQUksSUFBSSxDQUFDLG9CQUFvQixFQUFFO1lBQzNCLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQ3REO1FBQ0QsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksSUFBSSxDQUFDLG9CQUFvQixFQUFFO1lBQzNCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7U0FDMUM7S0FDSjtJQUNELElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0NBQ25CLENBQUM7O0FBRUYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsVUFBVSxRQUFRLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRTtJQUN0RCxHQUFHLElBQUksQ0FBQyxTQUFTLEVBQUU7UUFDZixLQUFLLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDeEU7SUFDRCxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3ZCLEtBQUssSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtRQUN4QixLQUFLLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDOUQ7SUFDRCxPQUFPLEtBQUssQ0FBQztDQUNoQixDQUFDOztBQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxHQUFHLFVBQVUsUUFBUSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7SUFDM0QsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ2hCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdkIsS0FBSyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQyxVQUFVLEtBQUssRUFBRSxHQUFHLEVBQUU7UUFDOUQsT0FBTyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztLQUM3RCxFQUFFLEtBQUssQ0FBQyxDQUFDOztJQUVWLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRTtRQUNmLE9BQU8sUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzNFO0lBQ0QsT0FBTyxLQUFLLENBQUM7Q0FDaEIsQ0FBQzs7QUFFRixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxZQUFZO0lBQzdCLElBQUksR0FBRyxDQUFDO0lBQ1IsS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtRQUNwQixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDMUI7SUFDRCxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7Q0FDM0IsQ0FBQzs7QUFFRixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxZQUFZO0lBQ2hDLE9BQU8sSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0NBQzFCLENBQUM7O0FBRUYsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDOztBQUV0QixTQUFTLE9BQU8sR0FBRztDQUNsQjs7QUFFRCxPQUFPLENBQUMsS0FBSyxHQUFHO0lBQ1osWUFBWSxFQUFFLEdBQUc7SUFDakIsT0FBTyxFQUFFLEdBQUc7SUFDWixRQUFRLEVBQUUsR0FBRztJQUNiLFVBQVUsRUFBRSxHQUFHO0lBQ2YsU0FBUyxFQUFFLEdBQUc7SUFDZCxTQUFTLEVBQUUsR0FBRztJQUNkLFFBQVEsRUFBRSxHQUFHO0lBQ2IsTUFBTSxFQUFFLEdBQUc7Q0FDZCxDQUFDOztBQUVGLE9BQU8sQ0FBQyxZQUFZLEdBQUc7SUFDbkIsWUFBWSxFQUFFLFFBQVE7SUFDdEIsT0FBTyxFQUFFLFFBQVE7SUFDakIsUUFBUSxFQUFFLFFBQVE7SUFDbEIsVUFBVSxFQUFFLFFBQVE7SUFDcEIsU0FBUyxFQUFFLFFBQVE7SUFDbkIsU0FBUyxFQUFFLFFBQVE7SUFDbkIsUUFBUSxFQUFFLFFBQVE7SUFDbEIsTUFBTSxFQUFFLFFBQVE7Q0FDbkIsQ0FBQzs7QUFFRixPQUFPLENBQUMsWUFBWSxHQUFHO0lBQ25CLFlBQVksRUFBRSxRQUFRO0lBQ3RCLE9BQU8sRUFBRSxRQUFRO0lBQ2pCLFFBQVEsRUFBRSxRQUFRO0lBQ2xCLFVBQVUsRUFBRSxRQUFRO0lBQ3BCLFNBQVMsRUFBRSxRQUFRO0lBQ25CLFNBQVMsRUFBRSxRQUFRO0lBQ25CLFFBQVEsRUFBRSxRQUFRO0lBQ2xCLE1BQU0sRUFBRSxRQUFRO0NBQ25CLENBQUM7O0FBRUYsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDOztBQUV2QixTQUFTLE9BQU8sQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUU7SUFDL0MsSUFBSSxFQUFFLElBQUksWUFBWSxPQUFPLENBQUMsRUFBRTtRQUM1QixPQUFPLElBQUksT0FBTyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0tBQ3hEO0lBQ0QsTUFBTSxHQUFHLE1BQU0sSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ2pDLElBQUksR0FBRyxJQUFJLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQztJQUMzQixVQUFVLEdBQUcsVUFBVSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUM7SUFDekMsSUFBSSxDQUFDLGFBQWEsR0FBRyxNQUFNLENBQUM7SUFDNUIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7SUFDeEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDN0IsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ2hCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxTQUFTLGdCQUFnQixHQUFHO1FBQzlELE9BQU8sSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7S0FDNUIsQ0FBQyxDQUFDO0lBQ0gsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDaEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztDQUN4Qjs7QUFFRCxPQUFPLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQzs7QUFFMUIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQy9ELE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDeEQsT0FBTyxDQUFDLElBQUksR0FBRyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7O0FBRXRDLE9BQU8sQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztBQUNsQyxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7O0FBRWpDLE9BQU8sQ0FBQyxTQUFTLENBQUMsY0FBYyxHQUFHLFVBQVUsTUFBTSxFQUFFO0lBQ2pELE9BQU8sSUFBSSxJQUFJLENBQUMsV0FBVztRQUN2QixNQUFNO1FBQ04sSUFBSSxDQUFDLGFBQWE7UUFDbEIsSUFBSSxDQUFDLFdBQVc7UUFDaEIsSUFBSSxDQUFDLFVBQVU7S0FDbEIsQ0FBQztDQUNMLENBQUM7O0FBRUYsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEdBQUcsVUFBVSxLQUFLLEVBQUU7SUFDckMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNuQyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztDQUM1QyxDQUFDOztBQUVGLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFVBQVUsS0FBSyxFQUFFLE1BQU0sRUFBRTtJQUM3QyxJQUFJLE1BQU0sRUFBRTtRQUNSLE1BQU0sSUFBSSxLQUFLLENBQUMsc0RBQXNELENBQUMsQ0FBQztLQUMzRTtJQUNELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDbkMsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUMzQixJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDbkIsT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUN2QyxNQUFNO1FBQ0gsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQ2pDO0NBQ0osQ0FBQzs7QUFFRixPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxHQUFHLFVBQVUsS0FBSyxFQUFFLE1BQU0sRUFBRTtJQUNuRCxJQUFJLE1BQU0sRUFBRTtRQUNSLE1BQU0sSUFBSSxLQUFLLENBQUMseURBQXlELENBQUMsQ0FBQztLQUM5RTtJQUNELElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDbkMsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUMzQixJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDbkIsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMvQixJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUN6QixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDZCxJQUFJLE1BQU0sQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO2dCQUNyQixPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDM0I7WUFDRCxPQUFPLElBQUksQ0FBQztTQUNmO0tBQ0o7SUFDRCxPQUFPLEtBQUssQ0FBQztDQUNoQixDQUFDOztBQUVGLE9BQU8sQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLFlBQVk7SUFDbEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNyQixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztDQUNuQixDQUFDOztBQUVGLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFVBQVUsS0FBSyxFQUFFO0lBQ3JDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDbkMsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUMzQixJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUNwQixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO0tBQ2hFO0lBQ0QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQy9CLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNkLE9BQU8sSUFBSSxDQUFDO0tBQ2Y7SUFDRCxPQUFPLEtBQUssQ0FBQztDQUNoQixDQUFDOztBQUVGLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLFVBQVUsUUFBUSxFQUFFLEtBQUssY0FBYztJQUM5RCxJQUFJLEtBQUssR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekIsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUMzQixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDZCxPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxLQUFLLEVBQUUsTUFBTSxFQUFFO1FBQzNDLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEtBQUssRUFBRSxLQUFLLEVBQUU7WUFDekMsT0FBTyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQzVELEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQ25CLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0NBQ25CLENBQUM7O0FBRUYsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEdBQUcsWUFBWTtJQUNoQyxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQ2pCLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztLQUNuQztDQUNKLENBQUM7O0FBRUYsT0FBTyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsWUFBWTtJQUNwQyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7Q0FDekQsQ0FBQzs7QUFFRixPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxVQUFVLE9BQU8sRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRTtJQUNqRSxPQUFPLEdBQUcsT0FBTyxJQUFJLE9BQU8sQ0FBQyxZQUFZLENBQUM7SUFDMUMsT0FBTyxHQUFHLE9BQU8sSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ2xDLElBQUksQ0FBQyxRQUFRLEVBQUU7UUFDWCxRQUFRLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQztRQUN2QixLQUFLLEdBQUcsT0FBTyxDQUFDO0tBQ25CO0lBQ0QsUUFBUSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7O0lBRWhDLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUUsV0FBVyxHQUFHLE9BQU8sQ0FBQyxJQUFJO1FBQ2xELE9BQU8sR0FBRyxPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLEtBQUssR0FBRyxDQUFDO1FBQ3pDLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDOztJQUUzQixPQUFPLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxFQUFFO1FBQ2hDLElBQUksS0FBSyxLQUFLLFdBQVcsR0FBRyxDQUFDLEVBQUU7WUFDM0IsTUFBTSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUM7WUFDM0IsTUFBTSxHQUFHLEdBQUcsQ0FBQztTQUNoQixNQUFNLElBQUksS0FBSyxLQUFLLENBQUMsRUFBRTtZQUNwQixNQUFNLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztZQUM1QixNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztTQUMzQixNQUFNO1lBQ0gsTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUM7WUFDMUIsTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUM7U0FDM0I7UUFDRCxNQUFNLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMzQixRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxNQUFNLEdBQUcsT0FBTyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsVUFBVSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQztRQUNqRixNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsS0FBSyxFQUFFLElBQUksRUFBRTtZQUNsQyxJQUFJLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDO1lBQzNCLElBQUksSUFBSSxLQUFLLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUMzQixNQUFNLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQztnQkFDM0IsS0FBSyxHQUFHLEdBQUcsQ0FBQzthQUNmLE1BQU07Z0JBQ0gsTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUM7Z0JBQzFCLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO2FBQzFCO1lBQ0QsT0FBTztnQkFDSCxJQUFJO2dCQUNKLFVBQVUsSUFBSSxFQUFFO29CQUNaLElBQUksQ0FBQyxPQUFPLEVBQUU7d0JBQ1YsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsT0FBTyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxDQUFDO3dCQUN2RixPQUFPLEdBQUcsSUFBSSxDQUFDO3FCQUNsQixNQUFNO3dCQUNILFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLE1BQU0sR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQztxQkFDNUQ7aUJBQ0o7Z0JBQ0QsVUFBVSxJQUFJLEVBQUU7b0JBQ1osUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsTUFBTSxHQUFHLEdBQUcsR0FBRyxPQUFPLENBQUMsTUFBTSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQztpQkFDckU7YUFDSixDQUFDO1NBQ0wsQ0FBQyxDQUFDO1FBQ0gsS0FBSyxFQUFFLENBQUM7S0FDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0E0Q0osQ0FBQzs7QUFFRixPQUFPLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRyxVQUFVLElBQUksRUFBRSxLQUFLLEVBQUU7SUFDL0MsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN2QixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxLQUFLLEVBQUU7UUFDekIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxJQUFJLEVBQUU7WUFDL0QsS0FBSyxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQztTQUNyQixDQUFDLENBQUM7S0FDTixNQUFNO1FBQ0gsS0FBSyxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQztLQUN0QjtDQUNKLENBQUM7O0FBRUYsSUFBSSxJQUFJLEdBQUcsb0JBQW9CLENBQUMsVUFBVSxNQUFNLEVBQUU7Ozs7O0FBS2xELElBQUksU0FBUyxFQUFFLGNBQWMsQ0FBQzs7O0FBRzlCLEdBQUcsQ0FBQ0EsZ0JBQWMsQ0FBQyxHQUFHLEtBQUssS0FBSyxDQUFDLE1BQU0sT0FBT0EsZ0JBQWMsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sS0FBSyxVQUFVLENBQUMsRUFBRTs7SUFFL0YsU0FBUyxHQUFHLE1BQU0sQ0FBQyxPQUFPLEdBQUdBLGdCQUFjLENBQUMsR0FBRyxDQUFDO0lBQ2hELFNBQVMsQ0FBQyxHQUFHLEdBQUcsU0FBUyxDQUFDOztJQUUxQixTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxVQUFVLFFBQVEsRUFBRSxLQUFLLGNBQWM7UUFDaEUsSUFBSSxLQUFLLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxLQUFLLEVBQUU7WUFDekIsS0FBSyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDcEQsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxLQUFLLENBQUM7S0FDaEIsQ0FBQzs7SUFFRixTQUFTLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBRyxVQUFVLFFBQVEsRUFBRSxLQUFLLGNBQWM7UUFDckUsSUFBSSxLQUFLLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pCLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNoQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3JCLElBQUksWUFBWSxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4QyxJQUFJLEtBQUssRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDOztRQUVwQixRQUFRLEtBQUssR0FBRyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxHQUFHO1lBQ3ZDLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQztTQUM3Qjs7UUFFRCxPQUFPLENBQUMsR0FBRyxJQUFJLEVBQUU7WUFDYixLQUFLLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQ2hFO1FBQ0QsT0FBTyxLQUFLLENBQUM7S0FDaEIsQ0FBQzs7SUFFRixTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxVQUFVLElBQUksRUFBRSxNQUFNLEVBQUU7UUFDakQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2hCO1lBQ0ksSUFBSSxJQUFJLE9BQU8sSUFBSSxDQUFDLE1BQU0sS0FBSyxVQUFVO1lBQ3pDLElBQUksQ0FBQyxJQUFJLE1BQU0sSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDO1lBQ3hDLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxLQUFLLEVBQUUsS0FBSyxFQUFFO2dCQUNoQyxPQUFPLEtBQUssSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQzthQUMzQyxFQUFFLElBQUksQ0FBQztVQUNWO0tBQ0wsQ0FBQzs7SUFFRixTQUFTLENBQUMsU0FBUyxDQUFDLGNBQWMsR0FBRyxVQUFVLE1BQU0sRUFBRTtRQUNuRCxPQUFPLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztLQUM5RixDQUFDOztJQUVGLFNBQVMsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLFlBQVk7UUFDckMsT0FBTyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7S0FDOUIsQ0FBQzs7SUFFRixTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxZQUFZO1FBQ2xDLElBQUksSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLEVBQUU7WUFDZixPQUFPLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxLQUFLLENBQUM7U0FDckM7UUFDRCxPQUFPLFNBQVMsQ0FBQztLQUNwQixDQUFDOztJQUVGLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFlBQVk7UUFDbEMsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1gsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUM7WUFDL0MsTUFBTSxNQUFNLEdBQUcsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssRUFBRTtnQkFDckMsS0FBSyxHQUFHLE1BQU0sQ0FBQzthQUNsQjtZQUNELElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNsQyxPQUFPLEtBQUssQ0FBQztTQUNoQjtLQUNKLENBQUM7O0lBRUYsU0FBUyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsWUFBWTtRQUNwQyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDWCxJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDO1lBQzVDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDN0IsT0FBTyxVQUFVLENBQUM7U0FDckI7S0FDSixDQUFDOzs7SUFHRixNQUFNLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDO1FBQy9DLEdBQUcsRUFBRSxXQUFXO1lBQ1osT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDO1NBQ3BCO1FBQ0QsVUFBVSxFQUFFLElBQUk7UUFDaEIsWUFBWSxDQUFDLElBQUk7S0FDcEIsQ0FBQyxDQUFDOztJQUVILFNBQVMsQ0FBQyxJQUFJLEdBQUcsVUFBVSxLQUFLLEVBQUU7UUFDOUIsSUFBSSxNQUFNLElBQUksSUFBSSxJQUFJLENBQUMsQ0FBQztRQUN4QixNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RCLE9BQU8sTUFBTSxDQUFDO0tBQ2pCLENBQUM7O0lBRUYsTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLGlCQUFpQixDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN4RSxNQUFNLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsVUFBVSxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQzs7Q0FFcEU7Ozs7Ozs7O0lBUUcsY0FBYyxHQUFHLFNBQVMsY0FBYyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRTtRQUN2RSxPQUFPLGNBQWMsQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQztLQUN2RixDQUFDOztJQUVGLGNBQWMsQ0FBQyxLQUFLLEdBQUcsVUFBVSxXQUFXLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRTtRQUNwRixJQUFJLEVBQUUsTUFBTSxZQUFZLFdBQVcsQ0FBQyxFQUFFO1lBQ2xDLE9BQU8sSUFBSSxXQUFXLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsVUFBVSxDQUFDLENBQUM7U0FDNUQ7UUFDRCxNQUFNLEdBQUcsTUFBTSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDakMsSUFBSSxHQUFHLElBQUksSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQzNCLFVBQVUsR0FBRyxVQUFVLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQztRQUN6QyxNQUFNLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQztRQUM5QixNQUFNLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUMxQixNQUFNLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQzs7O1FBRy9CLE1BQU0sQ0FBQyxLQUFLLEdBQUcsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQzs7O1FBR25ELE1BQU0sQ0FBQyxLQUFLLEdBQUcsSUFBSSxNQUFNLENBQUMsS0FBSztZQUMzQixTQUFTO1lBQ1QsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFO2dCQUNaLE9BQU8sTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ25DO1lBQ0QsVUFBVSxJQUFJLEVBQUU7Z0JBQ1osT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQzNCO1NBQ0osQ0FBQztRQUNGLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ2xCLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7O0tBRTFCLENBQUM7O0lBRUYsY0FBYyxDQUFDLEdBQUcsR0FBRyxjQUFjLENBQUM7SUFDcEMsY0FBYyxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7O0lBRS9DLE1BQU0sQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN0RSxNQUFNLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDOztJQUUvRCxjQUFjLENBQUMsSUFBSSxHQUFHLGlCQUFpQixDQUFDLElBQUksQ0FBQzs7SUFFN0MsTUFBTSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDOzs7Ozs7SUFNakcsY0FBYyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3ZDLGNBQWMsQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQzs7SUFFMUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxjQUFjLEdBQUcsVUFBVSxNQUFNLEVBQUU7UUFDeEQsT0FBTyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7S0FDOUYsQ0FBQzs7SUFFRixjQUFjLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxVQUFVLEtBQUssRUFBRTtRQUM1QyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDL0IsQ0FBQzs7SUFFRixjQUFjLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxVQUFVLEtBQUssRUFBRSxNQUFNLEVBQUU7UUFDcEQsSUFBSSxNQUFNLEVBQUU7WUFDUixNQUFNLElBQUksS0FBSyxDQUFDLGtEQUFrRCxDQUFDLENBQUM7U0FDdkU7UUFDRCxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM1QixJQUFJLElBQUksRUFBRTtZQUNOLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztTQUNyQixNQUFNO1lBQ0gsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ2pDO0tBQ0osQ0FBQzs7SUFFRixjQUFjLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxVQUFVLEtBQUssRUFBRTtRQUM1QyxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUN2QixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBQ3hCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3RCLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDNUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDckIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2QsT0FBTyxJQUFJLENBQUM7U0FDZjtRQUNELE9BQU8sS0FBSyxDQUFDO0tBQ2hCLENBQUM7O0lBRUYsY0FBYyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRyxVQUFVLEtBQUssRUFBRSxNQUFNLEVBQUU7UUFDMUQsSUFBSSxNQUFNLEVBQUU7WUFDUixNQUFNLElBQUksS0FBSyxDQUFDLHFEQUFxRCxDQUFDLENBQUM7U0FDMUU7UUFDRCxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDdEIsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzVCLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDM0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzNCLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNkLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7UUFDRCxPQUFPLEtBQUssQ0FBQztLQUNoQixDQUFDOztJQUVGLGNBQWMsQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFlBQVk7UUFDdkMsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2IsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUN4QyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDdkIsT0FBTyxNQUFNLENBQUM7U0FDakI7S0FDSixDQUFDOztJQUVGLGNBQWMsQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLFlBQVk7UUFDekMsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2IsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUN4QyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDdkIsT0FBTyxNQUFNLENBQUM7U0FDakI7S0FDSixDQUFDOztJQUVGLGNBQWMsQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFlBQVk7UUFDdkMsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUNqQixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDO1NBQ2pDO0tBQ0osQ0FBQzs7SUFFRixjQUFjLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxZQUFZO1FBQ3pDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDbkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNuQixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztLQUNuQixDQUFDO0lBQ0YsTUFBTSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRTtRQUNyRCxLQUFLLEVBQUUsY0FBYyxDQUFDLFNBQVMsQ0FBQyxLQUFLO0tBQ3hDLENBQUMsQ0FBQzs7SUFFSCxjQUFjLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxVQUFVLFFBQVEsRUFBRSxLQUFLLGNBQWM7UUFDckUsSUFBSSxLQUFLLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDdEIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsS0FBSyxFQUFFLEtBQUssRUFBRTtZQUN2QyxPQUFPLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDNUQsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDbkIsQ0FBQzs7SUFFRixjQUFjLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBRyxVQUFVLFFBQVEsRUFBRSxLQUFLLGNBQWM7UUFDMUUsSUFBSSxLQUFLLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDdEIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDNUIsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsS0FBSyxFQUFFLEtBQUssRUFBRTtZQUM1QyxPQUFPLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDNUQsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDbkIsQ0FBQzs7SUFFRixjQUFjLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRyxZQUFZO1FBQzNDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztLQUMvQixDQUFDOztJQUVGLGNBQWMsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLFlBQVk7UUFDMUMsT0FBTyxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDakQsQ0FBQzs7SUFFRixjQUFjLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxZQUFZO1FBQ3ZDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDckIsT0FBTyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7S0FDeEMsQ0FBQzs7OztBQUlOLEdBQUcsQ0FBQyxTQUFTLEVBQUU7SUFDWCxNQUFNLENBQUMsT0FBTyxHQUFHLGNBQWMsQ0FBQztDQUNuQztLQUNJO0lBQ0QsU0FBUyxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUM7SUFDbkUsU0FBUyxDQUFDLFNBQVMsQ0FBQyxZQUFZLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUM7SUFDckUsTUFBTSxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUM7SUFDM0IsU0FBUyxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7Q0FDN0M7Q0FDQSxDQUFDLENBQUM7O0FBRUgsSUFBSSxJQUFJLEdBQUcsb0JBQW9CLENBQUMsVUFBVSxNQUFNLEVBQUU7Ozs7QUFJbEQsSUFBSSxHQUFHLEVBQUUsU0FBUyxFQUFFLGNBQWMsQ0FBQzs7QUFFbkMsR0FBRyxDQUFDQSxnQkFBYyxDQUFDLEdBQUcsS0FBSyxLQUFLLENBQUMsTUFBTSxPQUFPQSxnQkFBYyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxLQUFLLFVBQVUsQ0FBQyxFQUFFOztJQUUvRixHQUFHLEdBQUcsTUFBTSxDQUFDLE9BQU8sR0FBR0EsZ0JBQWMsQ0FBQyxHQUFHO0lBQ3pDLFNBQVMsR0FBRyxHQUFHLENBQUM7SUFDaEIsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7Ozs7SUFJZCxJQUFJLGdCQUFnQixHQUFHLEVBQUUsQ0FBQyxTQUFTLEtBQUssTUFBTSxDQUFDLFNBQVM7UUFDcEQsa0JBQWtCLENBQUM7O0lBRXZCLElBQUksZ0JBQWdCLEVBQUU7UUFDbEIsa0JBQWtCLEdBQUcsWUFBWTtZQUM3QixJQUFJLENBQUMsU0FBUyxHQUFHLGlCQUFpQixDQUFDO1NBQ3RDLENBQUM7S0FDTCxNQUFNO1FBQ0gsa0JBQWtCLEdBQUcsWUFBWTtZQUM3QixNQUFNLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLHVCQUF1QixDQUFDLENBQUM7U0FDMUQsQ0FBQztLQUNMOztJQUVELE1BQU0sQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxnQkFBZ0IsRUFBRTtRQUNuRCxLQUFLLEVBQUUsa0JBQWtCO1FBQ3pCLFFBQVEsRUFBRSxJQUFJO1FBQ2QsWUFBWSxFQUFFLElBQUk7UUFDbEIsVUFBVSxFQUFFLEtBQUs7S0FDcEIsQ0FBQyxDQUFDOzs7SUFHSCxNQUFNLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsd0JBQXdCLEVBQUU7UUFDM0QsS0FBSyxFQUFFLFVBQVUsRUFBRTtRQUNuQixRQUFRLEVBQUUsSUFBSTtRQUNkLFlBQVksRUFBRSxJQUFJO1FBQ2xCLFVBQVUsRUFBRSxLQUFLO0tBQ3BCLENBQUMsQ0FBQzs7O0lBR0gsR0FBRyxDQUFDLFNBQVMsQ0FBQyxjQUFjLEdBQUcsVUFBVSxNQUFNLEVBQUU7UUFDN0MsT0FBTyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDdkMsQ0FBQzs7SUFFRixHQUFHLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7SUFDM0IsR0FBRyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsVUFBVSxNQUFNLEVBQUU7UUFDdEMsSUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLE1BQU0sRUFBRTtZQUNyQyxJQUFJLE9BQU8sTUFBTSxDQUFDLE9BQU8sS0FBSyxVQUFVLEVBQUU7O2dCQUV0QyxJQUFJLE1BQU0sQ0FBQyxLQUFLLEtBQUssSUFBSSxFQUFFO29CQUN2QixNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsS0FBSyxFQUFFLEdBQUcsRUFBRTt3QkFDakMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7cUJBQ3hCLEVBQUUsSUFBSSxDQUFDLENBQUM7O2lCQUVaLE1BQU07b0JBQ0gsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLElBQUksRUFBRTt3QkFDM0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQzlCLEVBQUUsSUFBSSxDQUFDLENBQUM7aUJBQ1o7YUFDSixNQUFNLElBQUksT0FBTyxNQUFNLENBQUMsTUFBTSxLQUFLLFFBQVEsRUFBRTs7O2dCQUcxQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDcEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7aUJBQzFCO2FBQ0osTUFBTTs7Z0JBRUgsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxHQUFHLEVBQUU7b0JBQ3ZDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2lCQUM5QixFQUFFLElBQUksQ0FBQyxDQUFDO2FBQ1o7U0FDSixNQUFNLElBQUksTUFBTSxJQUFJLE9BQU8sTUFBTSxDQUFDLE1BQU0sS0FBSyxRQUFRLEVBQUU7O1lBRXBELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNwQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzthQUMxQjtTQUNKO1FBQ0QsT0FBTyxJQUFJLENBQUM7S0FDZixDQUFDOztJQUVGLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFVBQVUsS0FBSyxFQUFFLEdBQUcsRUFBRTtRQUN0QyxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQy9CLENBQUM7O0lBRUYsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsVUFBVSxRQUFRLEVBQUUsS0FBSyxjQUFjO1FBQzFELElBQUksS0FBSyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QixJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsS0FBSyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7WUFDbkMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQ3pELENBQUMsQ0FBQztRQUNILE9BQU8sS0FBSyxDQUFDO0tBQ2hCLENBQUM7O0lBRUYsR0FBRyxDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsVUFBVSxRQUFRLEVBQUUsS0FBSyxjQUFjO1FBQy9ELElBQUksS0FBSyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QixJQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDL0IsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNyQixJQUFJLFlBQVksR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDeEMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNoQixRQUFRLElBQUksR0FBRyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxHQUFHO1lBQ3ZDLFlBQVksQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQztTQUMvQjtRQUNELE9BQU8sQ0FBQyxFQUFFLEdBQUcsSUFBSSxFQUFFO1lBQ2YsS0FBSyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUN6RjtRQUNELE9BQU8sS0FBSyxDQUFDO0tBQ2hCLENBQUM7O0lBRUYsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsVUFBVSxJQUFJLEVBQUUsTUFBTSxFQUFFO1FBQzNDLE1BQU0sR0FBRyxNQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNqQyxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUU7WUFDZixPQUFPLElBQUksQ0FBQztTQUNmLE1BQU0sSUFBSSxJQUFJLElBQUksT0FBTyxJQUFJLENBQUMsS0FBSyxLQUFLLFVBQVUsRUFBRTtZQUNqRCxPQUFPLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsS0FBSyxFQUFFLEdBQUcsRUFBRTtnQkFDL0QsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQzthQUN2QyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQ1osTUFBTTtZQUNILElBQUksSUFBSSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDN0IsT0FBTyxJQUFJLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLEVBQUU7Z0JBQ3ZFLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDM0MsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUNaO0tBQ0osQ0FBQzs7SUFFRixJQUFJLGtCQUFrQixHQUFHLFNBQVMsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMzRCxHQUFHLENBQUMsU0FBUyxDQUFDLFNBQVMsR0FBRyxXQUFXO1FBQ2pDLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0tBQ3ZDLENBQUM7SUFDRixJQUFJLG9CQUFvQixHQUFHLFNBQVMsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDLE9BQU8sS0FBSyxDQUFDLENBQUMsQ0FBQztJQUMvRCxHQUFHLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBRyxXQUFXO1FBQ25DLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0tBQ3pDLENBQUM7SUFDRixJQUFJLHFCQUFxQixHQUFHLFNBQVMsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLEdBQUcsQ0FBQyxTQUFTLENBQUMsWUFBWSxHQUFHLFdBQVc7UUFDcEMsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDLENBQUM7S0FDMUMsQ0FBQztJQUNGLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLFlBQVk7UUFDL0IsT0FBTyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7S0FDOUIsQ0FBQzs7O0lBR0YsR0FBRyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsWUFBWTtRQUM5QixPQUFPLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztLQUM5QixDQUFDOzs7Ozs7SUFNRixHQUFHLENBQUMsSUFBSSxHQUFHLFVBQVUsS0FBSyxFQUFFO1FBQ3hCLElBQUksTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDO1FBQ3RCLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdEIsT0FBTyxNQUFNLENBQUM7S0FDakIsQ0FBQzs7OztJQUlGLE1BQU0sQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7UUFDekMsR0FBRyxFQUFFLFdBQVc7WUFDWixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7U0FDcEI7UUFDRCxVQUFVLEVBQUUsSUFBSTtRQUNoQixZQUFZLENBQUMsSUFBSTtLQUNwQixDQUFDLENBQUM7OztJQUdILElBQUksU0FBUyxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsS0FBSztRQUMvQixPQUFPLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFHO1FBQzNCLFVBQVUsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQzs7SUFFdEMsSUFBSSx1QkFBdUIsR0FBRztRQUMxQixLQUFLLEdBQUc7WUFDSixLQUFLLEVBQUUsWUFBWTtnQkFDZixJQUFJLElBQUksQ0FBQztnQkFDVCxJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtvQkFDM0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEtBQUssRUFBRSxHQUFHLEVBQUU7d0JBQy9CLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7cUJBQzVDLEVBQUUsSUFBSSxDQUFDLENBQUM7b0JBQ1QsSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztpQkFDM0I7Z0JBQ0QsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDckIsSUFBSSxJQUFJLENBQUMsb0JBQW9CLEVBQUU7b0JBQzNCLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxHQUFHLEVBQUU7d0JBQ3hCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztxQkFDL0IsRUFBRSxJQUFJLENBQUMsQ0FBQztpQkFDWjthQUNKO1lBQ0QsUUFBUSxFQUFFLElBQUk7WUFDZCxZQUFZLEVBQUUsSUFBSTs7U0FFckI7UUFDRCxHQUFHLEdBQUc7WUFDRixLQUFLLEVBQUUsVUFBVSxHQUFHLEVBQUUsS0FBSyxFQUFFO2dCQUN6QixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUMxQixJQUFJLEtBQUssRUFBRTtvQkFDUCxJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTt3QkFDM0IsSUFBSSxDQUFDLHVCQUF1QixDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztxQkFDNUM7O29CQUVELE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQzs7b0JBRTlCLElBQUksSUFBSSxDQUFDLG9CQUFvQixFQUFFO3dCQUMzQixJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO3FCQUN0QztpQkFDSixNQUFNO29CQUNILElBQUksSUFBSSxDQUFDLG9CQUFvQixFQUFFO3dCQUMzQixJQUFJLENBQUMsdUJBQXVCLENBQUMsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO3FCQUNoRDs7b0JBRUQsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDOztvQkFFOUIsSUFBSSxJQUFJLENBQUMsb0JBQW9CLEVBQUU7d0JBQzNCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7cUJBQ3RDO2lCQUNKO2dCQUNELE9BQU8sSUFBSSxDQUFDO2FBQ2Y7WUFDRCxRQUFRLEVBQUUsSUFBSTtZQUNkLFlBQVksRUFBRSxJQUFJO1NBQ3JCOztRQUVELFFBQVEsRUFBRTtZQUNOLEtBQUssRUFBRSxVQUFVLEdBQUcsRUFBRTtnQkFDbEIsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFO29CQUNmLElBQUksSUFBSSxDQUFDLG9CQUFvQixFQUFFO3dCQUMzQixJQUFJLENBQUMsdUJBQXVCLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztxQkFDcEQ7b0JBQ0QsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7O29CQUUxQixJQUFJLElBQUksQ0FBQyxvQkFBb0IsRUFBRTt3QkFDM0IsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztxQkFDMUM7b0JBQ0QsT0FBTyxJQUFJLENBQUM7aUJBQ2Y7Z0JBQ0QsT0FBTyxLQUFLLENBQUM7YUFDaEI7U0FDSjtLQUNKLENBQUM7Ozs7SUFJRixNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsaUJBQWlCLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDOztJQUVsRSxJQUFJLGlCQUFpQixHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO0NBQ2pGOztJQUVHLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7OztJQUc5QixjQUFjLEdBQUcsR0FBRyxHQUFHLFNBQVMsR0FBRyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRTtRQUNsRSxJQUFJLEVBQUUsSUFBSSxZQUFZLEdBQUcsQ0FBQyxFQUFFO1lBQ3hCLE9BQU8sSUFBSSxHQUFHLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsVUFBVSxDQUFDLENBQUM7U0FDcEQ7UUFDRCxNQUFNLEdBQUcsTUFBTSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDakMsSUFBSSxHQUFHLElBQUksSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQzNCLFVBQVUsR0FBRyxVQUFVLElBQUksUUFBUSxDQUFDLElBQUksQ0FBQztRQUN6QyxJQUFJLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQztRQUM1QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUN4QixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztRQUM3QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksR0FBRztZQUNoQixTQUFTO1lBQ1QsU0FBUyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtnQkFDckIsT0FBTyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7YUFDL0I7WUFDRCxTQUFTLE9BQU8sQ0FBQyxJQUFJLEVBQUU7Z0JBQ25CLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUN6QjtTQUNKLENBQUM7UUFDRixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUNoQixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0tBQ3hCLENBQUM7O0lBRUYsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7O0lBRWQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzNELE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDcEQsTUFBTSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDOztJQUV0RixHQUFHLENBQUMsSUFBSSxHQUFHLGlCQUFpQixDQUFDLElBQUksQ0FBQzs7SUFFbEMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxjQUFjLEdBQUcsVUFBVSxNQUFNLEVBQUU7UUFDN0MsT0FBTyxJQUFJLElBQUksQ0FBQyxXQUFXO1lBQ3ZCLE1BQU07WUFDTixJQUFJLENBQUMsYUFBYTtZQUNsQixJQUFJLENBQUMsV0FBVztZQUNoQixJQUFJLENBQUMsVUFBVTtTQUNsQixDQUFDO0tBQ0wsQ0FBQzs7SUFFRixHQUFHLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRyxVQUFVLE9BQU8sRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRTtRQUM3RCxPQUFPLEdBQUcsT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDbEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLFVBQVUsSUFBSSxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUU7WUFDcEQsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztTQUM3QyxFQUFFLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUN2QixDQUFDOztJQUVGLEdBQUcsQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLFVBQVUsSUFBSSxFQUFFLEdBQUcsRUFBRTtRQUN6QyxHQUFHLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN6QixHQUFHLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUNoQyxDQUFDOztJQUVGLEdBQUcsQ0FBQyxTQUFTLEVBQUU7UUFDWCxNQUFNLENBQUMsT0FBTyxHQUFHLGNBQWMsQ0FBQztLQUNuQztTQUNJO1FBQ0QsTUFBTSxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUM7UUFDM0IsU0FBUyxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7S0FDN0M7Q0FDSixDQUFDLENBQUM7O0FBRUgsSUFBSSxnQkFBZ0IsR0FBRyxvQkFBb0IsQ0FBQyxVQUFVLE1BQU0sRUFBRTs7Ozs7Ozs7O0FBUzlELElBQUksc0JBQXNCLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxzQkFBc0IsR0FBRyxTQUFTLHNCQUFzQixDQUFDLElBQUksRUFBRTtJQUN2RyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNqQixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztJQUN0QixJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDO0lBQ2pDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7Q0FDaEMsT0FBTyxJQUFJLENBQUM7Q0FDWixDQUFDOztBQUVGLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxzQkFBc0IsQ0FBQyxTQUFTLENBQUM7SUFDckQsSUFBSSxFQUFFO0VBQ1IsS0FBSyxDQUFDLElBQUk7RUFDVixRQUFRLEVBQUUsSUFBSTtFQUNkO0lBQ0UsUUFBUSxFQUFFO0VBQ1osS0FBSyxDQUFDLEtBQUs7RUFDWCxRQUFRLEVBQUUsSUFBSTtFQUNkO0NBQ0Qsb0JBQW9CLEVBQUU7RUFDckIsS0FBSyxDQUFDLElBQUk7RUFDVixRQUFRLEVBQUUsSUFBSTtFQUNkO0NBQ0QsbUJBQW1CLEVBQUU7RUFDcEIsR0FBRyxFQUFFLFdBQVc7R0FDZixPQUFPLElBQUksQ0FBQyxvQkFBb0IsS0FBSyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxJQUFJLENBQUMsb0NBQW9DLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7R0FDM0g7RUFDRDtDQUNELGdCQUFnQixFQUFFO0VBQ2pCLEtBQUssQ0FBQyxJQUFJO0VBQ1YsUUFBUSxFQUFFLElBQUk7RUFDZDtJQUNFLGVBQWUsRUFBRTtFQUNuQixHQUFHLEVBQUUsV0FBVztHQUNmLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixLQUFLLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLElBQUksQ0FBQyxnQ0FBZ0MsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztHQUMvRztFQUNEO0lBQ0UsZ0NBQWdDLEVBQUU7UUFDOUIsS0FBSyxFQUFFLHFCQUFxQjtRQUM1QixRQUFRLEVBQUUsSUFBSTtLQUNqQjtJQUNELG9DQUFvQyxFQUFFO1FBQ2xDLEtBQUssRUFBRSx5QkFBeUI7UUFDaEMsUUFBUSxFQUFFLElBQUk7S0FDakI7O0NBRUosQ0FBQyxDQUFDOztBQUVILElBQUksYUFBYSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDdkUsSUFBSSx1Q0FBdUMsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDOztDQUV4RCxNQUFNLENBQUMsT0FBTyxDQUFDLHFCQUFxQixHQUFHLHFCQUFxQixDQUFDO0FBQzlELFNBQVMscUJBQXFCLENBQUMsSUFBSSxFQUFFO0lBQ2pDLElBQUkseUJBQXlCLEdBQUcsdUNBQXVDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xGLEdBQUcsQ0FBQyx5QkFBeUIsRUFBRTtRQUMzQix5QkFBeUIsR0FBRyxRQUFRLENBQUM7UUFDckMseUJBQXlCLElBQUksSUFBSSxDQUFDO1FBQ2xDLHlCQUF5QixJQUFJLFFBQVEsQ0FBQztRQUN0Qyx1Q0FBdUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLHlCQUF5QixDQUFDLENBQUM7S0FDL0U7SUFDRCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztJQUNyQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztJQUNyQixJQUFJLENBQUMseUJBQXlCLEdBQUcseUJBQXlCLENBQUM7SUFDM0QsT0FBTyxJQUFJLENBQUM7Q0FDZjs7QUFFRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsU0FBUyxDQUFDO0lBQ3BELFFBQVEsRUFBRTtFQUNaLEtBQUssRUFBRSxJQUFJO0VBQ1gsUUFBUSxFQUFFLElBQUk7RUFDZDtDQUNELE9BQU8sRUFBRTtFQUNSLEdBQUcsRUFBRSxXQUFXOzs7O1lBSU4sT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDOztHQUU5QjtRQUNLLEdBQUcsRUFBRSxTQUFTLEtBQUssRUFBRTtZQUNqQixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztTQUN6QjtFQUNQO0lBQ0UsYUFBYSxFQUFFO1FBQ1gsS0FBSyxDQUFDLGFBQWE7UUFDbkIsUUFBUSxFQUFFLElBQUk7S0FDakI7SUFDRCxVQUFVLEVBQUU7UUFDUixLQUFLLENBQUMsQ0FBQztRQUNQLFFBQVEsRUFBRSxJQUFJO0tBQ2pCO0lBQ0QscUJBQXFCLEVBQUU7UUFDbkIsS0FBSyxDQUFDLEdBQUc7UUFDVCxRQUFRLEVBQUUsSUFBSTtLQUNqQjtJQUNELG1CQUFtQixFQUFFO1FBQ2pCLEtBQUssRUFBRSxTQUFTLG1CQUFtQixDQUFDLEtBQUssRUFBRTtVQUN6QyxPQUFPLEtBQUssS0FBSyxJQUFJLENBQUMsYUFBYSxDQUFDO09BQ3ZDO0tBQ0Y7SUFDRCxrQ0FBa0MsRUFBRTtRQUNoQyxLQUFLLEVBQUUsV0FBVztZQUNkLEdBQUcsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRTtnQkFDakYsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7Z0JBQ3BCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ3ZFO1lBQ0QsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO1NBQ3hCO0tBQ0o7SUFDRCxvQkFBb0IsRUFBRTtRQUNsQixLQUFLLEVBQUUsS0FBSztRQUNaLFFBQVEsRUFBRSxJQUFJO0tBQ2pCO0lBQ0Qsd0JBQXdCLEVBQUU7RUFDNUIsS0FBSyxFQUFFLHNCQUFzQjtRQUN2QixRQUFRLEVBQUUsSUFBSTtFQUNwQjtDQUNELENBQUMsQ0FBQzs7QUFFSCxNQUFNLENBQUMsT0FBTyxDQUFDLHlCQUF5QixHQUFHLHlCQUF5QixDQUFDO0FBQ3JFLElBQUksMkNBQTJDLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztBQUM3RCxTQUFTLHlCQUF5QixDQUFDLElBQUksRUFBRTtJQUNyQyxJQUFJLHlCQUF5QixHQUFHLDJDQUEyQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN0RixHQUFHLENBQUMseUJBQXlCLEVBQUU7UUFDM0IseUJBQXlCLEdBQUcsUUFBUSxDQUFDO1FBQ3JDLHlCQUF5QixJQUFJLElBQUksQ0FBQztRQUNsQyx5QkFBeUIsSUFBSSxZQUFZLENBQUM7UUFDMUMsMkNBQTJDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0tBQ25GO0lBQ0QsSUFBSSxDQUFDLHlCQUF5QixHQUFHLHlCQUF5QixDQUFDO0NBQzlELE9BQU8sSUFBSSxDQUFDO0NBQ1o7QUFDRCx5QkFBeUIsQ0FBQyxTQUFTLEdBQUcsSUFBSSxxQkFBcUIsRUFBRSxDQUFDO0FBQ2xFLHlCQUF5QixDQUFDLFNBQVMsQ0FBQyxXQUFXLEdBQUcseUJBQXlCLENBQUM7QUFDNUUseUJBQXlCLENBQUMsU0FBUyxDQUFDLHdCQUF3QixHQUFHLDBCQUEwQixDQUFDO0NBQ3pGLENBQUMsQ0FBQztBQUNILElBQUksa0JBQWtCLEdBQUcsZ0JBQWdCLENBQUMsc0JBQXNCLENBQUM7QUFDakUsSUFBSSxrQkFBa0IsR0FBRyxnQkFBZ0IsQ0FBQyxhQUFhLENBQUM7QUFDeEQsSUFBSSxrQkFBa0IsR0FBRyxnQkFBZ0IsQ0FBQyxxQkFBcUIsQ0FBQztBQUNoRSxJQUFJLGtCQUFrQixHQUFHLGdCQUFnQixDQUFDLHlCQUF5QixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXNDcEUsSUFBSSxlQUFlLEdBQUcsZUFBZSxDQUFDOztBQUV0QyxTQUFTLGVBQWUsR0FBRztJQUN2QixNQUFNLElBQUksS0FBSyxDQUFDLDJEQUEyRCxDQUFDLENBQUM7Q0FDaEY7Ozs7O0FBS0QsSUFBSSxzQkFBc0IsR0FBRyxnQkFBZ0IsQ0FBQyxzQkFBc0I7SUFDaEUsYUFBYSxHQUFHLGdCQUFnQixDQUFDLGFBQWEsQ0FBQzs7QUFFbkQsZUFBZSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7O0FBRTdCLElBQUksOEJBQThCLEdBQUcsSUFBSSxTQUFTLEVBQUUsQ0FBQzs7QUFFckQsSUFBSSwwQkFBMEIsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDOztBQUU1QyxlQUFlLENBQUMsc0JBQXNCLEdBQUcsV0FBVzs7Q0FFbkQsQ0FBQzs7QUFFRixlQUFlLENBQUMsU0FBUyxDQUFDLDhCQUE4QixHQUFHLFVBQVUsR0FBRyxFQUFFO0lBQ3RFLElBQUksK0JBQStCLEdBQUcsOEJBQThCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLG1CQUFtQixDQUFDO0lBQ3BHLElBQUksQ0FBQywrQkFBK0IsRUFBRTtRQUNsQywrQkFBK0IsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3RELDhCQUE4QixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsK0JBQStCLENBQUMsQ0FBQztLQUM1RTtJQUNELEtBQUssQ0FBQyxtQkFBbUIsR0FBRywrQkFBK0IsQ0FBQyxHQUFHLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtRQUMxRSxJQUFJLFlBQVksR0FBRywwQkFBMEIsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkQsR0FBRyxDQUFDLFlBQVksRUFBRTtZQUNkLFlBQVksR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDM0IsWUFBWSxHQUFHLFlBQVksSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLEdBQUcsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyRiwwQkFBMEIsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO1NBQ3BEO1FBQ0QsT0FBTywrQkFBK0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLHNCQUFzQixDQUFDLFlBQVksQ0FBQyxDQUFDO0tBQzFGO1NBQ0ksT0FBTyxtQkFBbUIsQ0FBQztDQUNuQyxDQUFDOztBQUVGLGVBQWUsQ0FBQyxTQUFTLENBQUMsOEJBQThCLEdBQUcsVUFBVSxHQUFHLEVBQUU7SUFDdEUsSUFBSSwrQkFBK0IsR0FBRyw4QkFBOEIsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDL0UsSUFBSSxDQUFDLCtCQUErQixFQUFFO1FBQ2xDLE9BQU8sS0FBSyxDQUFDO0tBQ2hCO0lBQ0QsSUFBSSxDQUFDLEdBQUcsRUFBRTtRQUNOLE9BQU8sSUFBSSxDQUFDO0tBQ2Y7SUFDRCxJQUFJLCtCQUErQixDQUFDLEdBQUcsQ0FBQyxLQUFLLEtBQUssQ0FBQyxFQUFFO1FBQ2pELE9BQU8sS0FBSyxDQUFDO0tBQ2hCO0lBQ0QsT0FBTyxJQUFJLENBQUM7Q0FDZixDQUFDOztBQUVGLGVBQWUsQ0FBQyxTQUFTLENBQUMsNEJBQTRCLEdBQUcsVUFBVSxHQUFHLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBRTtJQUM1RixJQUFJLElBQUksQ0FBQyxjQUFjLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFO1FBQzNDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQzs7S0FFekI7SUFDRCxJQUFJLFVBQVUsR0FBRyxlQUFlLENBQUMsOEJBQThCLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQztRQUN0RSxTQUFTLEdBQUcsWUFBWSxHQUFHLFVBQVUsQ0FBQyxtQkFBbUIsR0FBRyxVQUFVLENBQUMsZUFBZSxDQUFDOztJQUUzRixlQUFlLENBQUMsc0JBQXNCLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDOztJQUVsRCxHQUFHLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRTtRQUNwQixTQUFTLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztLQUNqQztTQUNJLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsRUFBRTtRQUN4QyxTQUFTLENBQUMsUUFBUSxHQUFHLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztLQUN0RDtTQUNJO1FBQ0QsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7S0FDckM7O0lBRUQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ2hCLE9BQU8sU0FBUywrQkFBK0IsR0FBRztRQUM5QyxlQUFlLENBQUMsK0JBQStCLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDbkYsSUFBSSxHQUFHLElBQUksQ0FBQztLQUNmLENBQUM7Q0FDTCxDQUFDOztBQUVGLGVBQWUsQ0FBQyxTQUFTLENBQUMsa0NBQWtDLEdBQUcsVUFBVSxHQUFHLEVBQUUsUUFBUSxFQUFFO0lBQ3BGLE9BQU8sZUFBZSxDQUFDLDRCQUE0QixDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0NBQ2xGLENBQUM7O0FBRUYsZUFBZSxDQUFDLFNBQVMsQ0FBQywrQkFBK0IsR0FBRyxTQUFTLCtCQUErQixDQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFO0lBQzlILElBQUksVUFBVSxHQUFHLGVBQWUsQ0FBQyw4QkFBOEIsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7O0lBRTNFLElBQUksU0FBUyxDQUFDO0lBQ2QsSUFBSSxZQUFZLEVBQUU7UUFDZCxTQUFTLEdBQUcsVUFBVSxDQUFDLG9CQUFvQixDQUFDO0tBQy9DLE1BQU07UUFDSCxTQUFTLEdBQUcsVUFBVSxDQUFDLGdCQUFnQixDQUFDO0tBQzNDOztJQUVELEdBQUcsU0FBUyxFQUFFO1FBQ1YsR0FBRyxTQUFTLENBQUMsUUFBUSxFQUFFO1lBQ25CLEdBQUcsU0FBUyxDQUFDLFFBQVEsS0FBSyxRQUFRLEVBQUU7Z0JBQ2hDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO2FBQzdCO2lCQUNJOztnQkFFRCxJQUFJLEtBQUssR0FBRyxTQUFTLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDckQsSUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQUU7b0JBQ2QsTUFBTSxJQUFJLEtBQUssQ0FBQyxzRUFBc0UsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7aUJBQ2pIO2dCQUNELEdBQUcsVUFBVSxDQUFDLFFBQVEsRUFBRTtvQkFDcEIsU0FBUyxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztvQkFDOUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQywrQkFBK0IsQ0FBQyxhQUFhLENBQUM7aUJBQzNFO3FCQUNJO29CQUNELFNBQVMsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUN2QzthQUNKO1NBQ0o7S0FDSjtDQUNKLENBQUM7QUFDRixlQUFlLENBQUMsU0FBUyxDQUFDLCtCQUErQixDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7O0FBRXhGLGVBQWUsQ0FBQyxTQUFTLENBQUMscUNBQXFDLEdBQUcsVUFBVSxHQUFHLEVBQUUsUUFBUSxFQUFFO0lBQ3ZGLE9BQU8sZUFBZSxDQUFDLCtCQUErQixDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0NBQ3JGLENBQUM7O0FBRUYsZUFBZSxDQUFDLFNBQVMsQ0FBQyx5QkFBeUIsR0FBRyxTQUFTLHlCQUF5QixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFO0lBQy9HLElBQUksVUFBVSxHQUFHLGVBQWUsQ0FBQyw4QkFBOEIsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDO1FBQ3RFLFNBQVMsQ0FBQzs7SUFFZCxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRTtRQUN0QixVQUFVLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUMzQixTQUFTLEdBQUcsWUFBWSxHQUFHLFVBQVUsQ0FBQyxvQkFBb0IsRUFBRSxVQUFVLENBQUMsZ0JBQWdCLENBQUM7UUFDeEYsSUFBSTtZQUNBLHlCQUF5QixDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztTQUN2RSxTQUFTO1lBQ04sVUFBVSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7U0FDL0I7S0FDSjtDQUNKLENBQUM7QUFDRixlQUFlLENBQUMsU0FBUyxDQUFDLHlCQUF5QixDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7O0FBRWhGLFNBQVMsWUFBWSxDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRTtJQUNqRCxHQUFHLFNBQVMsSUFBSSxTQUFTLENBQUMsUUFBUSxFQUFFOztRQUVoQyxJQUFJLE9BQU87WUFDUCxRQUFRO1lBQ1IsQ0FBQztZQUNELE1BQU07WUFDTixLQUFLO1lBQ0wseUJBQXlCLEdBQUcsU0FBUyxDQUFDLHlCQUF5QjtZQUMvRCx3QkFBd0IsR0FBRyxTQUFTLENBQUMsd0JBQXdCO1lBQzdELEtBQUssR0FBRyxhQUFhLENBQUM7O1FBRTFCLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEVBQUU7O1lBRWxDLE9BQU8sR0FBRyxTQUFTLENBQUMsa0NBQWtDLEVBQUUsQ0FBQzs7WUFFekQsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLEVBQUU7Z0JBQzNDLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxNQUFNLEtBQUssRUFBRTs7b0JBRWhDLFFBQVE7d0JBQ0osS0FBSyxDQUFDLHlCQUF5QixDQUFDO3dCQUNoQyxLQUFLLENBQUMsd0JBQXdCLENBQUM7d0JBQy9CLEtBQUs7cUJBQ1IsQ0FBQztvQkFDRixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRTt3QkFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQyx3QkFBd0IsR0FBRyxTQUFTLENBQUMsbUJBQW1CLEdBQUcsTUFBTSxHQUFHLFNBQVMsQ0FBQyxrQkFBa0IsR0FBRyxjQUFjLEdBQUcsUUFBUSxDQUFDLENBQUM7cUJBQ2pKO29CQUNELFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7aUJBQzVDO2FBQ0o7U0FDSjthQUNJO1lBQ0QsS0FBSyxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUM7WUFDM0IsUUFBUTtnQkFDSixLQUFLLENBQUMseUJBQXlCLENBQUM7Z0JBQ2hDLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQztnQkFDL0IsS0FBSzthQUNSLENBQUM7WUFDRixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRTtnQkFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQyx3QkFBd0IsR0FBRyxTQUFTLENBQUMsbUJBQW1CLEdBQUcsTUFBTSxHQUFHLFNBQVMsQ0FBQyxrQkFBa0IsR0FBRyxjQUFjLEdBQUcsUUFBUSxDQUFDLENBQUM7YUFDako7WUFDRCxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1NBQzVDOztLQUVKO0NBQ0o7O0FBRUQsWUFBWSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7OztBQUczQyxlQUFlLENBQUMsU0FBUyxDQUFDLCtCQUErQixHQUFHLFVBQVUsR0FBRyxFQUFFLFFBQVEsRUFBRTtJQUNqRixPQUFPLGVBQWUsQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztDQUMvRSxDQUFDOztBQUVGLElBQUksb0NBQW9DLEdBQUcsSUFBSSxTQUFTLEVBQUU7SUFDdEQsZ0JBQWdCLEdBQUcsSUFBSSxTQUFTLEVBQUU7SUFDbEMsZ0JBQWdCLEdBQUc7UUFDZixHQUFHLEVBQUUsS0FBSyxDQUFDO1FBQ1gsR0FBRyxFQUFFLEtBQUssQ0FBQztRQUNYLFlBQVksRUFBRSxJQUFJO1FBQ2xCLFVBQVUsRUFBRSxLQUFLO0tBQ3BCLENBQUM7O0FBRU4sZUFBZSxDQUFDLFNBQVMsQ0FBQyxzQkFBc0IsR0FBRyxVQUFVLEdBQUcsRUFBRTs7Ozs7OztJQU85RCxJQUFJLDZCQUE2QixHQUFHLG9DQUFvQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNuRixJQUFJLDZCQUE2QixJQUFJLDZCQUE2QixDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxLQUFLLENBQUMsRUFBRTs7O1FBR3BGLE9BQU87S0FDVjs7O0lBR0QsSUFBSSxDQUFDLDZCQUE2QixFQUFFO1FBQ2hDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNyQixPQUFPO1NBQ1Y7UUFDRCxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUM1QixNQUFNLElBQUksS0FBSyxDQUFDLHNCQUFzQixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEdBQUcsaUJBQWlCLEdBQUcsSUFBSSxHQUFHLG1DQUFtQyxDQUFDLENBQUM7U0FDbEk7UUFDRCw2QkFBNkIsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQzNDLG9DQUFvQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsNkJBQTZCLENBQUMsQ0FBQztLQUNoRjs7Ozs7Ozs7Ozs7O0lBWUQsSUFBSSxvQkFBb0IsQ0FBQztJQUN6QixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUM7SUFDcEIsR0FBRztRQUNDLG9CQUFvQixHQUFHLE1BQU0sQ0FBQyx3QkFBd0IsQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDdEUsSUFBSSxvQkFBb0IsRUFBRTtZQUN0QixNQUFNO1NBQ1Q7UUFDRCxRQUFRLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQztLQUM5QyxRQUFRLFFBQVEsRUFBRTs7SUFFbkIsSUFBSSxDQUFDLG9CQUFvQixFQUFFO1FBQ3ZCLG9CQUFvQixHQUFHO1lBQ25CLEtBQUssRUFBRSxLQUFLLENBQUM7WUFDYixVQUFVLEVBQUUsSUFBSTtZQUNoQixRQUFRLEVBQUUsSUFBSTtZQUNkLFlBQVksRUFBRSxJQUFJO1NBQ3JCLENBQUM7S0FDTCxNQUFNO1FBQ0gsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFlBQVksRUFBRTtZQUNwQyxPQUFPO1NBQ1Y7UUFDRCxJQUFJLENBQUMsb0JBQW9CLENBQUMsUUFBUSxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxFQUFFO1lBQzdELE9BQU87U0FDVjtLQUNKOzs7O0lBSUQsNkJBQTZCLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDOzs7Ozs7Ozs7OztJQVc1RCxJQUFJLE9BQU8sSUFBSSxvQkFBb0IsRUFBRTtRQUNqQyxnQkFBZ0IsQ0FBQyxHQUFHLEdBQUcsU0FBUyxpQkFBaUIsR0FBRztZQUNoRCxPQUFPLGlCQUFpQixDQUFDLG9CQUFvQixDQUFDLEtBQUssQ0FBQztTQUN2RCxDQUFDO1FBQ0YsZ0JBQWdCLENBQUMsR0FBRyxHQUFHLFNBQVMsaUJBQWlCLENBQUMsS0FBSyxFQUFFO1lBQ3JELElBQUksVUFBVTtnQkFDVixRQUFRO2dCQUNSLG9CQUFvQixHQUFHLGlCQUFpQixDQUFDLG9CQUFvQixDQUFDOztZQUVsRSxJQUFJLEtBQUssS0FBSyxvQkFBb0IsQ0FBQyxLQUFLLEVBQUU7Z0JBQ3RDLElBQUksRUFBRSxRQUFRLEdBQUcsQ0FBQyxVQUFVLEdBQUcsaUJBQWlCLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxFQUFFO29CQUNwRSxVQUFVLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztvQkFDM0IsSUFBSTt3QkFDQSxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLG9CQUFvQixFQUFFLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxvQkFBb0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7cUJBQzVILFNBQVMsRUFBRTtpQkFDZjtnQkFDRCxvQkFBb0IsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO2dCQUNuQyxJQUFJLENBQUMsUUFBUSxFQUFFO29CQUNYLElBQUk7d0JBQ0EsaUJBQWlCLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsRUFBRSxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO3FCQUNuRyxTQUFTO3dCQUNOLFVBQVUsQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO3FCQUMvQjtpQkFDSjthQUNKO1NBQ0osQ0FBQztRQUNGLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDO1FBQ2pELGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQy9CLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsR0FBRyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsb0JBQW9CLEdBQUcsb0JBQW9CLENBQUM7UUFDN0csZ0JBQWdCLENBQUMsR0FBRyxDQUFDLFVBQVUsR0FBRyw4QkFBOEIsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7O1FBRWhGLGdCQUFnQixDQUFDLFVBQVUsR0FBRyxvQkFBb0IsQ0FBQyxVQUFVLENBQUM7O1FBRTlELGdCQUFnQixDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7O0tBRXhDLE1BQU07WUFDQyxnQkFBZ0IsQ0FBQyxHQUFHLEdBQUcsb0JBQW9CLENBQUMsR0FBRyxDQUFDO1lBQ2hELGdCQUFnQixDQUFDLEdBQUcsR0FBRyxTQUFTLGlCQUFpQixHQUFHO2dCQUNoRCxJQUFJLFdBQVcsR0FBRyxpQkFBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO29CQUMzRCxVQUFVO29CQUNWLFFBQVE7b0JBQ1IsUUFBUSxDQUFDOzs7b0JBR1QsR0FBRyxTQUFTLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTt3QkFDdkIsaUJBQWlCLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztxQkFDOUQ7eUJBQ0ksR0FBRyxTQUFTLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTt3QkFDNUIsaUJBQWlCLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQzNFO3lCQUNJO3dCQUNELGlCQUFpQixDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7cUJBQzdEOztnQkFFTCxJQUFJLENBQUMsUUFBUSxHQUFHLGlCQUFpQixDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxXQUFXLEVBQUU7b0JBQzVFLFVBQVUsR0FBRyxpQkFBaUIsQ0FBQyxVQUFVLENBQUM7b0JBQzFDLElBQUksRUFBRSxRQUFRLEdBQUcsVUFBVSxDQUFDLFFBQVEsQ0FBQyxFQUFFO3dCQUNuQyxVQUFVLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzt3QkFDM0IsSUFBSTs0QkFDQSxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLG9CQUFvQixFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7eUJBQzNGLFNBQVMsRUFBRTtxQkFDZjtvQkFDRCxJQUFJLENBQUMsUUFBUSxFQUFFO3dCQUNYLElBQUk7NEJBQ0EsaUJBQWlCLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO3lCQUNwRixTQUFTOzRCQUNOLFVBQVUsQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO3lCQUMvQjtxQkFDSjtpQkFDSjthQUNKLENBQUM7WUFDRixnQkFBZ0IsQ0FBQyxVQUFVLEdBQUcsb0JBQW9CLENBQUMsVUFBVSxDQUFDO1lBQzlELGdCQUFnQixDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7UUFDekMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7UUFDakQsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLGdCQUFnQixHQUFHLG9CQUFvQixDQUFDLEdBQUcsQ0FBQztRQUNqRSxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEdBQUcsb0JBQW9CLENBQUMsR0FBRyxDQUFDO1FBQ2pFLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsOEJBQThCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ25GOztJQUVELE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0NBQ3RELENBQUM7Ozs7QUFJRixlQUFlLENBQUMsOEJBQThCLEdBQUcsVUFBVSxNQUFNLEVBQUUsR0FBRyxFQUFFO0lBQ3BFLElBQUksTUFBTSxDQUFDLDhCQUE4QixFQUFFO1FBQ3ZDLE9BQU8sTUFBTSxDQUFDLDhCQUE4QixDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ3JELE1BQU07UUFDSCxPQUFPLGVBQWUsQ0FBQyxTQUFTLENBQUMsOEJBQThCLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztLQUNyRjtDQUNKLENBQUM7O0FBRUYsZUFBZSxDQUFDLDhCQUE4QixHQUFHLFVBQVUsTUFBTSxFQUFFLEdBQUcsRUFBRTtJQUNwRSxJQUFJLE1BQU0sQ0FBQyw4QkFBOEIsRUFBRTtRQUN2QyxPQUFPLE1BQU0sQ0FBQyw4QkFBOEIsQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUNyRCxNQUFNO1FBQ0gsT0FBTyxlQUFlLENBQUMsU0FBUyxDQUFDLDhCQUE4QixDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7S0FDckY7Q0FDSixDQUFDOztBQUVGLGVBQWUsQ0FBQyw0QkFBNEIsR0FBRyxVQUFVLE1BQU0sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLFlBQVksRUFBRTtJQUMxRixJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFDekIsT0FBTyxNQUFNLENBQUMsNEJBQTRCO2NBQ3BDLE1BQU0sQ0FBQyw0QkFBNEIsQ0FBQyxHQUFHLEVBQUUsUUFBUSxFQUFFLFlBQVksQ0FBQztjQUNoRSxJQUFJLENBQUMsU0FBUyxDQUFDLDRCQUE0QixDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxZQUFZLENBQUMsQ0FBQztLQUMvRjtDQUNKLENBQUM7O0FBRUYsZUFBZSxDQUFDLCtCQUErQixHQUFHLFVBQVUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFO0lBQzdGLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQywrQkFBK0IsRUFBRTtRQUM3RSxPQUFPLE1BQU0sQ0FBQywrQkFBK0IsQ0FBQyxHQUFHLEVBQUUsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDO0tBQzlFLE1BQU07UUFDSCxPQUFPLGVBQWUsQ0FBQyxTQUFTLENBQUMsK0JBQStCLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDO0tBQzlHO0NBQ0osQ0FBQzs7QUFFRixlQUFlLENBQUMseUJBQXlCLEdBQUcsVUFBVSxNQUFNLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUU7SUFDcEYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLHlCQUF5QixFQUFFO1FBQ3ZFLE9BQU8sTUFBTSxDQUFDLHlCQUF5QixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsWUFBWSxDQUFDLENBQUM7S0FDckUsTUFBTTtRQUNILE9BQU8sZUFBZSxDQUFDLFNBQVMsQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsWUFBWSxDQUFDLENBQUM7S0FDckc7Q0FDSixDQUFDOztBQUVGLGVBQWUsQ0FBQyxrQ0FBa0MsR0FBRyxVQUFVLE1BQU0sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFO0lBQ2xGLE9BQU8sZUFBZSxDQUFDLDRCQUE0QixDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0NBQ3BGLENBQUM7O0FBRUYsZUFBZSxDQUFDLHFDQUFxQyxHQUFHLFVBQVUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUU7SUFDckYsT0FBTyxlQUFlLENBQUMsK0JBQStCLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7Q0FDdkYsQ0FBQzs7QUFFRixlQUFlLENBQUMsK0JBQStCLEdBQUcsVUFBVSxNQUFNLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRTtJQUM1RSxPQUFPLGVBQWUsQ0FBQyx5QkFBeUIsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztDQUM5RSxDQUFDOztBQUVGLGVBQWUsQ0FBQyxzQkFBc0IsR0FBRyxVQUFVLE1BQU0sRUFBRSxHQUFHLEVBQUU7SUFDNUQsSUFBSSxNQUFNLENBQUMsc0JBQXNCLEVBQUU7UUFDL0IsT0FBTyxNQUFNLENBQUMsc0JBQXNCLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDN0MsTUFBTTtRQUNILE9BQU8sZUFBZSxDQUFDLFNBQVMsQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0tBQzdFO0NBQ0osQ0FBQzs7QUFFRixJQUFJLHdCQUF3QixHQUFHLGdCQUFnQixDQUFDLHNCQUFzQjtJQUNsRSxxQkFBcUIsR0FBRyxnQkFBZ0IsQ0FBQyxxQkFBcUI7SUFDOUQsZUFBZSxHQUFHLGdCQUFnQixDQUFDLGFBQWEsQ0FBQzs7QUFFckQsSUFBSSxVQUFVLEdBQUcsVUFBVSxDQUFDO0FBQzVCLFNBQVMsVUFBVSxHQUFHO0lBQ2xCLE1BQU0sSUFBSSxLQUFLLENBQUMseUNBQXlDLENBQUMsQ0FBQztDQUM5RDs7Ozs7Ozs7Ozs7Ozs7QUFjRCxJQUFJLG9CQUFvQixHQUFHLElBQUksU0FBUyxFQUFFLENBQUM7O0FBRTNDLFNBQVMsbUJBQW1CLENBQUMsSUFBSSxFQUFFO0lBQy9CLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ2pCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO0lBQ3RCLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxJQUFJLENBQUM7SUFDakMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztDQUNoQztBQUNELG1CQUFtQixDQUFDLFNBQVMsR0FBRyxJQUFJLHdCQUF3QixFQUFFLENBQUM7QUFDL0QsbUJBQW1CLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBRyxtQkFBbUIsQ0FBQzs7QUFFaEUsbUJBQW1CLENBQUMsU0FBUyxDQUFDLGdDQUFnQyxHQUFHLHdCQUF3QixDQUFDO0FBQzFGLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxvQ0FBb0MsR0FBRyw0QkFBNEIsQ0FBQzs7QUFFbEcsSUFBSSwyQ0FBMkMsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDOztBQUU3RCxTQUFTLHdCQUF3QixDQUFDLElBQUksRUFBRTtJQUNwQyxJQUFJLHlCQUF5QixHQUFHLDJDQUEyQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN0RixHQUFHLENBQUMseUJBQXlCLEVBQUU7UUFDM0IseUJBQXlCLEdBQUcsUUFBUSxDQUFDO1FBQ3JDLHlCQUF5QixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzVELHlCQUF5QixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0MseUJBQXlCLElBQUksV0FBVyxDQUFDO1FBQ3pDLDJDQUEyQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUMsQ0FBQztLQUNuRjtJQUNELElBQUksQ0FBQyx5QkFBeUIsR0FBRyx5QkFBeUIsQ0FBQztDQUM5RCxPQUFPLElBQUksQ0FBQztDQUNaO0FBQ0Qsd0JBQXdCLENBQUMsU0FBUyxHQUFHLElBQUkscUJBQXFCLEVBQUUsQ0FBQztBQUNqRSx3QkFBd0IsQ0FBQyxTQUFTLENBQUMsV0FBVyxHQUFHLHdCQUF3QixDQUFDO0FBQzFFLHdCQUF3QixDQUFDLFNBQVMsQ0FBQyx3QkFBd0IsR0FBRyxpQkFBaUIsQ0FBQzs7QUFFaEYsSUFBSSwrQ0FBK0MsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDOztBQUVqRSxTQUFTLDRCQUE0QixDQUFDLElBQUksRUFBRTtJQUN4QyxJQUFJLHlCQUF5QixHQUFHLCtDQUErQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMxRixHQUFHLENBQUMseUJBQXlCLEVBQUU7UUFDM0IseUJBQXlCLEdBQUcsUUFBUSxDQUFDO1FBQ3JDLHlCQUF5QixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzVELHlCQUF5QixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0MseUJBQXlCLElBQUksZUFBZSxDQUFDO1FBQzdDLCtDQUErQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUMsQ0FBQztLQUN2RjtJQUNELElBQUksQ0FBQyx5QkFBeUIsR0FBRyx5QkFBeUIsQ0FBQztJQUMzRCxPQUFPLElBQUksQ0FBQztDQUNmO0FBQ0QsNEJBQTRCLENBQUMsU0FBUyxHQUFHLElBQUkscUJBQXFCLEVBQUUsQ0FBQztBQUNyRSw0QkFBNEIsQ0FBQyxTQUFTLENBQUMsV0FBVyxHQUFHLDRCQUE0QixDQUFDO0FBQ2xGLDRCQUE0QixDQUFDLFNBQVMsQ0FBQyx3QkFBd0IsR0FBRyxxQkFBcUIsQ0FBQzs7O0FBR3hGLFVBQVUsQ0FBQyxTQUFTLENBQUMsMEJBQTBCLEdBQUcsWUFBWTtJQUMxRCxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ2pDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0tBQzlDO0lBQ0QsT0FBTyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDekMsQ0FBQzs7QUFFRixVQUFVLENBQUMsU0FBUyxDQUFDLHNCQUFzQixHQUFHLFVBQVUsS0FBSyxFQUFFO0lBQzNELElBQUksc0JBQXNCLEdBQUcsSUFBSSxDQUFDLDBCQUEwQixFQUFFLENBQUM7SUFDL0QsS0FBSyxHQUFHLEtBQUssSUFBSSxFQUFFLENBQUM7SUFDcEIsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNwQyxzQkFBc0IsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLElBQUksbUJBQW1CLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztLQUNyRTtJQUNELE9BQU8sc0JBQXNCLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0NBQzVDLENBQUM7O0FBRUYsSUFBSSwyQkFBMkIsR0FBRyxJQUFJLFNBQVMsRUFBRTtJQUM3QywwQkFBMEIsR0FBRyxXQUFXO1FBQ3BDLE9BQU8sMkJBQTJCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2hEO0lBQ0QsMEJBQTBCLEdBQUcsU0FBUyxLQUFLLEVBQUU7UUFDekMsT0FBTywyQkFBMkIsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQ3REO0lBQ0QsMkJBQTJCLEdBQUcsc0JBQXNCO0lBQ3BELG1DQUFtQyxHQUFHO1FBQ2xDLEdBQUcsRUFBRSwwQkFBMEI7UUFDL0IsR0FBRyxFQUFFLDBCQUEwQjtRQUMvQixZQUFZLEVBQUUsSUFBSTtRQUNsQixVQUFVLEVBQUUsS0FBSztLQUNwQixDQUFDOztBQUVOLFVBQVUsQ0FBQyxTQUFTLENBQUMsb0JBQW9CLEdBQUcsU0FBUyxvQkFBb0IsQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRTs7O0lBR3JHLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUU7O1FBRTNDLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztLQUN6QjtJQUNELElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNwRCxJQUFJLFNBQVMsQ0FBQztJQUNkLElBQUksWUFBWSxFQUFFO1FBQ2QsU0FBUyxHQUFHLFVBQVUsQ0FBQyxtQkFBbUIsQ0FBQztLQUM5QyxNQUFNO1FBQ0gsU0FBUyxHQUFHLFVBQVUsQ0FBQyxlQUFlLENBQUM7S0FDMUM7Ozs7O0lBS0QsR0FBRyxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUU7UUFDcEIsU0FBUyxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7S0FDakM7U0FDSSxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEVBQUU7UUFDeEMsU0FBUyxDQUFDLFFBQVEsR0FBRyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7S0FDdEQ7U0FDSTtRQUNELFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQ3JDOztJQUVELEdBQUcsTUFBTSxDQUFDLHdCQUF3QixFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsRUFBRSwyQkFBMkIsQ0FBQyxLQUFLLEtBQUssQ0FBQyxFQUFFO1FBQ3RILE1BQU0sQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxHQUFHLDJCQUEyQixFQUFFLG1DQUFtQyxDQUFDLENBQUM7S0FDMUk7SUFDRCxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDOztJQUVqQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUM7SUFDaEIsT0FBTyxTQUFTLHVCQUF1QixHQUFHO1FBQ3RDLElBQUksQ0FBQyxJQUFJLEVBQUU7O1lBRVAsT0FBTztTQUNWO1FBQ0QsSUFBSSxDQUFDLHVCQUF1QixDQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDNUQsSUFBSSxHQUFHLElBQUksQ0FBQztLQUNmLENBQUM7Q0FDTCxDQUFDOztBQUVGLFVBQVUsQ0FBQyxTQUFTLENBQUMsdUJBQXVCLEdBQUcsVUFBVSxRQUFRLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRTtJQUNwRixJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsc0JBQXNCLENBQUMsS0FBSyxDQUFDLENBQUM7O0lBRXBELElBQUksU0FBUyxDQUFDO0lBQ2QsSUFBSSxZQUFZLEVBQUU7UUFDZCxTQUFTLEdBQUcsVUFBVSxDQUFDLG1CQUFtQixDQUFDO0tBQzlDLE1BQU07UUFDSCxTQUFTLEdBQUcsVUFBVSxDQUFDLGVBQWUsQ0FBQztLQUMxQzs7SUFFRCxHQUFHLFNBQVMsQ0FBQyxRQUFRLEVBQUU7UUFDbkIsR0FBRyxTQUFTLENBQUMsUUFBUSxLQUFLLFFBQVEsRUFBRTtZQUNoQyxTQUFTLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztTQUM3QjthQUNJO1lBQ0QsSUFBSSxLQUFLLEdBQUcsU0FBUyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDckQsSUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQUU7Z0JBQ2QsTUFBTSxJQUFJLEtBQUssQ0FBQywwREFBMEQsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7YUFDdkc7aUJBQ0k7Z0JBQ0QsR0FBRyxVQUFVLENBQUMsUUFBUSxFQUFFO29CQUNwQixTQUFTLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO29CQUM5QyxTQUFTLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLGVBQWUsQ0FBQztpQkFDN0M7cUJBQ0k7b0JBQ0QsU0FBUyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQ3ZDO2FBQ0o7U0FDSjtLQUNKOzs7Q0FHSixDQUFDOztBQUVGLFVBQVUsQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEdBQUcsVUFBVSxHQUFHLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRTtJQUN6RSxJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsMEJBQTBCLEVBQUU7UUFDL0MsS0FBSyxHQUFHLGVBQWUsQ0FBQzs7SUFFNUIsV0FBVyxDQUFDLE9BQU8sQ0FBQyxVQUFVLFVBQVUsRUFBRSxLQUFLLEVBQUU7O1FBRTdDLElBQUksVUFBVSxDQUFDLFFBQVEsRUFBRTtZQUNyQixPQUFPO1NBQ1Y7O1FBRUQsSUFBSSxTQUFTLEdBQUcsWUFBWSxHQUFHLFVBQVUsQ0FBQyxtQkFBbUIsR0FBRyxVQUFVLENBQUMsZUFBZSxDQUFDO1FBQzNGLEdBQUcsU0FBUyxJQUFJLFNBQVMsQ0FBQyxRQUFRLEVBQUU7O1lBRWhDLElBQUksU0FBUyxHQUFHLFNBQVMsQ0FBQyx5QkFBeUIsQ0FBQztZQUNwRCxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUNsQyxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFOztvQkFFMUIsSUFBSSxnQkFBZ0IsR0FBRyxTQUFTLENBQUMsa0NBQWtDLEVBQUU7d0JBQ2pFLENBQUMsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDO29CQUN4QixVQUFVLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzs7b0JBRTNCLElBQUk7d0JBQ0EsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sR0FBRyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsRUFBRTs7NEJBRXBELElBQUksQ0FBQyxRQUFRLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxFQUFFO2dDQUM1QyxJQUFJLFFBQVEsQ0FBQyxTQUFTLENBQUMsRUFBRTtvQ0FDckIsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7aUNBQ3pDLE1BQU0sSUFBSSxRQUFRLENBQUMsSUFBSSxFQUFFO29DQUN0QixRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO2lDQUM3QyxNQUFNO29DQUNILE1BQU0sSUFBSSxLQUFLLENBQUMsVUFBVSxHQUFHLFFBQVEsR0FBRyxpQkFBaUIsR0FBRyxTQUFTLEdBQUcsc0JBQXNCLENBQUMsQ0FBQztpQ0FDbkc7NkJBQ0o7eUJBQ0o7cUJBQ0osU0FBUzt3QkFDTixVQUFVLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztxQkFDL0I7aUJBQ0o7YUFDSjtpQkFDSTtnQkFDRCxVQUFVLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzs7O2dCQUczQixJQUFJO29CQUNBLFFBQVEsR0FBRyxTQUFTLENBQUMsUUFBUSxDQUFDO29CQUM5QixJQUFJLFFBQVEsQ0FBQyxTQUFTLENBQUMsRUFBRTt3QkFDckIsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7cUJBQ3pDLE1BQU0sSUFBSSxRQUFRLENBQUMsSUFBSSxFQUFFO3dCQUN0QixRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO3FCQUM3QyxNQUFNO3dCQUNILE1BQU0sSUFBSSxLQUFLLENBQUMsVUFBVSxHQUFHLFFBQVEsR0FBRyxpQkFBaUIsR0FBRyxTQUFTLEdBQUcsc0JBQXNCLENBQUMsQ0FBQztxQkFDbkc7aUJBQ0osU0FBUztvQkFDTixVQUFVLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztpQkFDL0I7O2FBRUo7U0FDSjs7S0FFSixFQUFFLElBQUksQ0FBQyxDQUFDO0NBQ1osQ0FBQzs7QUFFRixVQUFVLENBQUMsU0FBUyxDQUFDLDBCQUEwQixHQUFHLFVBQVUsUUFBUSxFQUFFLEtBQUssRUFBRTtJQUN6RSxPQUFPLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0NBQzNELENBQUM7O0FBRUYsVUFBVSxDQUFDLFNBQVMsQ0FBQyw2QkFBNkIsR0FBRyxVQUFVLFFBQVEsRUFBRSxLQUFLLEVBQUU7SUFDNUUsT0FBTyxJQUFJLENBQUMsdUJBQXVCLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztDQUM5RCxDQUFDOztBQUVGLFVBQVUsQ0FBQyxTQUFTLENBQUMsdUJBQXVCLEdBQUcsVUFBVSxHQUFHLEVBQUUsS0FBSyxFQUFFO0lBQ2pFLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7Q0FDbkQsQ0FBQzs7QUFFRixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUM7O0FBRWYsR0FBRyxDQUFDQSxnQkFBYyxDQUFDLEdBQUcsS0FBSyxLQUFLLENBQUMsTUFBTSxPQUFPQSxnQkFBYyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxLQUFLLFVBQVUsQ0FBQyxFQUFFO0lBQy9GLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDMUQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztDQUN4RDtLQUNJO0lBQ0QsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLGVBQWUsQ0FBQyxTQUFTLEVBQUUsS0FBSyxrQkFBa0IsSUFBSSxpQkFBaUIsS0FBSyxjQUFjLElBQUksQ0FBQyxDQUFDO0lBQ2xJLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxVQUFVLENBQUMsU0FBUyxFQUFFLEtBQUssa0JBQWtCLElBQUksaUJBQWlCLEtBQUssY0FBYyxJQUFJLENBQUMsQ0FBQztDQUNoSTs7QUFFRCxNQUFNLFNBQVMsQ0FBQzs7SUFFWixXQUFXLEdBQUc7UUFDVixJQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQztRQUNkLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0tBQ25COztJQUVELEtBQUssR0FBRztRQUNKLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0tBQ25COztJQUVELElBQUksQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFO1FBQ1osSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDOztRQUV6QixPQUFPLEdBQUcsR0FBRyxDQUFDLEVBQUU7WUFDWixNQUFNLE1BQU0sR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzlCLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDeEMsSUFBSSxLQUFLLElBQUksV0FBVyxFQUFFLE1BQU07WUFDaEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2pDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsV0FBVyxDQUFDO1lBQy9CLEdBQUcsR0FBRyxNQUFNLENBQUM7U0FDaEI7O1FBRUQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDbkIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7S0FDNUI7O0lBRUQsR0FBRyxHQUFHO1FBQ0YsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxPQUFPLFNBQVMsQ0FBQzs7UUFFeEMsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7O1FBRWQsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUNqQixNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQy9DLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDeEQsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUM7WUFDcEMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDOztZQUVaLE9BQU8sR0FBRyxHQUFHLFVBQVUsRUFBRTtnQkFDckIsSUFBSSxJQUFJLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDMUIsTUFBTSxLQUFLLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQztnQkFDdkIsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDL0IsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDbEMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQzs7Z0JBRXRDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLElBQUksVUFBVSxHQUFHLFNBQVMsRUFBRTtvQkFDL0MsSUFBSSxHQUFHLEtBQUssQ0FBQztvQkFDYixTQUFTLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDNUIsU0FBUyxHQUFHLFVBQVUsQ0FBQztpQkFDMUI7Z0JBQ0QsSUFBSSxTQUFTLElBQUksS0FBSyxFQUFFLE1BQU07O2dCQUU5QixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQztnQkFDMUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxTQUFTLENBQUM7Z0JBQzdCLEdBQUcsR0FBRyxJQUFJLENBQUM7YUFDZDs7WUFFRCxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNuQixJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztTQUM1Qjs7UUFFRCxPQUFPLEdBQUcsQ0FBQztLQUNkOztJQUVELElBQUksR0FBRztRQUNILE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUN0Qjs7SUFFRCxTQUFTLEdBQUc7UUFDUixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDekI7Q0FDSjs7QUFFRCxNQUFNLFdBQVcsR0FBRztJQUNoQixTQUFTLEVBQUUsVUFBVSxFQUFFLGlCQUFpQixFQUFFLFVBQVUsRUFBRSxXQUFXO0lBQ2pFLFVBQVUsRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLFlBQVk7Q0FDdEQsQ0FBQzs7QUFFRixNQUFNLE9BQU8sR0FBRyxDQUFDLENBQUM7O0FBRWxCLE1BQU0sUUFBUSxDQUFDOztJQUVYLE9BQU8sSUFBSSxDQUFDLElBQUksRUFBRTtRQUNkLElBQUksRUFBRSxJQUFJLFlBQVksV0FBVyxDQUFDLEVBQUU7WUFDaEMsTUFBTSxJQUFJLEtBQUssQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDO1NBQy9EO1FBQ0QsTUFBTSxDQUFDLEtBQUssRUFBRSxjQUFjLENBQUMsR0FBRyxJQUFJLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzNELElBQUksS0FBSyxLQUFLLElBQUksRUFBRTtZQUNoQixNQUFNLElBQUksS0FBSyxDQUFDLGtEQUFrRCxDQUFDLENBQUM7U0FDdkU7UUFDRCxJQUFJLGNBQWMsSUFBSSxDQUFDLEtBQUssT0FBTyxFQUFFO1lBQ2pDLE1BQU0sSUFBSSxLQUFLLENBQUMsQ0FBQyxLQUFLLEVBQUUsY0FBYyxJQUFJLENBQUMsQ0FBQyxxQkFBcUIsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNsRjtRQUNELE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQy9DLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDOztRQUUvQyxPQUFPLElBQUksUUFBUSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsV0FBVyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztLQUNyRjs7SUFFRCxXQUFXLENBQUMsUUFBUSxFQUFFLFFBQVEsR0FBRyxFQUFFLEVBQUUsU0FBUyxHQUFHLFlBQVksRUFBRSxJQUFJLEVBQUU7UUFDakUsSUFBSSxRQUFRLEtBQUssU0FBUyxFQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsc0NBQXNDLENBQUMsQ0FBQztRQUNwRixJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxRQUFRLElBQUksQ0FBQyxFQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsQ0FBQyw0QkFBNEIsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7UUFFbEcsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLFFBQVEsQ0FBQztRQUMxQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQzs7OztRQUl4RCxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUM7UUFDakIsSUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsR0FBRztZQUNDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDakMsUUFBUSxJQUFJLENBQUMsQ0FBQztZQUNkLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUN4QyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUU7O1FBRWxCLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxJQUFJLFlBQVksQ0FBQztRQUMzQyxJQUFJLENBQUMsY0FBYyxHQUFHLFFBQVEsR0FBRyxLQUFLLEdBQUcsV0FBVyxHQUFHLFdBQVcsQ0FBQzs7UUFFbkUsTUFBTSxjQUFjLEdBQUcsV0FBVyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDM0QsTUFBTSxhQUFhLEdBQUcsUUFBUSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDOztRQUV0RSxJQUFJLGNBQWMsR0FBRyxDQUFDLEVBQUU7WUFDcEIsTUFBTSxJQUFJLEtBQUssQ0FBQyxDQUFDLDhCQUE4QixFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2xFOztRQUVELElBQUksSUFBSSxLQUFLLElBQUksWUFBWSxXQUFXLENBQUMsRUFBRTtZQUN2QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztZQUNqQixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDN0QsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsYUFBYSxFQUFFLFFBQVEsQ0FBQyxDQUFDOztZQUVoRixJQUFJLENBQUMsSUFBSSxHQUFHLFFBQVEsR0FBRyxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDdkMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDdkMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDdkMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUM7O1NBRTFDLE1BQU07WUFDSCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksV0FBVyxDQUFDLENBQUMsR0FBRyxhQUFhLEdBQUcsUUFBUSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUNsRyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDN0QsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsYUFBYSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ2hGLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1lBQ2QsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUM7WUFDckIsSUFBSSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUM7WUFDckIsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLFFBQVEsQ0FBQztZQUN0QixJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsUUFBUSxDQUFDOztZQUV0QixJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxPQUFPLElBQUksQ0FBQyxJQUFJLGNBQWMsQ0FBQyxDQUFDLENBQUM7WUFDN0UsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDO1lBQy9DLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQztTQUNsRDs7O1FBR0QsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLFNBQVMsRUFBRSxDQUFDO0tBQ2pDOztJQUVELEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7UUFDeEIsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7UUFDN0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxLQUFLLENBQUM7UUFDN0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDaEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDaEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUM7UUFDaEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUM7O1FBRWhDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDdkMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUN2QyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ3ZDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7O1FBRXZDLE9BQU8sS0FBSyxDQUFDO0tBQ2hCOztJQUVELE1BQU0sR0FBRztRQUNMLElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNsQyxNQUFNLElBQUksS0FBSyxDQUFDLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLHFCQUFxQixFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNwRjs7UUFFRCxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTs7WUFFaEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBQ3JDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztZQUNyQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7WUFDckMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBQ3JDLE9BQU87U0FDVjs7UUFFRCxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDcEMsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3JDLE1BQU0sYUFBYSxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNyRCxNQUFNLFVBQVUsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDOzs7UUFHakMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDcEMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNoQixNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7WUFDaEMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1lBQ2hDLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztZQUNoQyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7WUFDaEMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7WUFDM0UsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUM7WUFDNUUsYUFBYSxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDcEM7OztRQUdELElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7OztRQUdyRixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDNUQsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQzs7O1lBR2pDLE9BQU8sR0FBRyxHQUFHLEdBQUcsRUFBRTtnQkFDZCxNQUFNLFNBQVMsR0FBRyxHQUFHLENBQUM7OztnQkFHdEIsSUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDO2dCQUN4QixJQUFJLFFBQVEsR0FBRyxRQUFRLENBQUM7Z0JBQ3hCLElBQUksUUFBUSxHQUFHLENBQUMsUUFBUSxDQUFDO2dCQUN6QixJQUFJLFFBQVEsR0FBRyxDQUFDLFFBQVEsQ0FBQztnQkFDekIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLElBQUksR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDakQsUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUNsRCxRQUFRLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0JBQ2xELFFBQVEsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztvQkFDbEQsUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2lCQUNyRDs7O2dCQUdELElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUM7Z0JBQzFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDO2dCQUNwQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQztnQkFDcEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUM7Z0JBQ3BDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDO2FBQ3ZDO1NBQ0o7S0FDSjs7SUFFRCxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRTtRQUNyQyxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUU7WUFDbEMsTUFBTSxJQUFJLEtBQUssQ0FBQyw2Q0FBNkMsQ0FBQyxDQUFDO1NBQ2xFOztRQUVELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUN2QyxNQUFNLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDakIsTUFBTSxPQUFPLEdBQUcsRUFBRSxDQUFDOztRQUVuQixPQUFPLFNBQVMsS0FBSyxTQUFTLEVBQUU7O1lBRTVCLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7OztZQUc5RixLQUFLLElBQUksR0FBRyxHQUFHLFNBQVMsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUU7Z0JBQzNDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQzs7O2dCQUcxQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLFNBQVM7Z0JBQ3RDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLFNBQVM7Z0JBQzFDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLFNBQVM7Z0JBQzFDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLFNBQVM7O2dCQUUxQyxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsRUFBRTtvQkFDL0IsSUFBSSxRQUFRLEtBQUssU0FBUyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTt3QkFDM0MsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztxQkFDdkI7O2lCQUVKLE1BQU07b0JBQ0gsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDckI7YUFDSjs7WUFFRCxTQUFTLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRSxDQUFDO1NBQzNCOztRQUVELE9BQU8sT0FBTyxDQUFDO0tBQ2xCOztJQUVELFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsR0FBRyxRQUFRLEVBQUUsV0FBVyxHQUFHLFFBQVEsRUFBRSxRQUFRLEVBQUU7UUFDckUsSUFBSSxJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFO1lBQ2xDLE1BQU0sSUFBSSxLQUFLLENBQUMsNkNBQTZDLENBQUMsQ0FBQztTQUNsRTs7UUFFRCxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDdkMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUN0QixNQUFNLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDbkIsTUFBTSxjQUFjLEdBQUcsV0FBVyxHQUFHLFdBQVcsQ0FBQzs7UUFFakQsT0FBTyxTQUFTLEtBQUssU0FBUyxFQUFFOztZQUU1QixNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsRUFBRSxVQUFVLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDOzs7WUFHOUYsS0FBSyxJQUFJLEdBQUcsR0FBRyxTQUFTLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFO2dCQUMzQyxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7O2dCQUUxQyxNQUFNLEVBQUUsR0FBRyxRQUFRLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDL0QsTUFBTSxFQUFFLEdBQUcsUUFBUSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNuRSxNQUFNLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7O2dCQUUvQixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsRUFBRTtvQkFDL0IsSUFBSSxRQUFRLEtBQUssU0FBUyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTs7d0JBRTNDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO3FCQUM1QjtpQkFDSixNQUFNO29CQUNILENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO2lCQUN2QjthQUNKOzs7WUFHRCxPQUFPLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRTtnQkFDN0IsTUFBTSxJQUFJLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDO2dCQUMzQixJQUFJLElBQUksR0FBRyxjQUFjLEVBQUU7b0JBQ3ZCLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztvQkFDVixPQUFPLE9BQU8sQ0FBQztpQkFDbEI7Z0JBQ0QsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQzs7Z0JBRTNCLElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxVQUFVLEVBQUU7b0JBQy9CLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztvQkFDVixPQUFPLE9BQU8sQ0FBQztpQkFDbEI7YUFDSjs7WUFFRCxTQUFTLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1NBQ3ZCOztRQUVELENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNWLE9BQU8sT0FBTyxDQUFDO0tBQ2xCO0NBQ0o7O0FBRUQsU0FBUyxRQUFRLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7SUFDM0IsT0FBTyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztDQUNyRDs7O0FBR0QsU0FBUyxVQUFVLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRTtJQUM1QixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDVixJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUN2QixPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDVixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3ZCLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssRUFBRTtZQUNoQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ1QsTUFBTTtZQUNILENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ2I7S0FDSjtJQUNELE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ2pCOzs7QUFHRCxTQUFTLElBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRTtJQUN6RCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxFQUFFLE9BQU87O0lBRXhFLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxDQUFDLElBQUksR0FBRyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDMUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQztJQUNqQixJQUFJLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDOztJQUVsQixPQUFPLElBQUksRUFBRTtRQUNULEdBQUcsQ0FBQyxFQUFFLENBQUMsUUFBUSxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxFQUFFO1FBQ2xDLEdBQUcsQ0FBQyxFQUFFLENBQUMsUUFBUSxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxFQUFFO1FBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNO1FBQ2xCLElBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7S0FDdEM7O0lBRUQsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDaEQsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0NBQ3hEOzs7QUFHRCxTQUFTLElBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ3hDLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2QixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RCLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7O0lBRWpCLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDaEIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQzs7SUFFaEIsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ25CLE1BQU0sQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDdkIsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN2QixNQUFNLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3ZCLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDcEIsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzVCLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUM1QixLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDNUIsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNiLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pCLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pCLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDOztJQUVqQixNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckIsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4QixPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0NBQ2xCOzs7O0FBSUQsU0FBUyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUNuQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2QsSUFBSSxDQUFDLEdBQUcsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUNuQixJQUFJLENBQUMsR0FBRyxNQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3pCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUM7O0lBRXpCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDckIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNyQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7O0lBRXhDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDM0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0QyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVDLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7SUFFN0MsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMzQixDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2QyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOztJQUU3QyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzNCLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7SUFFN0MsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDakIsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7O0lBRWpCLElBQUksRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDZixJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksTUFBTSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDOztJQUVqQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FB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QUFDO0NBQ25COztBQUVELFNBQVMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDbEIsQ0FBQyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xDLENBQUMsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsQyxDQUFDLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEMsQ0FBQyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xDLE9BQU8sQ0FBQyxDQUFDO0NBQ1o7O0FBRUQsU0FBUyxlQUFlLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDMUQsU0FBUyxlQUFlLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUU7O0FBRTFELFNBQVMsUUFBUSxDQUFDLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRTtBQUN4RSxTQUFTLFVBQVUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFD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RyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssRUFBRSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3hHLE1BQU0sS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsS0FBSyxHQUFHLEtBQUssRUFBRSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxDQUFDOztJQUV4RyxNQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDOztJQUUvRSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3BDLElBQUksQ0FBQyxHQUFHLFNBQVMsR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxTQUFTLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLE1BQU0sR0FBRyxJQUFJLENBQUM7SUFDcEYsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ2YsSUFBSSxJQUFJLEdBQUcsSUFBSSxFQUFFLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDNUIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDOztJQUViLElBQUksRUFBRSxHQUFHLElBQUksRUFBRSxVQUFVLEdBQUcsQ0FBQyxDQUFDO0lBQzlCLEdBQUc7UUFDQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQixJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQixNQUFNLEdBQUcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxLQUFLLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxJQUFJLEtBQUssS0FBSyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQzNILElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUMsT0FBTyxFQUFFLE1BQU07UUFDN0MsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDekIsSUFBSSxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUM7UUFDNUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzNCLElBQUksR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUM7UUFDbkMsTUFBTSxHQUFHLENBQUMsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLE1BQU0sR0FBRyxDQUFDLE1BQU0sSUFBSSxDQUFDLEtBQUssSUFBSSxHQUFHLENBQUMsR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLE1BQU0sSUFBSSxDQUFDLENBQUM7UUFDakUsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ2pELEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDUCxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxJQUFJLE1BQU0sR0FBRyxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9GLE1BQU0sY0FBYyxHQUFHLFNBQVMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2RSxJQUFJLGNBQWMsR0FBRyxJQUFJLENBQUMsRUFBRSxFQUFFLE1BQU0sSUFBSSxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDOUQsUUFBUSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxJQUFJLElBQUksRUFBRSxVQUFVLEdBQUcsSUFBSSxFQUFFO0lBQ3pELElBQUksVUFBVSxJQUFJLElBQUksRUFBRSxNQUFNLElBQUksU0FBUyxDQUFDLHFDQUFxQyxDQUFDLENBQUM7O0lBRW5GLE1BQU0sR0FBRyxHQUFHLE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDL0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxLQUFLLElBQUksSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUUsTUFBTSxDQUFDLEdBQUcsR0FBRyxHQUFHLElBQUksSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNwRSxNQUFNLEVBQUUsR0FBRyxDQUFDLEdBQUcsSUFBSSxJQUFJLE1BQU0sR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUN0RSxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDOztJQUUzRSxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQzs7Ozs7O0lBTTNCLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsTUFBTSxDQUFDLE9BQU8sR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQztJQUNsSCxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUM7O0lBRXpILE9BQU87UUFDSCxRQUFRLEVBQUUsQ0FBQztRQUNYLGNBQWMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxPQUFPLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQ3JFLFlBQVksRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxPQUFPLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQ25FLFVBQVUsRUFBRSxVQUFVO0tBQ3pCLENBQUM7Q0FDTDs7QUFFRCxJQUFJLFNBQVMsR0FBRztJQUNaLE9BQU87Q0FDVixDQUFDOztBQUVGLE1BQU0sS0FBSyxDQUFDO0lBQ1IsV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7UUFDZCxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ2hCLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQzs7WUFFOUQsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztLQUNqQzs7SUFFRCxPQUFPLENBQUMsRUFBRSxFQUFFLFVBQVUsRUFBRTtRQUNwQixNQUFNLE9BQU8sR0FBRztZQUNaLElBQUksRUFBRSxTQUFTO1lBQ2YsRUFBRTtZQUNGLFVBQVUsRUFBRSxVQUFVLElBQUksRUFBRTtZQUM1QixRQUFRLEVBQUU7Z0JBQ04sSUFBSSxFQUFFLE9BQU87Z0JBQ2IsV0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO2FBQ2hDO1NBQ0osQ0FBQztRQUNGLE9BQU8sT0FBTyxDQUFDO0tBQ2xCOztJQUVELFFBQVEsR0FBRztRQUNQLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztLQUN6Qzs7SUFFRCxVQUFVLENBQUMsS0FBSyxFQUFFO1FBQ2QsSUFBSSxLQUFLLFlBQVksS0FBSztZQUN0QixRQUFRLElBQUksQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUU7UUFDcEQsSUFBSSxLQUFLLFlBQVksR0FBRztZQUNwQixPQUFPLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEMsT0FBTyxtQ0FBbUMsRUFBRTtLQUMvQzs7SUFFRCxhQUFhLENBQUMsQ0FBQyxFQUFFO1FBQ2IsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDbkM7O0lBRUQsZ0JBQWdCLENBQUMsQ0FBQyxFQUFFO1FBQ2hCLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFCLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFCLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDNUMsTUFBTSxFQUFFLEdBQUcsU0FBUyxHQUFHLFFBQVEsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDaEYsTUFBTSxFQUFFLEdBQUcsU0FBUyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUM5RixNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ25FLE9BQU8sQ0FBQyxDQUFDO0tBQ1o7O0lBRUQsZ0JBQWdCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRTtRQUNyQixNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2RixNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNwRCxPQUFPLElBQUksS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztLQUM5Qjs7SUFFRCxzQkFBc0IsQ0FBQyxDQUFDLEVBQUU7UUFDdEIsT0FBTyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUM7S0FDOUM7Q0FDSjs7QUFFRCxNQUFNLEtBQUssQ0FBQztJQUNSLFdBQVcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFO1FBQ2QsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztLQUM3Qjs7SUFFRCxLQUFLLEdBQUc7UUFDSixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ3hDOztJQUVELE1BQU0sR0FBRztRQUNMLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDL0U7O0lBRUQsSUFBSSxHQUFHO1FBQ0gsT0FBTyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDcEg7O0lBRUQsS0FBSyxHQUFHO1FBQ0osT0FBTyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDbkg7O0lBRUQsUUFBUSxDQUFDLENBQUMsRUFBRTtRQUNSLE9BQU8sSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUM7S0FDckM7O0lBRUQsUUFBUSxHQUFHO1FBQ1AsT0FBTyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDaEM7Q0FDSjs7QUFFRCxNQUFNLEdBQUcsQ0FBQztJQUNOLFdBQVcsQ0FBQyxDQUFDLEVB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TyxXQUFXLENBQUM7Q0FDdEI7O0FBRUQsU0FBUyxzQkFBc0IsQ0FBQyxLQUFLLEVBQUU7SUFDbkMsSUFBSSxRQUFRLEdBQUcsRUFBRSxDQUFDO0lBQ2xCLElBQUksSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDO0lBQzNCLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7UUFDbEIsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNsQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMvQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMvQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2hELElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDbkQ7O0lBRUQsSUFBSSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDcEIsS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtRQUNsQixJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ3pCOztJQUVELElBQUksV0FBVyxHQUFHLENBQUMsQ0FBQztJQUNwQixLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDakIsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDbkIsTUFBTSxRQUFRLEdBQUcsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQyxXQUFXLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsUUFBUSxDQUFDLENBQUM7U0FDakQ7O0lBRUwsT0FBTyxXQUFXLENBQUM7Q0FDdEI7O0FBRUQsU0FBUyxlQUFlLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUU7SUFDOUMsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFDO0lBQ3BCLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1FBQzNCLE1BQU0sU0FBUyxHQUFHLE1BQU0sS0FBSyxTQUFTLEdBQUcsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDckUsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLEdBQUcsQ0FBQyxHQUFHLGVBQWUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLFNBQVMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDNUYsV0FBVyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLFNBQVMsR0FBRyxTQUFTLENBQUMsQ0FBQztLQUM5RDtJQUNELE9BQU8sV0FBVyxDQUFDO0NBQ3RCOztBQUVELFNBQVMsc0JBQXNCLENBQUMsS0FBSyxFQUFFO0lBQ25DLElBQUksUUFBUSxHQUFHLEVBQUUsQ0FBQztJQUNsQixJQUFJLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQztJQUMzQixJQUFJLElBQUksR0FBRyxFQUFFLENBQUM7SUFDZCxLQUFLLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRTtRQUNqQixJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsWUFBWSxLQUFLLEVBQUU7WUFDM0IsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUNsQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUMvQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUMvQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2hELElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDbkQsTUFBTSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsWUFBWSxPQUFPLEVBQUU7WUFDcEMsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekIsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUMsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMvQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLElB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RyxDQUFDLENBQUM7WUFDcEIsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7U0FDdkI7S0FDSjs7SUFFRCxLQUFLLElBQUksRUFBRSxJQUFJLEtBQUssRUFBRTtRQUNsQixNQUFNLENBQUMsR0FBRyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDdkIsTUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztRQUMvQixJQUFJLEtBQUssRUFBRSxHQUFHLENBQUM7UUFDZixLQUFLLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLENBQUMsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsU0FBUyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUN0RyxLQUFLLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLElBQUksR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQzdHLE1BQU0sU0FBUyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM5QyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQztRQUNwRixLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FB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
